{"remainingRequest":"/home/stoneage/VUE.JS Projects/Admin-panel/zebu-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/stoneage/VUE.JS Projects/Admin-panel/zebu-admin/src/views/contents/news.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/stoneage/VUE.JS Projects/Admin-panel/zebu-admin/src/views/contents/news.vue","mtime":1666013779320},{"path":"/home/stoneage/VUE.JS Projects/Admin-panel/zebu-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/stoneage/VUE.JS Projects/Admin-panel/zebu-admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/stoneage/VUE.JS Projects/Admin-panel/zebu-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/stoneage/VUE.JS Projects/Admin-panel/zebu-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IGNvbW1vbkZ1bmMgZnJvbSAiLi4vLi4vbWl4aW5zL2NvbW1vbkZ1bmN0aW9ucyI7CmV4cG9ydCBkZWZhdWx0IHsKICBtaXhpbnM6IFtjb21tb25GdW5jXSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRpYWxvZzogZmFsc2UsCiAgICAgIG5ld3NJbmZvOiAiIiwKICAgICAgaXNGb3JtVmFsaWQ6ICIiLAogICAgICB0b2tlbjogIiIsCiAgICAgIGhlYWRlcnM6IFsKICAgICAgICB7IHRleHQ6ICJTLk5PIiwgYWxpZ246ICJzdGFydCIsIHNvcnRhYmxlOiBmYWxzZSB9LAogICAgICAgIHsgdGV4dDogIlNvdXJjZSIsIHZhbHVlOiAic291cmNlIiwgc29ydGFibGU6IGZhbHNlIH0sCiAgICAgICAgeyB0ZXh0OiAiSGVhZExpbmUiLCB2YWx1ZTogImhlYWRMaW5lIiwgc29ydGFibGU6IGZhbHNlIH0sCiAgICAgICAgeyB0ZXh0OiAiU3ViamVjdCIsIHZhbHVlOiAic3ViamVjdCIsIHNvcnRhYmxlOiBmYWxzZSB9LAogICAgICAgIHsgdGV4dDogIkRhdGUiLCB2YWx1ZTogImRhdGUiLCBzb3J0YWJsZTogZmFsc2UgfSwKICAgICAgICB7IHRleHQ6ICJBY3Rpb25zIiwgYWxpZ246ICJjZW50ZXIiLCB2YWx1ZTogIiIsIHNvcnRhYmxlOiBmYWxzZSB9LAogICAgICBdLAogICAgfTsKICB9LAoKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyh7CiAgICAgIHNlYXJjaDogImdldFNlYXJjaCIsCiAgICB9KSwKICAgIC4uLm1hcEdldHRlcnMoJ25ld3MnLHsKICAgICAgbmV3c0xpc3Q6ICJnZXROZXdzRGF0YSIsCiAgICB9KSwKICB9LAoKICBtb3VudGVkKCkgewogICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goIm5ld3MvZ2V0TmV3cyIpOwogICAgdGhpcy5yYW5kb21OdW1iZXJHZW5lcmF0b3IoKQogIH0sCgogIG1ldGhvZHM6IHsKICAgIGFkZE9yRWRpdE5ld3Moa2V5KSB7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJhZGRPckVkaXROZXdzIiwgSlNPTi5zdHJpbmdpZnkoa2V5KSk7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvYWRkT3JFZGl0TmV3cyIpOwogICAgfSwKICAgIGNvbmZpcm1hdGlvbkFsZXJ0KHZhbCl7CiAgICAgdGhpcy5kaWFsb2cgPSB0cnVlCiAgICAgdGhpcy5uZXdzSW5mbyA9IHZhbAogICAgIGNvbnNvbGUubG9nKHZhbCk7CiAgICB9LAogICAgZGVsZXRlTmV3cyhrZXkpIHsKICAgICAgIHRoaXMuZGlhbG9nID0gZmFsc2UKICAgICAgaWYgKHRoaXMudG9rZW4gPT0gdGhpcy5pc0Zvcm1WYWxpZCkgewogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJuZXdzL2RlbGV0ZU5ld3MiLCB7IHNlY3RvcklkOiB0aGlzLm5ld3NJbmZvIH0pOwogICAgICB9CiAgICAgIGVsc2UgewogICAgICAgIHRoaXMuZGlhbG9nID0gdHJ1ZQogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiU0VUX1NOQUtCQVIiLCB7CiAgICAgICAgICBtc2c6ICJQbGVhc2UgZW50ZXIgdmFsaWQgY2FwdGNoYSIsCiAgICAgICAgICBzaG93OiB0cnVlLAogICAgICAgICAgY29sb3I6ICJyZWQgZGFya2VuLTEiLAogICAgICAgICAgdGltZW91dDogMzAwMCwKICAgICAgICB9KTsKICAgICAgfQogICAgICAvLyBsZXQganNvbm9iaiA9IHsKICAgICAgLy8gICBuZXdzSWQ6IHRoaXMubmV3c0luZm8sCiAgICAgIC8vIH07CiAgICAgIC8vIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJuZXdzL2RlbGV0ZU5ld3MiLCBqc29ub2JqKTsKICAgICAgLy8gdGhpcy5kaWFsb2cgPSBmYWxzZQogICAgfSwKICAgICAgIHJhbmRvbU51bWJlckdlbmVyYXRvcigpIHsKICAgICAgbGV0IHJhbmRvbVRva2VuID0gKE1hdGgucmFuZG9tKCkgKyAyKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDUpOwogICAgICB0aGlzLnRva2VuID0gcmFuZG9tVG9rZW4KICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["news.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"news.vue","sourceRoot":"src/views/contents","sourcesContent":["<template>\n  <div>\n    <v-row class=\"ma-0 pa-2 align-center\">\n      <v-col cols=\"2\" class=\"pa-0\">\n      </v-col>\n      <v-col class=\"pa-0\" cols=\"1\"></v-col>\n      <v-col cols=\"6\" class=\"pa-0\" style=\"height: 40px\">\n      </v-col>\n      <v-col class=\"pa-0\" cols=\"1\"></v-col>\n      <v-col cols=\"2\" class=\"pa-0 d-flex justify-end\">\n        <v-btn depressed color=\"primary\" class=\"text-capitalize\" min-width=\"155px\" @click=\"addOrEditNews('0')\">\n          Add News\n        </v-btn>\n      </v-col>\n    </v-row>\n\n    <v-data-table v-if=\"newsList.length != 0\" :headers=\"headers\" v-bind:items=\"newsList\" :search=\"search\" :value=\"newsList\" class=\"elevation-1 my-2 border-top\" id=\"table\" item-key=\"name\" single-select>\n      <template v-slot:item=\"props\">\n        <tr>\n          <td>{{ props.index + 1 }}</td>\n          <td class=\"min-w-120\">{{ props.item.source }}</td>\n          <td>{{ props.item.headLine }}</td>\n          <td>{{ props.item.subject }}</td>\n          <td class=\"min-w-120\">{{ getDateString(new Date(props.item.date.split(' ')[0]), \"d-M-y\") }}</td>\n          <td class=\"text-center min-w-120\"><v-icon class=\"pr-4\" medium @click=\"addOrEditNews(props.item.newsId)\"> mdi-pencil </v-icon>\n          <v-icon medium @click=\"confirmationAlert(props.item.newsId)\"> mdi-delete </v-icon>\n          </td>\n        </tr>\n      </template>\n    </v-data-table>\n\n    <div v-else>\n      <div class=\"text-center pa-5\">\n        <v-icon class=\"display-2 pb-4\">mdi-thought-bubble-outline</v-icon>\n        <div class=\"\">Data Not Found</div>\n      </div>\n    </div>\n    \n    <template v-bind:items=\"sectorList\">\n      <v-layout row justify-center>\n        <v-dialog v-model=\"dialog\" persistent max-width=\"290\">\n          <v-card>\n            <v-card-title class=\"text-h5 fsize13\" style=\"font-size: 21px !important;\">\n              Are you sure you want to delete this news ?\n            </v-card-title>\n           <v-card-text>Please type <span style=\"font-weight: bold; color: black;\">{{ this.token }}</span> to confirm ?\n            </v-card-text>\n            <div class=\"px-6\">\n              <v-text-field label=\"Enter Captcha\" v-model=\"isFormValid\"></v-text-field>\n            </div>\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn color=\"blue darken-1\" text @click=\"dialog = false\">\n                Close\n              </v-btn>\n              <v-btn color=\"red darken-1\" text :disabled=\"!isFormValid\" @click=\"deleteNews()\">\n                YES, Delete\n              </v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n      </v-layout>\n    </template>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport commonFunc from \"../../mixins/commonFunctions\";\nexport default {\n  mixins: [commonFunc],\n\n  data() {\n    return {\n      dialog: false,\n      newsInfo: \"\",\n      isFormValid: \"\",\n      token: \"\",\n      headers: [\n        { text: \"S.NO\", align: \"start\", sortable: false },\n        { text: \"Source\", value: \"source\", sortable: false },\n        { text: \"HeadLine\", value: \"headLine\", sortable: false },\n        { text: \"Subject\", value: \"subject\", sortable: false },\n        { text: \"Date\", value: \"date\", sortable: false },\n        { text: \"Actions\", align: \"center\", value: \"\", sortable: false },\n      ],\n    };\n  },\n\n  computed: {\n    ...mapGetters({\n      search: \"getSearch\",\n    }),\n    ...mapGetters('news',{\n      newsList: \"getNewsData\",\n    }),\n  },\n\n  mounted() {\n    this.$store.dispatch(\"news/getNews\");\n    this.randomNumberGenerator()\n  },\n\n  methods: {\n    addOrEditNews(key) {\n      localStorage.setItem(\"addOrEditNews\", JSON.stringify(key));\n      this.$router.push(\"/addOrEditNews\");\n    },\n    confirmationAlert(val){\n     this.dialog = true\n     this.newsInfo = val\n     console.log(val);\n    },\n    deleteNews(key) {\n       this.dialog = false\n      if (this.token == this.isFormValid) {\n        this.$store.dispatch(\"news/deleteNews\", { sectorId: this.newsInfo });\n      }\n      else {\n        this.dialog = true\n        this.$store.commit(\"SET_SNAKBAR\", {\n          msg: \"Please enter valid captcha\",\n          show: true,\n          color: \"red darken-1\",\n          timeout: 3000,\n        });\n      }\n      // let jsonobj = {\n      //   newsId: this.newsInfo,\n      // };\n      // this.$store.dispatch(\"news/deleteNews\", jsonobj);\n      // this.dialog = false\n    },\n       randomNumberGenerator() {\n      let randomToken = (Math.random() + 2).toString(36).substring(5);\n      this.token = randomToken\n    }\n  }\n};\n</script>\n\n"]}]}