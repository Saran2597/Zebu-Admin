{"remainingRequest":"/home/stoneage/VUE.JS Projects/Admin-panel/zebu-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/stoneage/VUE.JS Projects/Admin-panel/zebu-admin/src/views/contents/holdingsList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/stoneage/VUE.JS Projects/Admin-panel/zebu-admin/src/views/contents/holdingsList.vue","mtime":1668528462251},{"path":"/home/stoneage/VUE.JS Projects/Admin-panel/zebu-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/stoneage/VUE.JS Projects/Admin-panel/zebu-admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/stoneage/VUE.JS Projects/Admin-panel/zebu-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/stoneage/VUE.JS Projects/Admin-panel/zebu-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IGNvbW1vbkZ1bmMgZnJvbSAiLi4vLi4vbWl4aW5zL2NvbW1vbkZ1bmN0aW9ucyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiaG9sZGluZ3NMaXN0IiwKICBtaXhpbnM6IFtjb21tb25GdW5jXSwKICBkYXRhOiAoKSA9PiAoewogICAgdXNlcklkOiAiIiwKICAgIGF1dGhmbGFnOiAiIiwKICAgIHBvYVN0YXR1czogIiIsCiAgICBob2xkaW5nc0RldGFpbHM6IGZhbHNlLAogICAgcG9hc3RhdHVzOiBbIlkiLCAiTiJdLAogICAgYXV0aGZsYWdpZDogWzAsIDFdLAogICAgaGVhZGVyczogWwogICAgICB7CiAgICAgICAgdGV4dDogIlN5bWJvbCIsCiAgICAgICAgYWxpZ246ICJsZWZ0IiwKICAgICAgICBzb3J0YWJsZTogZmFsc2UsCiAgICAgICAgdmFsdWU6ICJzeW1ib2wiLAogICAgICB9LAogICAgICB7CiAgICAgICAgdGV4dDogIlFUWS4iLAogICAgICAgIGFsaWduOiAiY2VudGVyIiwKICAgICAgICBzb3J0YWJsZTogZmFsc2UsCiAgICAgICAgdmFsdWU6ICJxdWFudGl0eSIsCiAgICAgIH0sCiAgICAgIHsKICAgICAgICB0ZXh0OiAiQ3JlYXRlZCBPbiIsCiAgICAgICAgYWxpZ246ICJjZW50ZXIiLAogICAgICAgIHNvcnRhYmxlOiBmYWxzZSwKICAgICAgICB2YWx1ZTogImNyZWF0ZWRfb24iLAogICAgICB9LAogICAgICB7CiAgICAgICAgdGV4dDogIkJ1eSBBdmVyYWdlIiwKICAgICAgICBhbGlnbjogImNlbnRlciIsCiAgICAgICAgc29ydGFibGU6IGZhbHNlLAogICAgICAgIHZhbHVlOiAiYnV5X2F2ZyIsCiAgICAgIH0sCiAgICAgIHsKICAgICAgICB0ZXh0OiAiQnV5IFZhbHVlIiwKICAgICAgICBhbGlnbjogImNlbnRlciIsCiAgICAgICAgc29ydGFibGU6IGZhbHNlLAogICAgICAgIHZhbHVlOiAiYnV5X3ZhbHVlIiwKICAgICAgfSwKICAgICAgewogICAgICAgIHRleHQ6ICJQT0EgU3RhdHVzIiwKICAgICAgICBhbGlnbjogImNlbnRlciIsCiAgICAgICAgc29ydGFibGU6IGZhbHNlLAogICAgICAgIHZhbHVlOiAicG9hX3N0YXR1cyIsCiAgICAgIH0sCiAgICAgIHsKICAgICAgICB0ZXh0OiAiQXV0aCBGbGFnIiwKICAgICAgICBhbGlnbjogImNlbnRlciIsCiAgICAgICAgc29ydGFibGU6IGZhbHNlLAogICAgICAgIHZhbHVlOiAiYXV0aF9mbGFnIiwKICAgICAgfSwKICAgICAgewogICAgICAgIHRleHQ6ICJJU0lOIE5vIiwKICAgICAgICBhbGlnbjogImNlbnRlciIsCiAgICAgICAgc29ydGFibGU6IGZhbHNlLAogICAgICAgIHZhbHVlOiAiaXNpbiIsCiAgICAgIH0sCiAgICAgIHsKICAgICAgICB0ZXh0OiAiSG9sZGluZ3MgVHlwZSIsCiAgICAgICAgYWxpZ246ICJjZW50ZXIiLAogICAgICAgIHNvcnRhYmxlOiBmYWxzZSwKICAgICAgICB2YWx1ZTogImhvbGRpbmdzX3R5cGUiLAogICAgICB9LAogICAgXSwKICAgIGZvcm1WYWxpZDogdHJ1ZSwKICAgIGV4cGlyeURhdGU6ICIiLAogICAgZGF0ZU1lbnU6IGZhbHNlLAogICAgdXNlcklkUnVsZXM6IFsKICAgICAgKHYpID0+ICEhdiB8fCAiVXNlciBJZCBpcyByZXF1aXJlZCIsCiAgICAgICh2KSA9PgogICAgICAgICh2ICYmIHYubGVuZ3RoID49IDIpIHx8ICJVc2VyIElkIG11c3QgYmUgZ3JlYXRlciB0aGFuIDIgY2hhcmFjdGVycyIsCiAgICBdLAogICAgbm93RGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKSwKICAgIGRhdGU6IG5ldyBEYXRlKCksCiAgICBwaWNrZXI6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApLAogICAgbGFuZHNjYXBlOiBmYWxzZSwKICAgIHJlYWN0aXZlOiBmYWxzZSwKICB9KSwKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyh7CiAgICAgIGxvYWRpbmc6ICJnZXRMb2FkZXIiLAogICAgICBzZWFyY2g6ICJnZXRTZWFyY2giLAogICAgfSksCiAgICAuLi5tYXBHZXR0ZXJzKAogICAgICAidXBsb2FkRmlsZSIsCiAgICAgIHsgaG9sZGluZ3NMaXN0OiAiZ2V0SG9sZGluZ3NMaXN0IiB9LAogICAgICB7IHVzZXJpZDogInVzZXJEZXRhaWxzIiB9CiAgICApLAogICAgY29tcHV0ZWREYXRlRm9ybWF0dGVkOiB7CiAgICAgIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXREYXRlKHRoaXMuZXhwaXJ5RGF0ZSk7CiAgICAgIH0sCiAgICAgIHNldCgpIHsgfSwKICAgIH0sCiAgfSwKICBtb3VudGVkKCkgeyB9LAogIG1ldGhvZHM6IHsKICAgIGdldEhvbGRpbmdzTGlzdCgpIHsKICAgICAgaWYgKHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpKSB7CiAgICAgICAgbGV0IGpzb25PYmogPSB7CiAgICAgICAgICB1c2VySWQ6IHRoaXMudXNlcklkLAogICAgICAgICAgY3JlYXRlZE9uOiB0aGlzLmV4cGlyeURhdGUsCiAgICAgICAgfTsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgidXBsb2FkRmlsZS9nZXRIb2xkaW5nc0xpc3QiLCBqc29uT2JqKTsKICAgICAgfQogICAgfSwKICAgIGdldFBvYVVwZGF0ZSgpIHsKICAgICAgbGV0IGpzb24gPSB7CiAgICAgICAgdXNlcklkOiB0aGlzLnVzZXJJZCwKICAgICAgICBQb2FzdGF0dXM6IHRoaXMucG9hU3RhdHVzLAogICAgICB9OwogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgidXBsb2FkRmlsZS91cGRhdGVQT0EiLCBqc29uKTsKICAgIH0sCiAgICBnZXRVcGRhdGVBdXRoZmxhZygpIHsKICAgICAgbGV0IGpzb25PYmogPSB7CiAgICAgICAgdXNlcklkOiB0aGlzLnVzZXJJZCwKICAgICAgICBhdXRoRmxhZzogdGhpcy5hdXRoZmxhZywKICAgICAgfTsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInVwbG9hZEZpbGUvdXBkYXRlQXV0aEZsYWciLCBqc29uT2JqKTsKICAgIH0sCiAgICBmb3JtYXREYXRlKGRhdGUpIHsKICAgICAgaWYgKCFkYXRlKSByZXR1cm4gbnVsbDsKICAgICAgY29uc3QgW3llYXIsIG1vbnRoLCBkYXldID0gZGF0ZS5zcGxpdCgiLSIpOwogICAgICByZXR1cm4gYCR7ZGF5fS8ke21vbnRofS8ke3llYXJ9YDsKICAgIH0sCiAgICBlZGl0SXRlbSgpIHsKICAgICAgdGhpcy5ob2xkaW5nc0RldGFpbHMgPSAhdGhpcy5ob2xkaW5nc0RldGFpbHM7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["holdingsList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"holdingsList.vue","sourceRoot":"src/views/contents","sourcesContent":["<template>\n  <div>\n    <v-form class=\"d-flex align-center\" ref=\"form\" v-model=\"formValid\" @submit.prevent=\"getHoldingsList()\">\n      <v-row class=\"ma-0 pa-4 align-center\">\n        <v-col cols=\"12\" sm=\"2\" lg=\"2\">\n          <div class=\"pb-2 fsize14\">User Id</div>\n          <v-text-field dense outlined v-model=\"userId\" @input=\"userId = userId.toUpperCase()\"\n            placeholder=\"Enter User Id\" :rules=\"userIdRules\"></v-text-field>\n        </v-col>\n        <v-col cols=\"12\" sm=\"2\" lg=\"2\">\n          <div class=\"pb-1\">Date</div>\n          <v-menu v-model=\"dateMenu\" :close-on-content-click=\"false\" transition=\"scale-transition\" offset-y\n            max-width=\"290px\" min-width=\"auto\">\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-text-field @click:append=\"dateMenu = true\" @click:clear=\"expiryDate = ''\" clearable\n                v-model=\"computedDateFormatted\" outlined persistent-hint :menu-props=\"{ bottom: true, offsetY: true }\"\n                placeholder=\"Select the To Date\" append-icon=\"mdi-calendar\" dense v-bind=\"attrs\" v-on=\"on\">\n              </v-text-field>\n            </template>\n            <v-date-picker v-model=\"expiryDate\" :max=\"nowDate\" :show-current=\"true\" no-title @input=\"dateMenu = false\">\n            </v-date-picker>\n          </v-menu>\n        </v-col>\n        <v-col cols=\"12\" sm=\"2\" lg=\"2\">\n          <div>\n            <v-btn :loading=\"loading\" height=\"40\" depressed type=\"submit\" color=\"primary\"\n              class=\"fsize12 text-capitalize\">Submit</v-btn>\n          </div>\n        </v-col>\n\n        <v-col cols=\"12\" sm=\"6\">\n          <div class=\"d-flex justify-end\" v-if=\"holdingsList.length > 0\">\n            <v-btn height=\"32\" class=\"ma-2 text-capitalize\" outlined large color=\"#2196F3FF\" @click=\"editItem()\">\n              <v-icon class=\"mr-2\" small>mdi-pencil</v-icon>\n              Edit\n            </v-btn>\n            <div class=\"pr-4 pl-0 mt-2\">\n              <v-btn height=\"32\" @click=\"downloadUnicodeCSV(holdingsList)\" depressed min-width=\"fit-content\"\n                color=\"primary\" class=\"text-capitalize\">\n                Download <v-icon class=\"mx-2 fsize18\">mdi-cloud-download </v-icon>\n              </v-btn>\n            </div>\n          </div>\n        </v-col>\n      </v-row>\n    </v-form>\n\n    <!-- update auth flag -->\n    <v-row class=\"ma-0 pa-4 align-center\" v-if=\"holdingsList.length > 0 && holdingsDetails\">\n      <v-col cols=\"12\" sm=\"2\" lg=\"2\">\n        <div>\n          <label class=\"fsize14\">Update Auth Flag</label>\n          <v-select dense height=\"40\" class=\"select mt-2\" :items=\"authflagid\" label=\"\" v-model=\"authflag\" outlined>\n          </v-select>\n        </div>\n      </v-col>\n      <v-col cols=\"12\" sm=\"2\" lg=\"1\">\n        <div class=\"px-5\">\n          <v-btn height=\"40\" depressed type=\"submit\" color=\"primary\" class=\"fsize12 text-capitalize\"\n            @click=\"getUpdateAuthflag()\">Update</v-btn>\n        </div>\n      </v-col>\n      <v-col cols=\"12\" sm=\"2\" lg=\"2\">\n        <div>\n          <label class=\"fsize14\">Update POA Status</label>\n          <v-select dense height=\"40\" class=\"select mt-2\" :items=\"poastatus\" v-model=\"poaStatus\" outlined></v-select>\n        </div>\n      </v-col>\n      <v-col cols=\"12\" sm=\"2\" lg=\"2\">\n        <div class=\"px-5\">\n          <v-btn height=\"40\" depressed type=\"submit\" color=\"primary\" class=\"fsize12 text-capitalize\"\n            @click=\"getPoaUpdate()\">Update</v-btn>\n        </div>\n      </v-col>\n\n    </v-row>\n    <v-simple-table id=\"tableData\" v-if=\"holdingsList.length > 0\" class=\"my-5\">\n      <thead>\n        <tr class=\"tableRow\">\n          <th class=\"fsize12 font-weight-normal tableContent\">Symbol</th>\n          <th class=\"text-center fsize12 font-weight-normal tableContent\">QTY.</th>\n          <th class=\"text-center fsize12 font-weight-normal tableContent\">Buy Average</th>\n          <th class=\"text-center fsize12 font-weight-normal tableContent\">Buy Value</th>\n          <th class=\"text-center fsize12 font-weight-normal tableContent\">POA Status</th>\n          <th class=\"text-center fsize12 font-weight-normal tableContent\">Auth Flag</th>\n          <th class=\"text-center fsize12 font-weight-normal tableContent\">ISIN Number</th>\n          <th class=\"text-center fsize12 font-weight-normal tableContent\">Holdings Type</th>\n          <th class=\"text-center fsize12 font-weight-normal tableContent\">Req ID</th>\n          <th class=\"text-center fsize12 font-weight-normal tableContent\">Txn ID</th>\n          <th class=\"text-center fsize12 font-weight-normal tableContent\">Created On</th>\n          <th class=\"text-center fsize12 font-weight-normal tableContent\">Updated On</th>\n        </tr>\n\n      </thead>\n      <tbody>\n        <tr class=\"tableRow\" v-for=\"(i, idex) in holdingsList\" :key=\"idex\">\n          <td class=\"tableContent\">{{ i.symbol }}</td>\n          <td class=\"text-center tableContent\">{{ i.quantity }}</td>\n          <td class=\"text-center tableContent\">{{ i.buy_avg }}</td>\n          <td class=\"text-center tableContent\">{{ i.buy_value }}</td>\n          <td class=\"text-center tableContent\">{{ i.poa_status }}</td>\n          <td class=\"text-center tableContent\">{{ i.auth_flag }}</td>\n          <td class=\"text-center tableContent\">{{ i.isin }}</td>\n          <td class=\"text-center tableContent\">{{ i.holdings_type }}</td>\n          <td class=\"text-center tableContent\">{{ i.req_id }}</td>\n          <td class=\"text-center tableContent\">{{ i.txn_id }}</td>\n          <td class=\"text-center tableContent\">{{ i.created_on ? getDateString(new Date(i.created_on.split(' ')[0]),\n              \"d-M-y\") : ''\n          }}</td>\n          <td class=\"text-center tableContent\">{{ i.updated_on }}</td>\n        </tr>\n      </tbody>\n\n    </v-simple-table>\n\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport commonFunc from \"../../mixins/commonFunctions\";\nexport default {\n  name: \"holdingsList\",\n  mixins: [commonFunc],\n  data: () => ({\n    userId: \"\",\n    authflag: \"\",\n    poaStatus: \"\",\n    holdingsDetails: false,\n    poastatus: [\"Y\", \"N\"],\n    authflagid: [0, 1],\n    headers: [\n      {\n        text: \"Symbol\",\n        align: \"left\",\n        sortable: false,\n        value: \"symbol\",\n      },\n      {\n        text: \"QTY.\",\n        align: \"center\",\n        sortable: false,\n        value: \"quantity\",\n      },\n      {\n        text: \"Created On\",\n        align: \"center\",\n        sortable: false,\n        value: \"created_on\",\n      },\n      {\n        text: \"Buy Average\",\n        align: \"center\",\n        sortable: false,\n        value: \"buy_avg\",\n      },\n      {\n        text: \"Buy Value\",\n        align: \"center\",\n        sortable: false,\n        value: \"buy_value\",\n      },\n      {\n        text: \"POA Status\",\n        align: \"center\",\n        sortable: false,\n        value: \"poa_status\",\n      },\n      {\n        text: \"Auth Flag\",\n        align: \"center\",\n        sortable: false,\n        value: \"auth_flag\",\n      },\n      {\n        text: \"ISIN No\",\n        align: \"center\",\n        sortable: false,\n        value: \"isin\",\n      },\n      {\n        text: \"Holdings Type\",\n        align: \"center\",\n        sortable: false,\n        value: \"holdings_type\",\n      },\n    ],\n    formValid: true,\n    expiryDate: \"\",\n    dateMenu: false,\n    userIdRules: [\n      (v) => !!v || \"User Id is required\",\n      (v) =>\n        (v && v.length >= 2) || \"User Id must be greater than 2 characters\",\n    ],\n    nowDate: new Date().toISOString().slice(0, 10),\n    date: new Date(),\n    picker: new Date().toISOString().substr(0, 10),\n    landscape: false,\n    reactive: false,\n  }),\n  computed: {\n    ...mapGetters({\n      loading: \"getLoader\",\n      search: \"getSearch\",\n    }),\n    ...mapGetters(\n      \"uploadFile\",\n      { holdingsList: \"getHoldingsList\" },\n      { userid: \"userDetails\" }\n    ),\n    computedDateFormatted: {\n      get() {\n        return this.formatDate(this.expiryDate);\n      },\n      set() { },\n    },\n  },\n  mounted() { },\n  methods: {\n    getHoldingsList() {\n      if (this.$refs.form.validate()) {\n        let jsonObj = {\n          userId: this.userId,\n          createdOn: this.expiryDate,\n        };\n        this.$store.dispatch(\"uploadFile/getHoldingsList\", jsonObj);\n      }\n    },\n    getPoaUpdate() {\n      let json = {\n        userId: this.userId,\n        Poastatus: this.poaStatus,\n      };\n      this.$store.dispatch(\"uploadFile/updatePOA\", json);\n    },\n    getUpdateAuthflag() {\n      let jsonObj = {\n        userId: this.userId,\n        authFlag: this.authflag,\n      };\n      this.$store.dispatch(\"uploadFile/updateAuthFlag\", jsonObj);\n    },\n    formatDate(date) {\n      if (!date) return null;\n      const [year, month, day] = date.split(\"-\");\n      return `${day}/${month}/${year}`;\n    },\n    editItem() {\n      this.holdingsDetails = !this.holdingsDetails;\n    },\n  },\n};\n</script>\n\n"]}]}