{"remainingRequest":"/home/stoneage/VUE.JS Projects/Admin-panel/zebu-admin/node_modules/babel-loader/lib/index.js!/home/stoneage/VUE.JS Projects/Admin-panel/zebu-admin/src/store/modules/ssoLogin.js","dependencies":[{"path":"/home/stoneage/VUE.JS Projects/Admin-panel/zebu-admin/src/store/modules/ssoLogin.js","mtime":1668528462247},{"path":"/home/stoneage/VUE.JS Projects/Admin-panel/zebu-admin/babel.config.js","mtime":1654503973575},{"path":"/home/stoneage/VUE.JS Projects/Admin-panel/zebu-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/stoneage/VUE.JS Projects/Admin-panel/zebu-admin/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvc3RvbmVhZ2UvVlVFLkpTIFByb2plY3RzL0FkbWluLXBhbmVsL3plYnUtYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvaG9tZS9zdG9uZWFnZS9WVUUuSlMgUHJvamVjdHMvQWRtaW4tcGFuZWwvemVidS1hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC1zZWFyY2gtcGFyYW1zLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnRpbWVycy5qcyI7CmltcG9ydCBzZXJ2aWNlIGZyb20gIi4uL2h0dHBTZXJ2aWNlIjsKaW1wb3J0IHJvdXRlciBmcm9tICJAL3JvdXRlciI7CnZhciBhdXRoID0gewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHt9LAogIG11dGF0aW9uczoge30sCiAgYWN0aW9uczogewogICAgZ2V0RGF0YTogZnVuY3Rpb24gZ2V0RGF0YShfcmVmKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgdXJpLCBwYXJhbXMsIGF1dGhjb2RlLCB1c2VySWQsIGpzb24sIHJlc3BvbnNlOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE7CiAgICAgICAgICAgICAgICB1cmkgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoLnN1YnN0cmluZygxKTsKICAgICAgICAgICAgICAgIHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXModXJpKTsKICAgICAgICAgICAgICAgIGF1dGhjb2RlID0gcGFyYW1zLmdldCgiYXV0aENvZGUiKTsKICAgICAgICAgICAgICAgIHVzZXJJZCA9IHBhcmFtcy5nZXQoJ3VzZXJJZCcpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocGFyYW1zLmdldCgiYXV0aENvZGUiKSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhwYXJhbXMuZ2V0KCJ2ZW5kb3IiKSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhwYXJhbXMuZ2V0KCJyZWRpcmVjdFVybCIpKTsgLy8gbGV0IGpzb24gPSB7CiAgICAgICAgICAgICAgICAvLyAgICAgYnJva2VyTmFtZTogIkFsaWNlYmx1ZSIsCiAgICAgICAgICAgICAgICAvLyAgICAgYXV0aENvZGU6IHBhcmFtcy5nZXQoImF1dGhDb2RlIiksCiAgICAgICAgICAgICAgICAvLyAgICAgY2xpZW50SWQ6IHBhcmFtcy5nZXQoInVzZXJJZCIpLAogICAgICAgICAgICAgICAgLy8gfQogICAgICAgICAgICAgICAgLy8gbGV0IGpzb24gPSB7CiAgICAgICAgICAgICAgICAvLyAgIGF1dGhDb2RlOiBwYXJhbXMuZ2V0KCJhdXRoQ29kZSIpLAogICAgICAgICAgICAgICAgLy8gICB2ZW5kb3I6ICJHOUVPU1dDRUlGOUFSQ0IiLAogICAgICAgICAgICAgICAgLy8gfTsKCiAgICAgICAgICAgICAgICBqc29uID0gewogICAgICAgICAgICAgICAgICAidXNlcklkIjogdXNlcklkLAogICAgICAgICAgICAgICAgICAiYXV0aENvZGUiOiBhdXRoY29kZQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIHJldHVybiBzZXJ2aWNlLnNzb0xvZ2luKGpzb24pOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXQgPT09ICJPayIpIHsKICAgICAgICAgICAgICAgICAgLy8gbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJJZCcsIHJlc3BvbnNlLmRhdGEucmVzdWx0LmNsaWVudElkKTsKICAgICAgICAgICAgICAgICAgLy8gbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Nlc3Npb25JZCcsIHJlc3BvbnNlLmRhdGEucmVzdWx0LnNlc3Npb25JZCk7CiAgICAgICAgICAgICAgICAgIC8vIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdicm9rZXJOYW1lJywgcmVzcG9uc2UuZGF0YS5yZXN1bHQuYnJva2VyTmFtZSk7CiAgICAgICAgICAgICAgICAgIC8vIGNvbW1pdCgnU0VUX0xPR0lOREVUQUlMUycsIHJlc3BvbnNlLmRhdGEucmVzdWx0LCB7IHJvb3Q6IHRydWUgfSkKICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInVzZXJJZCIsIHJlc3BvbnNlLmRhdGEucmVzdWx0LmFkbWluTmFtZSk7CiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJzZXNzaW9uSWQiLCByZXNwb25zZS5kYXRhLnJlc3VsdC51c2VyU2Vzc2lvbklkKTsKICAgICAgICAgICAgICAgICAgY29tbWl0KCJTRVRfTE9HSU5ERVRBSUxTIiwgcmVzcG9uc2UuZGF0YSwgewogICAgICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKCIvZGFzaGJvYXJkIik7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBjb21taXQoIlNFVF9TTkFLQkFSIiwgewogICAgICAgICAgICAgICAgICAgIG1zZzogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLAogICAgICAgICAgICAgICAgICAgIHNob3c6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICJyZWQgbGlnaHRlbi0xIiwKICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiAyNTAwCiAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICByb290OiB0cnVlCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgYXBwY29kZSA9ICJUOENTVmVucnR5UjZnR3MiOwogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gImh0dHBzOi8vYTMuYWxpY2VibHVlb25saW5lLmNvbT9hcHBjb2RlPSIuY29uY2F0KGFwcGNvZGUpOwogICAgICAgICAgICAgICAgICB9LCAzNTAwKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxNzsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dC50MCk7CgogICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzEsIDE3XV0pOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIGdldHRlcnM6IHt9Cn07CmV4cG9ydCBkZWZhdWx0IGF1dGg7"},{"version":3,"names":["service","router","auth","namespaced","state","mutations","actions","getData","commit","uri","window","location","search","substring","params","URLSearchParams","authcode","get","userId","console","log","json","ssoLogin","response","data","stat","localStorage","setItem","result","adminName","userSessionId","root","push","msg","message","show","color","timeout","setTimeout","appcode","href","getters"],"sources":["/home/stoneage/VUE.JS Projects/Admin-panel/zebu-admin/src/store/modules/ssoLogin.js"],"sourcesContent":["import service from \"../httpService\";\nimport router from \"@/router\";\nconst auth = {\n  namespaced: true,\n  state: {\n    \n  },\n  mutations: {},\n  actions: {\n    async getData({\n      commit\n    }) {\n\n      try {\n        let uri = window.location.search.substring(1);\n        let params = new URLSearchParams(uri);\n        let authcode = params.get(\"authCode\")\n        let userId = params.get('userId')\n        console.log(params.get(\"authCode\"));\n        console.log(params.get(\"vendor\"));\n        console.log(params.get(\"redirectUrl\"));\n        // let json = {\n        //     brokerName: \"Aliceblue\",\n        //     authCode: params.get(\"authCode\"),\n        //     clientId: params.get(\"userId\"),\n        // }\n        // let json = {\n        //   authCode: params.get(\"authCode\"),\n        //   vendor: \"G9EOSWCEIF9ARCB\",\n        // };\n        let json = {\n          \"userId\": userId,\n          \"authCode\": authcode\n        };\n        const response = await service.ssoLogin(json);\n        if (response.data.stat === \"Ok\") {\n          // localStorage.setItem('userId', response.data.result.clientId);\n          // localStorage.setItem('sessionId', response.data.result.sessionId);\n          // localStorage.setItem('brokerName', response.data.result.brokerName);\n          // commit('SET_LOGINDETAILS', response.data.result, { root: true })\n          localStorage.setItem(\"userId\", response.data.result.adminName);\n          localStorage.setItem(\"sessionId\", response.data.result.userSessionId);\n          commit(\"SET_LOGINDETAILS\", response.data, {\n            root: true\n          });\n          router.push(\"/dashboard\");\n        } else {\n          commit(\n            \"SET_SNAKBAR\", {\n              msg: response.data.message,\n              show: true,\n              color: \"red lighten-1\",\n              timeout: 2500,\n            }, {\n              root: true\n            }\n          );\n          setTimeout(() => {\n            var appcode = \"T8CSVenrtyR6gGs\";\n            window.location.href = `https://a3.aliceblueonline.com?appcode=${appcode}`;\n          }, 3500);\n        }\n        console.log(response);\n      } catch (error) {\n        console.log(error);\n      }\n    },\n  },\n  getters: {\n   \n  },\n};\nexport default auth;"],"mappings":";;;;;;;;;AAAA,OAAOA,OAAP,MAAoB,gBAApB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,IAAMC,IAAI,GAAG;EACXC,UAAU,EAAE,IADD;EAEXC,KAAK,EAAE,EAFI;EAKXC,SAAS,EAAE,EALA;EAMXC,OAAO,EAAE;IACDC,OADC,yBAGJ;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBADDC,MACC,QADDA,MACC;gBAAA;gBAGKC,GAHL,GAGWC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuBC,SAAvB,CAAiC,CAAjC,CAHX;gBAIKC,MAJL,GAIc,IAAIC,eAAJ,CAAoBN,GAApB,CAJd;gBAKKO,QALL,GAKgBF,MAAM,CAACG,GAAP,CAAW,UAAX,CALhB;gBAMKC,MANL,GAMcJ,MAAM,CAACG,GAAP,CAAW,QAAX,CANd;gBAOCE,OAAO,CAACC,GAAR,CAAYN,MAAM,CAACG,GAAP,CAAW,UAAX,CAAZ;gBACAE,OAAO,CAACC,GAAR,CAAYN,MAAM,CAACG,GAAP,CAAW,QAAX,CAAZ;gBACAE,OAAO,CAACC,GAAR,CAAYN,MAAM,CAACG,GAAP,CAAW,aAAX,CAAZ,EATD,CAUC;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;;gBACII,IAnBL,GAmBY;kBACT,UAAUH,MADD;kBAET,YAAYF;gBAFH,CAnBZ;gBAAA;gBAAA,OAuBwBhB,OAAO,CAACsB,QAAR,CAAiBD,IAAjB,CAvBxB;;cAAA;gBAuBOE,QAvBP;;gBAwBC,IAAIA,QAAQ,CAACC,IAAT,CAAcC,IAAd,KAAuB,IAA3B,EAAiC;kBAC/B;kBACA;kBACA;kBACA;kBACAC,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA+BJ,QAAQ,CAACC,IAAT,CAAcI,MAAd,CAAqBC,SAApD;kBACAH,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCJ,QAAQ,CAACC,IAAT,CAAcI,MAAd,CAAqBE,aAAvD;kBACAtB,MAAM,CAAC,kBAAD,EAAqBe,QAAQ,CAACC,IAA9B,EAAoC;oBACxCO,IAAI,EAAE;kBADkC,CAApC,CAAN;kBAGA9B,MAAM,CAAC+B,IAAP,CAAY,YAAZ;gBACD,CAXD,MAWO;kBACLxB,MAAM,CACJ,aADI,EACW;oBACbyB,GAAG,EAAEV,QAAQ,CAACC,IAAT,CAAcU,OADN;oBAEbC,IAAI,EAAE,IAFO;oBAGbC,KAAK,EAAE,eAHM;oBAIbC,OAAO,EAAE;kBAJI,CADX,EAMD;oBACDN,IAAI,EAAE;kBADL,CANC,CAAN;kBAUAO,UAAU,CAAC,YAAM;oBACf,IAAIC,OAAO,GAAG,iBAAd;oBACA7B,MAAM,CAACC,QAAP,CAAgB6B,IAAhB,oDAAiED,OAAjE;kBACD,CAHS,EAGP,IAHO,CAAV;gBAID;;gBACDpB,OAAO,CAACC,GAAR,CAAYG,QAAZ;gBAnDD;gBAAA;;cAAA;gBAAA;gBAAA;gBAqDCJ,OAAO,CAACC,GAAR;;cArDD;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAuDF;EA1DM,CANE;EAkEXqB,OAAO,EAAE;AAlEE,CAAb;AAsEA,eAAevC,IAAf"}]}