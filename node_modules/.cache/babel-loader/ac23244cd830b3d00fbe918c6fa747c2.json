{"remainingRequest":"/home/stoneage/VUE.JS Projects/Zebu-Admin/node_modules/babel-loader/lib/index.js!/home/stoneage/VUE.JS Projects/Zebu-Admin/src/mixins/orderWindow.js","dependencies":[{"path":"/home/stoneage/VUE.JS Projects/Zebu-Admin/src/mixins/orderWindow.js","mtime":1668528462243},{"path":"/home/stoneage/VUE.JS Projects/Zebu-Admin/babel.config.js","mtime":1654503973575},{"path":"/home/stoneage/VUE.JS Projects/Zebu-Admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/stoneage/VUE.JS Projects/Zebu-Admin/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvc3RvbmVhZ2UvVlVFLkpTIFByb2plY3RzL1plYnUtQWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvaG9tZS9zdG9uZWFnZS9WVUUuSlMgUHJvamVjdHMvWmVidS1BZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9ob21lL3N0b25lYWdlL1ZVRS5KUyBQcm9qZWN0cy9aZWJ1LUFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudGVzdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnBhcnNlLWZsb2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZGF0ZS50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS1hbGwuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIudG8tZml4ZWQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKaW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwU3RhdGUsIG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBuc2VLZXk6ICIxMjMuNDUiLAogICAgICB0ZXh0OiAiY2VudGVyIiwKICAgICAgcHJpY2VJdGVtczogWyJMIiwgIk1LVCIsICJTTCIsICJTTC1NIl0sCiAgICAgIHByb2R1Y3RJdGVtczogWyJNSVMiLCAiTlJNTCJdLAogICAgICBzaG93TW9yZTogZmFsc2UsCiAgICAgIGNvdmVyT3JCcmFja2V0VmFsaWRpdHlJdGVtczogWyJEQVkiXSwKICAgICAgY292ZXJPckJyYWNrZXRQcm9kdWN0SXRlbXM6IFsiTUlTIl0sCiAgICAgIHRhcmdldFByaWNlOiAwLAogICAgICBzdG9wTG9zc1ByaWNlOiAwLAogICAgICB0cmFpbFN0b3BMb3NzUHJpY2U6IDAsCiAgICAgIC8vaW5wdXQgZmllbGQgaGlkZSBzaG93CiAgICAgIGN1cnJlbnRPcmRlclRhYjogInJlZ3VsYXIiLAogICAgICBlcnJvck1zZzogIiIsCiAgICAgIGlzRm9ybVN1Ym1pdDogZmFsc2UKICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZSgibWFya2V0V2F0Y2giLCBbIm1hcmtldERlcHRoRGF0YSJdKSksIG1hcFN0YXRlKCJvcmRlcldpbmRvdyIsIFsic2hvd09yZGVyV2luZG93IiwgIm9yZGVyVHlwZSIsICJ0b2dnbGVPcmRlciIsICJwcmljZVJhbmdlRGV0YWlscyIsICJuc2VQcmljZVJhbmdlRGF0YSIsICJic2VQcmljZVJhbmdlRGF0YSIsICJzY3JpcHRRdW90ZURldGFpbHMiLCAiY3VycmVudE9yZGVyIiwgIm1pbmxvdCIsICJsdHAiLCAidGlja1ByaWNlIiwgImN1cnJlbnRPcmRlciIsICJuc2VCc2VUeXBlIiwgImN1cnJlbnRJbnN0cnVtZW50IiwgImN1cnJlbnRFeGNoYW5nZSIsICJjdXJyZW50UGFnZSIsICJtb2RpZnlPcmRlciIsICJsb2FkaW5nIiwgIndpbmRvd0xvYWRpbmciLCAiaXNOZm8iLCAib3JkZXJUeXBlTGlzdCIsICJ2YWxpZGl0eUl0ZW1zIiwgImJyYWNrZXRQcmljZUl0ZW1zIiwgImNvdmVyUHJpY2VJdGVtcyIsICJsb3dlclJhbmdlIiwgInVwcGVyUmFuZ2UiLCAicmVtb3ZlQ3NzIiwgImlzUHJpY2UiLCAiaXNUcmdQcmljZSIsICJpc0Rpc2Nsb3NlZFF0eSIsICJuc2VTd2l0Y2hQcmljZSIsICJic2VTd2l0Y2hQcmljZSIsICJjdXJyZW50VG9rZW4iLCAibWFyZ2luTG9hZGVyIl0pKSwgbWFwR2V0dGVycygib3JkZXJXaW5kb3ciLCBbImdldFByaWNlVHlwZSIsICJnZXRQcm9kVHlwZSIsICJnZXRPcmRlclRhYiIsICJnZXRWYWxpZGl0eVR5cGUiLCAiZ2V0VHJpZ2dlclByaWNlIiwgImdldEN1cnJlbnRMdHAiLCAiZ2V0QXZhaWxhYmxlTWFyZ2luIl0pKSwgbWFwR2V0dGVycygiYXV0aHRpY2F0aW9uIiwgWyJnZXRVc2VySWQiXSkpLCB7fSwgewogICAgc2hvd3Byb2R1Y3RJdGVtczogewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUub3JkZXJXaW5kb3cuc2hvd3Byb2R1Y3RJdGVtczsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbiBzZXQobmV3VmFsdWUpIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoIm9yZGVyV2luZG93L3NldFByb2R1Y3RJdGVtcyIsIG5ld1ZhbHVlKTsKICAgICAgfQogICAgfSwKICAgIHNob3dQcmljZUl0ZW1zOiB7CiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5vcmRlcldpbmRvdy5zaG93UHJpY2VJdGVtczsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbiBzZXQobmV3VmFsdWUpIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoIm9yZGVyV2luZG93L3NldFByaWNlSXRlbXMiLCBuZXdWYWx1ZSk7CiAgICAgIH0KICAgIH0sCiAgICBxdWFudGl0eTogewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUub3JkZXJXaW5kb3cucXVhbnRpdHk7CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJvcmRlcldpbmRvdy9zZXRDdXJyZW50UXR5IiwgdmFsdWUpOwogICAgICB9CiAgICB9LAogICAgcHJpY2U6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuaXNQcmljZSA/IHRoaXMuJHN0b3JlLnN0YXRlLm9yZGVyV2luZG93LnByaWNlIDogMDsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoIm9yZGVyV2luZG93L3NldEN1cnJlbnRQcmljZSIsIHZhbHVlKTsKICAgICAgfQogICAgfSwKICAgIHRyaWdnZXJQcmljZTogewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5pc1RyZ1ByaWNlID8gdGhpcy4kc3RvcmUuc3RhdGUub3JkZXJXaW5kb3cudHJpZ2dlclByaWNlIDogMDsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoIm9yZGVyV2luZG93L3NldEN1cnJlbnRUcmdQcmljZSIsIHZhbHVlKTsKICAgICAgfQogICAgfSwKICAgIGRpc2Nsb3NlZFF1YW50aXR5OiB7CiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLmlzRGlzY2xvc2VkUXR5ID8gdGhpcy4kc3RvcmUuc3RhdGUub3JkZXJXaW5kb3cuZGlzY2xvc2VkUXVhbnRpdHkgOiAwOwogICAgICB9LAogICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgewogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgib3JkZXJXaW5kb3cvc2V0RGlzY2xvc2VkUXR5IiwgdmFsdWUpOwogICAgICB9CiAgICB9LAogICAgbnNlQnNlUmFkaW9Td2l0Y2g6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudEV4Y2hhbmdlOwogICAgICB9LAogICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgewogICAgICAgIHJldHVybiB2YWx1ZTsKICAgICAgfQogICAgfSwKICAgIGJ1eVNlbGxSYWRpbzogewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5vcmRlclR5cGUgPT0gJ2J1eScgPyB0cnVlIDogZmFsc2U7CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7CiAgICAgICAgcmV0dXJuIHZhbHVlOwogICAgICB9CiAgICB9LAogICAgcHJpY2VUeXBlOiB7CiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLmdldFByaWNlVHlwZTsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoIm9yZGVyV2luZG93L3NldFByaWNlVHlwZSIsIHZhbHVlKTsgLy8gICF0aGlzLm1hcmdpbkxvYWRlciA/ICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnb3JkZXJXaW5kb3cvZ2V0TWFyZ2luQXZhaWxhYmxlJywgJ3ByaWNlVHlwZScpICA6ICcnCiAgICAgIH0KICAgIH0sCiAgICBwcm9kVHlwZTogewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5nZXRQcm9kVHlwZTsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoIm9yZGVyV2luZG93L3NldFByb2RUeXBlIiwgdmFsdWUpOyAvLyAhdGhpcy5tYXJnaW5Mb2FkZXIgPyB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnb3JkZXJXaW5kb3cvZ2V0TWFyZ2luQXZhaWxhYmxlJywgJ3Byb2RUeXBlJykgOiAnJwogICAgICB9CiAgICB9LAogICAgb3JkZXJUYWI6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T3JkZXJUYWI7CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJvcmRlcldpbmRvdy9zZXRPcmRlclRhYiIsIHZhbHVlKTsgLy8gIXRoaXMubWFyZ2luTG9hZGVyID8gdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ29yZGVyV2luZG93L2dldE1hcmdpbkF2YWlsYWJsZScsICdvcmRlclRhYicpIDogJycKICAgICAgfQogICAgfSwKICAgIHZhbGlkaXR5VHlwZTogewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5nZXRWYWxpZGl0eVR5cGU7CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJvcmRlcldpbmRvdy9zZXRWYWxpZGl0eVR5cGUiLCB2YWx1ZSk7CiAgICAgIH0KICAgIH0sCiAgICBzaG93VmFsaWRpdHlJdGVtczogewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy52YWxpZGl0eUl0ZW1zOwogICAgICB9LAogICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgewogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgib3JkZXJXaW5kb3cvc2V0VmFsaWRpdHlJdGVtcyIsIHZhbHVlKTsKICAgICAgfQogICAgfQogIH0pLAogIG1ldGhvZHM6IHsKICAgIC8vIGNoYW5nZSB0YWIgaGlkZSBzaG93IGZ1bmN0aW9uCiAgICBjaGFuZ2VPcmRlclRhYjogZnVuY3Rpb24gY2hhbmdlT3JkZXJUYWIoKSB7CiAgICAgIHRoaXMuZXJyb3JNc2cgPSAiIjsKCiAgICAgIGlmICh0aGlzLm9yZGVyVHlwZUxpc3RbdGhpcy5vcmRlclRhYl0gPT0gJ0NvdmVyJykgewogICAgICAgIHRoaXMuc2hvd3Byb2R1Y3RJdGVtcyA9IHRoaXMuY292ZXJPckJyYWNrZXRQcm9kdWN0SXRlbXM7CiAgICAgICAgdGhpcy5zaG93UHJpY2VJdGVtcyA9IHRoaXMuY292ZXJQcmljZUl0ZW1zOyAvLyB0aGlzLnNob3dWYWxpZGl0eUl0ZW1zID0gdGhpcy5jb3Zlck9yQnJhY2tldFZhbGlkaXR5SXRlbXM7CgogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgib3JkZXJXaW5kb3cvc2V0VmFsaWRpdHlJdGVtcyIsIHRoaXMuY292ZXJPckJyYWNrZXRWYWxpZGl0eUl0ZW1zKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLm9yZGVyVHlwZUxpc3RbdGhpcy5vcmRlclRhYl0gPT0gJ0JyYWNrZXQnKSB7CiAgICAgICAgdGhpcy5zaG93cHJvZHVjdEl0ZW1zID0gdGhpcy5jb3Zlck9yQnJhY2tldFByb2R1Y3RJdGVtczsKICAgICAgICB0aGlzLnNob3dQcmljZUl0ZW1zID0gdGhpcy5icmFja2V0UHJpY2VJdGVtczsgLy8gdGhpcy5zaG93VmFsaWRpdHlJdGVtcyA9IHRoaXMuY292ZXJPckJyYWNrZXRWYWxpZGl0eUl0ZW1zOwoKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoIm9yZGVyV2luZG93L3NldFZhbGlkaXR5SXRlbXMiLCB0aGlzLmNvdmVyT3JCcmFja2V0VmFsaWRpdHlJdGVtcyk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5vcmRlclR5cGVMaXN0W3RoaXMub3JkZXJUYWJdID09ICdBTU8nKSB7CiAgICAgICAgdGhpcy5zaG93cHJvZHVjdEl0ZW1zID0gdGhpcy5jdXJyZW50RXhjaGFuZ2UgPT0gIk5TRSIgfHwgdGhpcy5jdXJyZW50RXhjaGFuZ2UgPT0gIkJTRSIgPyB0aGlzLiRzdG9yZS5zdGF0ZS5vcmRlcldpbmRvdy5lcVByb2R1Y3RJdGVtcyA6IHRoaXMuJHN0b3JlLnN0YXRlLm9yZGVyV2luZG93LmFsbFByb2R1Y3RJdGVtczsgLy8gdGhpcy5zaG93cHJvZHVjdEl0ZW1zID0gdGhpcy5jb3Zlck9yQnJhY2tldFByb2R1Y3RJdGVtczsKCiAgICAgICAgdGhpcy5zaG93UHJpY2VJdGVtcyA9IFsiTCJdOwogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgib3JkZXJXaW5kb3cvc2V0VmFsaWRpdHlJdGVtcyIsIHRoaXMuY292ZXJPckJyYWNrZXRWYWxpZGl0eUl0ZW1zKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLm9yZGVyVHlwZUxpc3RbdGhpcy5vcmRlclRhYl0pIHsKICAgICAgICB0aGlzLnNob3dQcmljZUl0ZW1zID0gdGhpcy5pc05mbyA/IHRoaXMuJHN0b3JlLnN0YXRlLm9yZGVyV2luZG93LmFsbFByaWNlSXRlbXMgOiB0aGlzLiRzdG9yZS5zdGF0ZS5vcmRlcldpbmRvdy5wb3N0aW9uUHJpY2VJdGVtczsKICAgICAgICB0aGlzLnNob3dwcm9kdWN0SXRlbXMgPSB0aGlzLmN1cnJlbnRFeGNoYW5nZSA9PSAiTlNFIiB8fCB0aGlzLmN1cnJlbnRFeGNoYW5nZSA9PSAiQlNFIiA/IHRoaXMuJHN0b3JlLnN0YXRlLm9yZGVyV2luZG93LmVxUHJvZHVjdEl0ZW1zIDogdGhpcy4kc3RvcmUuc3RhdGUub3JkZXJXaW5kb3cuYWxsUHJvZHVjdEl0ZW1zOyAvLyB0aGlzLnNob3dWYWxpZGl0eUl0ZW1zID0gdGhpcy52YWxpZGl0eUl0ZW1zOwoKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoIm9yZGVyV2luZG93L3NldFZhbGlkaXR5SXRlbXMiLCBbJ0RBWScsICdJT0MnXSk7CiAgICAgIH0KCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnb3JkZXJXaW5kb3cvY2hhbmdlT3JkZXJUeXBlJywgdGhpcy5nZXRPcmRlclRhYlZhbHVlKCkpOyAvLyB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnY29tbW9uL3NldFByb2RUeXBlQ29tbW9uJyAsICcnKQogICAgfSwKICAgIC8vIGZpbmQgc2VsZWN0IG9yZGVyIHR5cGUgbGlrZSByZWd1bGFyIE9yIGFtbwogICAgc2VsZWN0ZWRJbmRleDogZnVuY3Rpb24gc2VsZWN0ZWRJbmRleChzZWxlY3RlZE9yZGVyKSB7CiAgICAgIHRoaXMuY3VycmVudE9yZGVyVGFiID0gc2VsZWN0ZWRPcmRlci50b0xvd2VyQ2FzZSgpOwogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ29yZGVyV2luZG93L2NoYW5nZU9yZGVyVHlwZScsIHRoaXMuZ2V0T3JkZXJUYWJWYWx1ZSgpKTsKICAgIH0sCiAgICAvL1RvZ2dsZSBvcmRlcldpbmRvdwogICAgdG9nZ2xlT3JkZXJXaW5kb3c6IGZ1bmN0aW9uIHRvZ2dsZU9yZGVyV2luZG93KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgb3JkZXI7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgb3JkZXIgPSBfdGhpcy5vcmRlclR5cGUgPT0gImJ1eSIgPyAic2VsbCIgOiAiYnV5IjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5jb21taXQoIm9yZGVyV2luZG93L3NldE9yZGVyVHlwZSIsIG9yZGVyKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmNvbW1pdCgib3JkZXJXaW5kb3cvdmFsaURhdGVRdHkiLCAiIik7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvL2NhbGwgb3JkZXJXaW5kb3cKICAgIGhpZGVPcmRlcldpbmRvdzogZnVuY3Rpb24gaGlkZU9yZGVyV2luZG93KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAhX3RoaXMyLm1vZGlmeU9yZGVyID8gX3RoaXMyLiRzdG9yZS5jb21taXQoIm9yZGVyV2luZG93L3NldE9yZGVyV2luZG93IiwgZmFsc2UpIDogX3RoaXMyLiRzdG9yZS5jb21taXQoIm9yZGVyV2luZG93L3NldE9yZGVyV2luZG93TW9kaWZ5IiwgZmFsc2UpOwoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyBvcmRlciBwbGFjZQogICAgcGxhY2VPcmRlcjogZnVuY3Rpb24gcGxhY2VPcmRlcigpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIganNvbiwgcXR5SW5wdXRCb3gsIHByaWNlSW5wdXRCb3gsIHRyZ1ByaWNlSW5wdXRCb3gsIHRhcmdldFByaWNlSW5wdXRCb3gsIHN0b3BMb3NzUHJpY2VJbnB1dEJveCwgdHJhaWxTdG9wTG9zc1ByaWNlSW5wdXRCb3gsIGRpc2NRdHlJbnB1dEJveDsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMzLmlzRm9ybVN1Ym1pdCA9IHRydWU7CiAgICAgICAgICAgICAgICBqc29uID0gewogICAgICAgICAgICAgICAgICBxdHk6IF90aGlzMy5xdWFudGl0eSwKICAgICAgICAgICAgICAgICAgY29tcGxleGl0eTogX3RoaXMzLmdldE9yZGVyVGFiVmFsdWUoX3RoaXMzLm9yZGVydGFiKSwKICAgICAgICAgICAgICAgICAgcGNvZGU6IF90aGlzMy5wcm9kVHlwZS50b0xvd2VyQ2FzZSgpLAogICAgICAgICAgICAgICAgICBwcmljZVR5cGU6IF90aGlzMy5wcmljZVR5cGUsCiAgICAgICAgICAgICAgICAgIHByaWNlOiBfdGhpczMucHJpY2UsCiAgICAgICAgICAgICAgICAgIHRyZ1ByaWNlOiBfdGhpczMudHJpZ2dlclByaWNlLAogICAgICAgICAgICAgICAgICBzdG9wTG9zczogX3RoaXMzLnN0b3BMb3NzUHJpY2UsCiAgICAgICAgICAgICAgICAgIHRyYWlsU3RvcExvc3M6IF90aGlzMy50cmFpbFN0b3BMb3NzUHJpY2UsCiAgICAgICAgICAgICAgICAgIGRpc2NRdHk6IF90aGlzMy5kaXNjbG9zZWRRdWFudGl0eSwKICAgICAgICAgICAgICAgICAgdmFsaWRpdHk6IF90aGlzMy52YWxpZGl0eVR5cGUKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBxdHlJbnB1dEJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNxdHkiKTsKICAgICAgICAgICAgICAgIHByaWNlSW5wdXRCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjcHJpY2UiKTsKICAgICAgICAgICAgICAgIHRyZ1ByaWNlSW5wdXRCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjdHJpZ2dlclByaWNlIik7CiAgICAgICAgICAgICAgICB0YXJnZXRQcmljZUlucHV0Qm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3RyaWdnZXJQcmljZSIpOwogICAgICAgICAgICAgICAgc3RvcExvc3NQcmljZUlucHV0Qm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3N0b3BMb3NzUHJpY2UiKTsKICAgICAgICAgICAgICAgIHRyYWlsU3RvcExvc3NQcmljZUlucHV0Qm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3RyYWlsU3RvcExvc3NQcmljZSIpOwogICAgICAgICAgICAgICAgZGlzY1F0eUlucHV0Qm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2Rpc2NRdHkiKTsKCiAgICAgICAgICAgICAgICBfdGhpczMucXVhbnRpdHlWYWxpZGF0aW9uKCk7CgogICAgICAgICAgICAgICAgX3RoaXMzLnByaWNlVmFsaWRhdGlvbigpOwoKICAgICAgICAgICAgICAgIF90aGlzMy50cmlnZ2VyUHJpY2VWYWxpYXRpb24oKTsKCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMzLm9yZGVyVHlwZUxpc3RbX3RoaXMzLm9yZGVyVGFiXSA9PT0gJ0JyYWNrZXQnKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy50YXJnZXRQcmljZVZhbGlkYXRpb24oKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMy5zdG9wTG9zc1ByaWNlVmFsaWRhdGlvbigpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMzLnRyYWlsUHJpY2VWYWxpZGF0aW9uKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzMy5zaG93TW9yZSkgewogICAgICAgICAgICAgICAgICBfdGhpczMuZGlzY1F0eVZhbGlkYXRpb24oKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczMub3JkZXJUeXBlTGlzdFtfdGhpczMub3JkZXJUYWJdID09ICdCcmFja2V0JyA/IHRhcmdldFByaWNlSW5wdXRCb3guY2hlY2tWYWxpZGl0eSgpICYmIHN0b3BMb3NzUHJpY2VJbnB1dEJveC5jaGVja1ZhbGlkaXR5KCkgJiYgdHJhaWxTdG9wTG9zc1ByaWNlSW5wdXRCb3guY2hlY2tWYWxpZGl0eSgpIDogdHJ1ZSAmJiBxdHlJbnB1dEJveC5jaGVja1ZhbGlkaXR5KCkgJiYgX3RoaXMzLmlzUHJpY2UgPyBwcmljZUlucHV0Qm94LmNoZWNrVmFsaWRpdHkoKSA6IHRydWUgJiYgX3RoaXMzLmlzVHJnUHJpY2UgPyB0cmdQcmljZUlucHV0Qm94LmNoZWNrVmFsaWRpdHkoKSA6IHRydWUgJiYgX3RoaXMzLnNob3dNb3JlID8gZGlzY1F0eUlucHV0Qm94LmNoZWNrVmFsaWRpdHkoKSA6IHRydWUpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMy5oaWRlT3JkZXJXaW5kb3coKTsKCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMy5tb2RpZnlPcmRlcikgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDIxOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE5OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy4kc3RvcmUuZGlzcGF0Y2goIm9yZGVyV2luZG93L21vZGlmeU9yZGVyIiwganNvbik7CgogICAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDIzOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDIzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy4kc3RvcmUuZGlzcGF0Y2goIm9yZGVyV2luZG93L3BsYWNlT3JkZXIiLCBqc29uKTsKCiAgICAgICAgICAgICAgY2FzZSAyMzoKICAgICAgICAgICAgICAgIF90aGlzMy5pc0Zvcm1TdWJtaXQgPSBmYWxzZTsKCiAgICAgICAgICAgICAgY2FzZSAyNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNoZWNrUXVhbnRpdHk6IGZ1bmN0aW9uIGNoZWNrUXVhbnRpdHkoZXZlbnQpIHsKICAgICAgaWYgKGV2ZW50LmtleUNvZGUgIT0gMTMpIHsKICAgICAgICB0aGlzLnNob3dFcnJvciA9IHRydWU7CiAgICAgICAgdmFyIGlucCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZXZlbnQua2V5Q29kZSk7CgogICAgICAgIGlmICgvWzAtOV0vLnRlc3QoaW5wKSkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgZGVjaW1hbEFsbG93ZWQ6IGZ1bmN0aW9uIGRlY2ltYWxBbGxvd2VkKGV2ZW50KSB7CiAgICAgIGlmIChldmVudC5rZXlDb2RlICE9IDEzKSB7CiAgICAgICAgdGhpcy5zaG93RXJyb3IgPSB0cnVlOwogICAgICAgIHZhciBpbnAgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGV2ZW50LmtleUNvZGUpOwoKICAgICAgICBpZiAoL1swLTkuXS8udGVzdChpbnApKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAvLyBxdWFudGl0eSB2YWxpZGF0aW9uCiAgICBxdWFudGl0eVZhbGlkYXRpb246IGZ1bmN0aW9uIHF1YW50aXR5VmFsaWRhdGlvbigpIHsKICAgICAgdmFyIHF0eVZhbCA9IHBhcnNlRmxvYXQodGhpcy5xdWFudGl0eSk7CiAgICAgIHZhciBxdHlMb3QgPSB0aGlzLmZsb2F0U2FmZVJlbWFpbmRlcihxdHlWYWwsIHRoaXMubWlubG90KTsKICAgICAgdmFyIHF0eUlucHV0Qm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3F0eSIpOwoKICAgICAgaWYgKHRoaXMucXVhbnRpdHkudG9TdHJpbmcoKSA9PSAiIikgewogICAgICAgIHJldHVybiBxdHlJbnB1dEJveC5zZXRDdXN0b21WYWxpZGl0eSgiUXVhbnRpdHkgY2Fubm90IG5vdCBiZSBlbXB0eSIpOwogICAgICB9IGVsc2UgaWYgKHF0eVZhbCA9PSAwKSB7CiAgICAgICAgcmV0dXJuIHF0eUlucHV0Qm94LnNldEN1c3RvbVZhbGlkaXR5KCJRdWFudGl0eSBjYW5ub3QgYmUgemVybyIpOwogICAgICB9IGVsc2UgaWYgKHF0eUxvdCAhPSAwICYmIHRoaXMubWlubG90ID4gMCkgewogICAgICAgIHJldHVybiBxdHlJbnB1dEJveC5zZXRDdXN0b21WYWxpZGl0eSgiUXVhbnRpdHkgc2hvdWxkIGJlIG11bHRpcGxlIG9mIGxvdCBzaXplLiAoIiArIHRoaXMubWlubG90ICsgIikiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBxdHlJbnB1dEJveC5zZXRDdXN0b21WYWxpZGl0eSgnJyk7CiAgICAgIH0KICAgIH0sCiAgICAvLyBwcmljZSB2YWxpZGF0aW9uCiAgICBwcmljZVZhbGlkYXRpb246IGZ1bmN0aW9uIHByaWNlVmFsaWRhdGlvbigpIHsKICAgICAgdmFyIHByaWNlSW5wdXRCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjcHJpY2UiKTsKICAgICAgdmFyIHByaWNlVmFsID0gcGFyc2VGbG9hdCh0aGlzLnByaWNlKTsKICAgICAgdmFyIGxvd2VyUmFuZ2VWYWwgPSBwYXJzZUZsb2F0KHRoaXMubG93ZXJSYW5nZSk7CiAgICAgIHZhciB1cHBlclJhbmdlVmFsID0gcGFyc2VGbG9hdCh0aGlzLnVwcGVyUmFuZ2UpOwogICAgICB2YXIgY2hlY2tEcHJWYWwgPSB0aGlzLmNoZWNrRHByKHByaWNlVmFsLCB1cHBlclJhbmdlVmFsLCBsb3dlclJhbmdlVmFsKTsKICAgICAgdmFyIHByaWNlVGljayA9IHRoaXMuZmxvYXRTYWZlUmVtYWluZGVyKHByaWNlVmFsLCB0aGlzLnRpY2tQcmljZSk7CgogICAgICBpZiAodGhpcy5wcmljZS50b1N0cmluZygpID09ICIiKSB7CiAgICAgICAgcHJpY2VJbnB1dEJveC5zZXRDdXN0b21WYWxpZGl0eSgnUHJpY2UgY2Fubm90IGJlIEVtcHR5Jyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKHByaWNlVmFsID09IDApIHsKICAgICAgICBwcmljZUlucHV0Qm94LnNldEN1c3RvbVZhbGlkaXR5KCJQcmljZSBjYW5ub3QgYmUgemVybyIpOwogICAgICAgIHRoaXMuaXNGb3JtU3VibWl0ID8gcHJpY2VJbnB1dEJveC5yZXBvcnRWYWxpZGl0eSgpIDogJyc7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKHByaWNlVGljayAhPSAwKSB7CiAgICAgICAgcHJpY2VJbnB1dEJveC5zZXRDdXN0b21WYWxpZGl0eSgiUHJpY2UgU2hvdWxkIGJlIG11bHRpcGxlIG9mIFRpY2sgc2l6ZSAiLmNvbmNhdCh0aGlzLnRpY2tQcmljZSkpOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmICghY2hlY2tEcHJWYWwgJiYgdGhpcy5sdHAgIT0gMCAmJiBOdW1iZXIodGhpcy5sdHApID49IGxvd2VyUmFuZ2VWYWwgJiYgTnVtYmVyKHRoaXMubHRwKSA8PSB1cHBlclJhbmdlVmFsICYmIHRoaXMucHJpY2VUeXBlICE9ICJtYXJrZXQiICYmIHRoaXMucHJpY2VUeXBlICE9ICJzbC1tIikgewogICAgICAgIHByaWNlSW5wdXRCb3guc2V0Q3VzdG9tVmFsaWRpdHkoIlByaWNlIFNob3VsZCBiZSB3aXRoaW4gdGhlIERQUiByYW5nZSIpOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIHsKICAgICAgICBwcmljZUlucHV0Qm94LnNldEN1c3RvbVZhbGlkaXR5KCcnKTsKICAgICAgfQogICAgfSwKICAgIC8vIHN0b3Bsb3NzIHByaWNlIHZhbGlkYXRpb24KICAgIHRyaWdnZXJQcmljZVZhbGlhdGlvbjogZnVuY3Rpb24gdHJpZ2dlclByaWNlVmFsaWF0aW9uKCkgewogICAgICB2YXIgdHJnUHJpY2VJbnB1dEJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiN0cmlnZ2VyUHJpY2UiKTsKICAgICAgdmFyIHRyaWdQcmljZVZhbCA9IHBhcnNlRmxvYXQodGhpcy50cmlnZ2VyUHJpY2UpOwogICAgICB2YXIgdHJpZ1RpY2sgPSB0aGlzLmZsb2F0U2FmZVJlbWFpbmRlcih0cmlnUHJpY2VWYWwsIHRoaXMudGlja1ByaWNlKTsKCiAgICAgIGlmICh0aGlzLnRyaWdnZXJQcmljZS50b1N0cmluZygpID09ICIiKSB7CiAgICAgICAgdHJnUHJpY2VJbnB1dEJveC5zZXRDdXN0b21WYWxpZGl0eSgnVHJpZ2dlciBQcmljZSBjYW5ub3QgYmUgRW1wdHknKTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSBpZiAodHJpZ1ByaWNlVmFsID09IDApIHsKICAgICAgICB0cmdQcmljZUlucHV0Qm94LnNldEN1c3RvbVZhbGlkaXR5KCdUcmlnZ2VyIFByaWNlIGNhbm5vdCBiZSB6ZXJvJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKHRyaWdUaWNrICE9IDApIHsKICAgICAgICB0cmdQcmljZUlucHV0Qm94LnNldEN1c3RvbVZhbGlkaXR5KCJUcmlnZ2VyIFByaWNlIFNob3VsZCBiZSBtdWx0aXBsZSBvZiBUaWNrcyAiLmNvbmNhdCh0aGlzLnRpY2tQcmljZSkpOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIHsKICAgICAgICB0cmdQcmljZUlucHV0Qm94LnNldEN1c3RvbVZhbGlkaXR5KCcnKTsKICAgICAgfQogICAgfSwKICAgIC8vdGFyZ2V0UHJpY2UgYmFzZWQgb24gRXhjaGFuZ2UKICAgIHRhcmdldFByaWNlVmFsaWRhdGlvbjogZnVuY3Rpb24gdGFyZ2V0UHJpY2VWYWxpZGF0aW9uKCkgewogICAgICB2YXIgdGFyZ2V0UHJpY2VJbnB1dEJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiN0YXJnZXRQcmljZSIpOwogICAgICB2YXIgdmFsdWUgPSBwYXJzZUZsb2F0KHRoaXMudGFyZ2V0UHJpY2UpOwogICAgICB2YXIgdGFyZ2V0VGljayA9IHRoaXMuZmxvYXRTYWZlUmVtYWluZGVyKHZhbHVlLCB0aGlzLnRpY2tQcmljZSk7CgogICAgICBpZiAodGhpcy50YXJnZXRQcmljZS50b1N0cmluZygpID09ICIiKSB7CiAgICAgICAgdGFyZ2V0UHJpY2VJbnB1dEJveC5zZXRDdXN0b21WYWxpZGl0eSgnVGFyZ2V0IFByaWNlIENhbm5vdCBiZSBFbXB0eScpOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PSAwKSB7CiAgICAgICAgdGFyZ2V0UHJpY2VJbnB1dEJveC5zZXRDdXN0b21WYWxpZGl0eSgnVGFyZ2V0IFByaWNlIHNob3VsZCBiZSBncmVhdGVyIHRoYW4gMCcpOwogICAgICAgIHRoaXMuaXNGb3JtU3VibWl0ID8gdGFyZ2V0UHJpY2VJbnB1dEJveC5yZXBvcnRWYWxpZGl0eSgpIDogJyc7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKHRhcmdldFRpY2sgIT0gMCkgewogICAgICAgIHRhcmdldFByaWNlSW5wdXRCb3guc2V0Q3VzdG9tVmFsaWRpdHkoIlRhcmdldCBQcmljZSBzaG91bGQgYmUgbXVsdGlwbGUgb2YgXCIgKyAiLmNvbmNhdCh0aGlzLnRpY2tQcmljZSkpOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIHsKICAgICAgICB0YXJnZXRQcmljZUlucHV0Qm94LnNldEN1c3RvbVZhbGlkaXR5KCcnKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgIH0sCiAgICAvL3N0b3BMb3NzUHJpY2UgYmFzZWQgb24gRXhjaGFuZ2UKICAgIHN0b3BMb3NzUHJpY2VWYWxpZGF0aW9uOiBmdW5jdGlvbiBzdG9wTG9zc1ByaWNlVmFsaWRhdGlvbigpIHsKICAgICAgdmFyIHN0b3BMb3NzUHJpY2VJbnB1dEJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNzdG9wTG9zc1ByaWNlIik7CiAgICAgIHZhciB2YWx1ZSA9IHBhcnNlRmxvYXQodGhpcy5zdG9wTG9zc1ByaWNlKTsKICAgICAgdmFyIHNsVGljayA9IHRoaXMuZmxvYXRTYWZlUmVtYWluZGVyKHZhbHVlLCB0aGlzLnRpY2tQcmljZSk7CgogICAgICBpZiAodGhpcy5zdG9wTG9zc1ByaWNlLnRvU3RyaW5nKCkgPT0gIiIpIHsKICAgICAgICBzdG9wTG9zc1ByaWNlSW5wdXRCb3guc2V0Q3VzdG9tVmFsaWRpdHkoJ1N0b3Bsb3NzIFByaWNlIENhbm5vdCBiZSBFbXB0eScpOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmICh2YWx1ZSA8PSAwKSB7CiAgICAgICAgc3RvcExvc3NQcmljZUlucHV0Qm94LnNldEN1c3RvbVZhbGlkaXR5KCdTdG9wbG9zcyBQcmljZSBDYW5ub3QgYmUgbGVzcyB0aGVuIDAnKTsKICAgICAgICB0aGlzLmlzRm9ybVN1Ym1pdCA/IHN0b3BMb3NzUHJpY2VJbnB1dEJveC5yZXBvcnRWYWxpZGl0eSgpIDogJyc7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKHNsVGljayAhPSAwICYmIHNsVGljayAhPSAiMCIpIHsKICAgICAgICBzdG9wTG9zc1ByaWNlSW5wdXRCb3guc2V0Q3VzdG9tVmFsaWRpdHkoIlN0b3Bsb3NzIFByaWNlIFNob3VsZCBiZSBtdWx0aXBsZSBvZiBcIiArICIuY29uY2F0KHRoaXMudGlja1ByaWNlKSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBzdG9wTG9zc1ByaWNlSW5wdXRCb3guc2V0Q3VzdG9tVmFsaWRpdHkoJycpOwogICAgICB9CiAgICB9LAogICAgLy90cmFpbFByaWNlIGJhc2VkIG9uIEV4Y2hhbmdlCiAgICB0cmFpbFByaWNlVmFsaWRhdGlvbjogZnVuY3Rpb24gdHJhaWxQcmljZVZhbGlkYXRpb24oKSB7CiAgICAgIHZhciB0cmFpbFN0b3BMb3NzUHJpY2VJbnB1dEJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiN0cmFpbFN0b3BMb3NzUHJpY2UiKTsKICAgICAgdmFyIHZhbHVlID0gcGFyc2VGbG9hdCh0aGlzLnRyYWlsU3RvcExvc3NQcmljZSk7CiAgICAgIHZhciB0cmFpbFRpY2sgPSB0aGlzLmZsb2F0U2FmZVJlbWFpbmRlcih0aGlzLnRyYWlsU3RvcExvc3NQcmljZSwgdGhpcy50aWNrUHJpY2UpOwogICAgICB2YXIgdGFyZ2V0VmFsID0gcGFyc2VGbG9hdCh0aGlzLnRhcmdldFByaWNlKTsKCiAgICAgIGlmICh0aGlzLnRyYWlsU3RvcExvc3NQcmljZS50b1N0cmluZygpID09ICIiKSB7CiAgICAgICAgdHJhaWxTdG9wTG9zc1ByaWNlSW5wdXRCb3guc2V0Q3VzdG9tVmFsaWRpdHkoJ1RyYWlsU3RvcGxvc3MgUHJpY2UgQ2Fubm90IGJlIEVtcHR5Jyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKHRyYWlsVGljayAhPSAwKSB7CiAgICAgICAgdHJhaWxTdG9wTG9zc1ByaWNlSW5wdXRCb3guc2V0Q3VzdG9tVmFsaWRpdHkoIlRyYWlsU3RvcGxvc3MgU2hvdWxkIGJlIG11bHRpcGxlIG9mIFwiICsgKCIuY29uY2F0KHRoaXMudGlja1ByaWNlLCAiKSIpKTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSBpZiAodGhpcy5wcmljZVR5cGUgPT0gIkwiICYmIHZhbHVlIDwgdGhpcy50aWNrUHJpY2UgJiYgdmFsdWUgIT0gMCkgewogICAgICAgIHRyYWlsU3RvcExvc3NQcmljZUlucHV0Qm94LnNldEN1c3RvbVZhbGlkaXR5KCJUcmFpbGluZyBTdG9wbG9zcyBzaG91bGQgYmUgbWluaW11bSBvZiBUaWNrUHJpY2UiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSBpZiAodGFyZ2V0VmFsIDwgdmFsdWUgJiYgdmFsdWUgIT0gMCkgewogICAgICAgIHRyYWlsU3RvcExvc3NQcmljZUlucHV0Qm94LnNldEN1c3RvbVZhbGlkaXR5KCJUcmFpbFN0b3Bsb3NzIFNob3VsZCBiZSBMZXNzIHRoYW4gXCIgKyAoIi5jb25jYXQodGFyZ2V0VmFsLCAiKSIpKTsKICAgICAgICB0aGlzLmlzRm9ybVN1Ym1pdCA/IHRyYWlsU3RvcExvc3NQcmljZUlucHV0Qm94LnJlcG9ydFZhbGlkaXR5KCkgOiAnJzsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdHJhaWxTdG9wTG9zc1ByaWNlSW5wdXRCb3guc2V0Q3VzdG9tVmFsaWRpdHkoJycpOwogICAgICB9CiAgICB9LAogICAgLy9EaXNjbG9zZWQgcXR5IGJhc2VkIG9uIEV4Y2hhbmdlCiAgICBkaXNjUXR5VmFsaWRhdGlvbjogZnVuY3Rpb24gZGlzY1F0eVZhbGlkYXRpb24oKSB7CiAgICAgIHZhciBkaXNjUXR5SW5wdXRCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjZGlzY1F0eSIpOwogICAgICB2YXIgZGljUGVyY2VudGFnZTsKICAgICAgdmFyIGRpc2Nsb3NlZFF0eSA9IHBhcnNlRmxvYXQodGhpcy5kaXNjbG9zZWRRdWFudGl0eSk7CiAgICAgIHZhciBxdHkgPSBwYXJzZUZsb2F0KHRoaXMuY3VycmVudFF0eSk7CgogICAgICBpZiAodGhpcy5jdXJyZW50RXhjaGFuZ2UgPT0gIk1DWCIpIHsKICAgICAgICBkaWNQZXJjZW50YWdlID0gMjUgLyB0aGlzLlF0eTsKICAgICAgfSBlbHNlIHsKICAgICAgICBkaWNQZXJjZW50YWdlID0gMTAgLyB0aGlzLlF0eTsKICAgICAgfQoKICAgICAgdmFyIGRpc0NoZWNrID0gcGFyc2VGbG9hdChkaXNjbG9zZWRRdHkgLyBxdHkpOwogICAgICB0aGlzLmRpc2NRdHl0aWsgPSBNYXRoLmNlaWwoZGlzQ2hlY2spOwogICAgICAvKiogRGlzY2xvc2VkIHF1YW50aXR5ICovCgogICAgICBpZiAodGhpcy5jdXJyZW50RXhjaGFuZ2UgIT0gIk5GTyIgJiYgdGhpcy5jdXJyZW50RXhjaGFuZ2UgIT0gIkJGTyIpIHsKICAgICAgICBpZiAodGhpcy5kaXNjbG9zZWRRdWFudGl0eS50b1N0cmluZygpID09ICIiKSB7CiAgICAgICAgICBkaXNjUXR5SW5wdXRCb3guc2V0Q3VzdG9tVmFsaWRpdHkoJ0Rpc2MuUXR5IHNob3VsZCBub3QgYmUgZW1wdHknKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9IGVsc2UgaWYgKGRpc2Nsb3NlZFF0eSA8IHRoaXMuZGlzY1F0eXRpayAmJiBkaXNjbG9zZWRRdHkgIT0gMCkgewogICAgICAgICAgaWYgKHRoaXMuY3VycmVudEV4Y2hhbmdlID09ICJNQ1giKSB7CiAgICAgICAgICAgIGRpc2NRdHlJbnB1dEJveC5zZXRDdXN0b21WYWxpZGl0eSgnRGlzYy5RdHkgc2hvdWxkIGJlIGVpdGhlciAwIG9yIDI1JSB0byAxMDAlIG9mIHF1YW50aXR5Jyk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jdXJyZW50RXhjaGFuZ2UgIT0gIk1DWCIpIHsKICAgICAgICAgICAgZGlzY1F0eUlucHV0Qm94LnNldEN1c3RvbVZhbGlkaXR5KCdEaXNjLlF0eSBzaG91bGQgYmUgZWl0aGVyIDAgb3IgMTAlIHRvIDEwMCUgb2YgcXVhbnRpdHknKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZGlzY1F0eUlucHV0Qm94LnNldEN1c3RvbVZhbGlkaXR5KCcnKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKGRpc2Nsb3NlZFF0eSA+IHF0eSkgewogICAgICAgICAgZGlzY1F0eUlucHV0Qm94LnNldEN1c3RvbVZhbGlkaXR5KCdEaXNjLlF0eSBjYW5ub3QgYmUgZ3JlYXRlciB0aGFuIFF0eScpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBkaXNjUXR5SW5wdXRCb3guc2V0Q3VzdG9tVmFsaWRpdHkoJycpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgZGlzY1F0eUlucHV0Qm94LnJlcG9ydFZhbGlkaXR5KCk7CiAgICB9LAogICAgLy9GbG9hdCBTYWZlIFJlbWFpbmRlciBvZiBsYXN0IDIgZGlnaXRzIG9yIDQgZGlnaXRzCiAgICBmbG9hdFNhZmVSZW1haW5kZXI6IGZ1bmN0aW9uIGZsb2F0U2FmZVJlbWFpbmRlcih2YWwsIHN0ZXApIHsKICAgICAgdmFsID0gdmFsLnRvU3RyaW5nKCk7CiAgICAgIHN0ZXAgPSBzdGVwLnRvU3RyaW5nKCk7CiAgICAgIHZhciB2YWxEZWNDb3VudCA9IHZhbC5pbmNsdWRlcygiLiIpID8gdmFsLnNwbGl0KCIuIilbMV0ubGVuZ3RoICE9IG51bGwgPyB2YWwuc3BsaXQoIi4iKVsxXS5sZW5ndGggOiAwIDogdmFsLmxlbmd0aDsKICAgICAgdmFyIHN0ZXBEZWNDb3VudCA9IHN0ZXAuaW5jbHVkZXMoIi4iKSA/IHN0ZXAuc3BsaXQoIi4iKVsxXS5sZW5ndGggIT0gbnVsbCA/IHN0ZXAuc3BsaXQoIi4iKVsxXS5sZW5ndGggOiAwIDogc3RlcC5sZW5ndGg7CiAgICAgIHZhciBkZWNDb3VudCA9IHZhbERlY0NvdW50ID4gc3RlcERlY0NvdW50ID8gdmFsRGVjQ291bnQgOiBzdGVwRGVjQ291bnQ7CiAgICAgIHZhciB2YWxJbnQgPSBwYXJzZUZsb2F0KHBhcnNlRmxvYXQodmFsKS50b0ZpeGVkKGRlY0NvdW50KS50b1N0cmluZygpLnJlcGxhY2VBbGwoIi4iLCAiIikpOwogICAgICB2YXIgc3RlcEludCA9IHBhcnNlRmxvYXQocGFyc2VGbG9hdChzdGVwKS50b0ZpeGVkKGRlY0NvdW50KS50b1N0cmluZygpLnJlcGxhY2VBbGwoIi4iLCAiIikpOwogICAgICByZXR1cm4gdmFsSW50ICUgc3RlcEludCAvIE1hdGgucG93KDEwLCBkZWNDb3VudCk7CiAgICB9LAogICAgZ2V0T3JkZXJUYWJWYWx1ZTogZnVuY3Rpb24gZ2V0T3JkZXJUYWJWYWx1ZSgpIHsKICAgICAgcmV0dXJuIHRoaXMub3JkZXJUeXBlTGlzdFt0aGlzLm9yZGVyVGFiXSA9PSAnUmVndWxhcicgPyAicmVndWxhciIgOiB0aGlzLm9yZGVyVHlwZUxpc3RbdGhpcy5vcmRlclRhYl0gPT0gJ0NvdmVyJyA/ICJjb3ZlciIgOiB0aGlzLm9yZGVyVHlwZUxpc3RbdGhpcy5vcmRlclRhYl0gPT0gJ0JyYWNrZXQnID8gImJyYWNrZXQiIDogdGhpcy5vcmRlclR5cGVMaXN0W3RoaXMub3JkZXJUYWJdID09ICdBTU8nID8gImFtbyIgOiAicmVndWxhciI7CiAgICB9LAogICAgLy8gY2FwaXRhbGl6ZSBmaXJzdCBsZXR0ZXIKICAgIGNhcGl0YWxpemVGaXJzdExldHRlcjogZnVuY3Rpb24gY2FwaXRhbGl6ZUZpcnN0TGV0dGVyKHN0cmluZykgewogICAgICByZXR1cm4gc3RyaW5nLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyaW5nLnNsaWNlKDEpOwogICAgfSwKICAgIG5zZUJzZVN3aXRjaDogZnVuY3Rpb24gbnNlQnNlU3dpdGNoKGV4Y2gpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC4kc3RvcmUuY29tbWl0KCdvcmRlcldpbmRvdy9tYWtlQWN0aXZlJywgZXhjaCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF90aGlzNC5wcmljZVZhbGlkYXRpb24oKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY2hlY2tEcHI6IGZ1bmN0aW9uIGNoZWNrRHByKHByaWNlLCB1YywgbGMpIHsKICAgICAgcmV0dXJuIHVjICE9PSAwICYmIHByaWNlID49IGxjICYmIHByaWNlIDw9IHVjOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHByaWNlVHlwZTogZnVuY3Rpb24gcHJpY2VUeXBlKHZhbCkgewogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ29yZGVyV2luZG93L2NoYW5nZU9yZGVyVHlwZScsIHRoaXMuZ2V0T3JkZXJUYWJWYWx1ZSgpKTsKCiAgICAgIGlmICgodGhpcy5jdXJyZW50UGFnZSA9PSAibWtXYXRjaCIgfHwgdGhpcy5jdXJyZW50UGFnZSA9PSAib3JkZXJzIiB8fCB0aGlzLmN1cnJlbnRQYWdlID09ICJhbmFseXRpY3MiKSAmJiB0aGlzLm1vZGlmeU9yZGVyID09IGZhbHNlKSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oIm9yZGVyUHJlZmVyZW5jZSIsIEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgIHByb2R1Y3Q6IHRoaXMucHJvZFR5cGUsCiAgICAgICAgICB2YWxpZGl0eTogdGhpcy52YWxpZGl0eVR5cGUsCiAgICAgICAgICB2YXJpZXR5OiB0aGlzLmdldE9yZGVyVGFiVmFsdWUodGhpcy5vcmRlclR5cGUpLAogICAgICAgICAgb3JkZXJUeXBlOiB0aGlzLnByaWNlVHlwZQogICAgICAgIH0pKTsKICAgICAgfQoKICAgICAgaWYgKHZhbCA9PSAnTCcpIHsKICAgICAgICB0aGlzLnByaWNlID8gdGhpcy5wcmljZVZhbGlkYXRpb24oKSA6ICcnOwogICAgICB9CgogICAgICBpZiAodmFsID09ICdTTCcpIHsKICAgICAgICB0aGlzLnByaWNlID8gdGhpcy5wcmljZVZhbGlkYXRpb24oKSA6ICcnOwogICAgICAgIHRoaXMudHJpZ2dlclByaWNlID8gdGhpcy50cmlnZ2VyUHJpY2VWYWxpYXRpb24oKSA6ICcnOwogICAgICB9CgogICAgICBpZiAodmFsID09ICdTTC1NJykgewogICAgICAgIHRoaXMudHJpZ2dlclByaWNlID8gdGhpcy50cmlnZ2VyUHJpY2VWYWxpYXRpb24oKSA6ICcnOwogICAgICB9CiAgICB9LAogICAgcHJvZFR5cGU6IGZ1bmN0aW9uIHByb2RUeXBlKHZhbCkgewogICAgICBpZiAoKHRoaXMuY3VycmVudFBhZ2UgPT0gIm1rV2F0Y2giIHx8IHRoaXMuY3VycmVudFBhZ2UgPT0gIm9yZGVycyIgfHwgdGhpcy5jdXJyZW50UGFnZSA9PSAiYW5hbHl0aWNzIikgJiYgdGhpcy5tb2RpZnlPcmRlciA9PSBmYWxzZSkgewogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJvcmRlclByZWZlcmVuY2UiLCBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICBwcm9kdWN0OiB0aGlzLnByb2RUeXBlLAogICAgICAgICAgdmFsaWRpdHk6IHRoaXMudmFsaWRpdHlUeXBlLAogICAgICAgICAgdmFyaWV0eTogdGhpcy5nZXRPcmRlclRhYlZhbHVlKHRoaXMub3JkZXJUYWIpLAogICAgICAgICAgb3JkZXJUeXBlOiB0aGlzLnByaWNlVHlwZQogICAgICAgIH0pKTsKICAgICAgfQogICAgfSwKICAgIG9yZGVyVGFiOiBmdW5jdGlvbiBvcmRlclRhYih2YWwpIHsKICAgICAgaWYgKCh0aGlzLmN1cnJlbnRQYWdlID09ICJta1dhdGNoIiB8fCB0aGlzLmN1cnJlbnRQYWdlID09ICJvcmRlcnMiIHx8IHRoaXMuY3VycmVudFBhZ2UgPT0gImFuYWx5dGljcyIpICYmIHRoaXMubW9kaWZ5T3JkZXIgPT0gZmFsc2UpIHsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgib3JkZXJQcmVmZXJlbmNlIiwgSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgcHJvZHVjdDogdGhpcy5wcm9kVHlwZSwKICAgICAgICAgIHZhbGlkaXR5OiB0aGlzLnZhbGlkaXR5VHlwZSwKICAgICAgICAgIHZhcmlldHk6IHRoaXMuZ2V0T3JkZXJUYWJWYWx1ZSh0aGlzLm9yZGVyVGFiKSwKICAgICAgICAgIG9yZGVyVHlwZTogdGhpcy5wcmljZVR5cGUKICAgICAgICB9KSk7CiAgICAgIH0KICAgIH0sCiAgICB2YWxpZGl0eVR5cGU6IGZ1bmN0aW9uIHZhbGlkaXR5VHlwZSh2YWwpIHsKICAgICAgaWYgKCh0aGlzLmN1cnJlbnRQYWdlID09ICJta1dhdGNoIiB8fCB0aGlzLmN1cnJlbnRQYWdlID09ICJvcmRlcnMiIHx8IHRoaXMuY3VycmVudFBhZ2UgPT0gImFuYWx5dGljcyIpICYmIHRoaXMubW9kaWZ5T3JkZXIgPT0gZmFsc2UpIHsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgib3JkZXJQcmVmZXJlbmNlIiwgSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgcHJvZHVjdDogdGhpcy5wcm9kVHlwZSwKICAgICAgICAgIHZhbGlkaXR5OiB0aGlzLnZhbGlkaXR5VHlwZSwKICAgICAgICAgIHZhcmlldHk6IHRoaXMuZ2V0T3JkZXJUYWJWYWx1ZSh0aGlzLm9yZGVyVGFiKSwKICAgICAgICAgIG9yZGVyVHlwZTogdGhpcy5wcmljZVR5cGUKICAgICAgICB9KSk7CiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oIm9yZGVyUHJlZmVyZW5jZSIpID09IG51bGwgfHwgbG9jYWxTdG9yYWdlLmdldEl0ZW0oIm9yZGVyUHJlZmVyZW5jZSIpID09IHVuZGVmaW5lZCkgewogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgib3JkZXJQcmVmZXJlbmNlIiwgSlNPTi5zdHJpbmdpZnkoewogICAgICAgIHByb2R1Y3Q6IHRoaXMucHJvZFR5cGUsCiAgICAgICAgdmFsaWRpdHk6IHRoaXMudmFsaWRpdHlUeXBlLAogICAgICAgIHZhcmlldHk6IHRoaXMuZ2V0T3JkZXJUYWJWYWx1ZSh0aGlzLm9yZGVyVGFiKSwKICAgICAgICBvcmRlclR5cGU6IHRoaXMucHJpY2VUeXBlCiAgICAgIH0pKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["mapActions","mapState","mapGetters","data","nseKey","text","priceItems","productItems","showMore","coverOrBracketValidityItems","coverOrBracketProductItems","targetPrice","stopLossPrice","trailStopLossPrice","currentOrderTab","errorMsg","isFormSubmit","computed","showproductItems","get","$store","state","orderWindow","set","newValue","commit","showPriceItems","quantity","value","price","isPrice","triggerPrice","isTrgPrice","disclosedQuantity","isDisclosedQty","nseBseRadioSwitch","currentExchange","buySellRadio","orderType","priceType","getPriceType","prodType","getProdType","orderTab","getOrderTab","validityType","getValidityType","showValidityItems","validityItems","methods","changeOrderTab","orderTypeList","coverPriceItems","bracketPriceItems","eqProductItems","allProductItems","isNfo","allPriceItems","postionPriceItems","getOrderTabValue","selectedIndex","selectedOrder","toLowerCase","toggleOrderWindow","order","hideOrderWindow","modifyOrder","placeOrder","json","qty","complexity","ordertab","pcode","trgPrice","stopLoss","trailStopLoss","discQty","validity","qtyInputBox","document","querySelector","priceInputBox","trgPriceInputBox","targetPriceInputBox","stopLossPriceInputBox","trailStopLossPriceInputBox","discQtyInputBox","quantityValidation","priceValidation","triggerPriceValiation","targetPriceValidation","stopLossPriceValidation","trailPriceValidation","discQtyValidation","checkValidity","dispatch","checkQuantity","event","keyCode","showError","inp","String","fromCharCode","test","preventDefault","decimalAllowed","qtyVal","parseFloat","qtyLot","floatSafeRemainder","minlot","toString","setCustomValidity","priceVal","lowerRangeVal","lowerRange","upperRangeVal","upperRange","checkDprVal","checkDpr","priceTick","tickPrice","reportValidity","ltp","Number","trigPriceVal","trigTick","targetTick","slTick","trailTick","targetVal","dicPercentage","disclosedQty","currentQty","Qty","disCheck","discQtytik","Math","ceil","val","step","valDecCount","includes","split","length","stepDecCount","decCount","valInt","toFixed","replaceAll","stepInt","pow","capitalizeFirstLetter","string","charAt","toUpperCase","slice","nseBseSwitch","exch","uc","lc","watch","currentPage","localStorage","setItem","JSON","stringify","product","variety","created","getItem","undefined"],"sources":["/home/stoneage/VUE.JS Projects/Zebu-Admin/src/mixins/orderWindow.js"],"sourcesContent":["import { mapActions, mapState, mapGetters } from \"vuex\";\nexport default {\n  data () {\n    return {\n      nseKey: \"123.45\",\n      text: \"center\",\n      priceItems: [\"L\", \"MKT\", \"SL\", \"SL-M\"],\n      productItems: [\"MIS\", \"NRML\"],\n      showMore: false,\n      coverOrBracketValidityItems: [\"DAY\"],\n      coverOrBracketProductItems: [\"MIS\"],\n      targetPrice: 0,\n      stopLossPrice: 0,\n      trailStopLossPrice: 0,\n\n      //input field hide show\n      currentOrderTab: \"regular\",\n      errorMsg: \"\",\n      isFormSubmit: false,\n    };\n  },\n\n  computed: {\n    ...mapState(\"marketWatch\", [\"marketDepthData\"]),\n    ...mapState(\"orderWindow\", [\n      \"showOrderWindow\",\n      \"orderType\",\n      \"toggleOrder\",\n      \"priceRangeDetails\",\n      \"nsePriceRangeData\",\n      \"bsePriceRangeData\",\n      \"scriptQuoteDetails\",\n      \"currentOrder\",\n      \"minlot\",\n      \"ltp\",\n      \"tickPrice\",\n      \"currentOrder\",\n      \"nseBseType\",\n      \"currentInstrument\",\n      \"currentExchange\",\n      \"currentPage\",\n      \"modifyOrder\",\n      \"loading\",\n      \"windowLoading\",\n      \"isNfo\",\n      \"orderTypeList\",\n      \"validityItems\",\n      \"bracketPriceItems\",\n      \"coverPriceItems\",\n      \"lowerRange\",\n      \"upperRange\",\n      \"removeCss\",\n      \"isPrice\",\n      \"isTrgPrice\",\n      \"isDisclosedQty\",\n      \"nseSwitchPrice\",\n      \"bseSwitchPrice\",\n      \"currentToken\",\n      \"marginLoader\"\n    ]),\n    ...mapGetters(\"orderWindow\", [\n      \"getPriceType\",\n      \"getProdType\",\n      \"getOrderTab\",\n      \"getValidityType\",\n      \"getTriggerPrice\",\n      \"getCurrentLtp\",\n      \"getAvailableMargin\",\n    ]),\n    ...mapGetters(\"authtication\", [\n      \"getUserId\",\n    ]),\n\n    showproductItems: {\n      get () {\n        return this.$store.state.orderWindow.showproductItems;\n      },\n      set (newValue) {\n        this.$store.commit(\"orderWindow/setProductItems\", newValue);\n      },\n    },\n\n    showPriceItems: {\n      get () {\n        return this.$store.state.orderWindow.showPriceItems;\n      },\n      set (newValue) {\n        this.$store.commit(\"orderWindow/setPriceItems\", newValue);\n      },\n    },\n\n    quantity: {\n      get () {\n        return this.$store.state.orderWindow.quantity;\n      },\n      set (value) {\n        this.$store.commit(\"orderWindow/setCurrentQty\", value);\n      },\n    },\n\n    price: {\n      get () {\n        return this.isPrice ? this.$store.state.orderWindow.price : 0\n      },\n      set (value) {\n        this.$store.commit(\"orderWindow/setCurrentPrice\", value);\n      },\n    },\n\n    triggerPrice: {\n      get () {\n        return this.isTrgPrice ? this.$store.state.orderWindow.triggerPrice : 0\n      },\n      set (value) {\n        this.$store.commit(\"orderWindow/setCurrentTrgPrice\", value);\n      },\n    },\n\n    disclosedQuantity: {\n      get () {\n        return this.isDisclosedQty ? this.$store.state.orderWindow.disclosedQuantity : 0\n      },\n      set (value) {\n        this.$store.commit(\"orderWindow/setDisclosedQty\", value);\n      }\n    },\n\n    nseBseRadioSwitch: {\n      get () {\n        return this.currentExchange;\n      },\n      set (value) {\n        return value;\n      },\n    },\n\n    buySellRadio: {\n      get () {\n        return this.orderType == 'buy' ? true : false\n      },\n      set (value) {\n        return value;\n      }\n    },\n\n    priceType: {\n      get () {\n        return this.getPriceType;\n      },\n      set (value) {\n        this.$store.commit(\"orderWindow/setPriceType\", value);\n      //  !this.marginLoader ?  this.$store.dispatch('orderWindow/getMarginAvailable', 'priceType')  : ''\n      },\n    },\n\n    prodType: {\n      get () {\n        return this.getProdType;\n      },\n      set (value) {\n        this.$store.commit(\"orderWindow/setProdType\", value);\n        // !this.marginLoader ? this.$store.dispatch('orderWindow/getMarginAvailable', 'prodType') : ''\n      },\n    },\n\n    orderTab: {\n      get () {\n        return this.getOrderTab;\n      },\n      set (value) {\n        this.$store.commit(\"orderWindow/setOrderTab\", value);\n        // !this.marginLoader ? this.$store.dispatch('orderWindow/getMarginAvailable', 'orderTab') : ''\n      },\n    },\n\n    validityType: {\n      get () { return this.getValidityType },\n      set (value) {\n        this.$store.commit(\"orderWindow/setValidityType\", value);\n      }\n    },\n\n    showValidityItems: {\n      get () {\n        return this.validityItems;\n      },\n      set (value) {\n        this.$store.commit(\"orderWindow/setValidityItems\", value);\n      }\n    }\n  },\n\n  methods: {\n    // change tab hide show function\n    changeOrderTab () {\n      this.errorMsg = \"\";\n      if (this.orderTypeList[this.orderTab] == 'Cover') {\n        this.showproductItems = this.coverOrBracketProductItems;\n        this.showPriceItems = this.coverPriceItems;\n        // this.showValidityItems = this.coverOrBracketValidityItems;\n        this.$store.commit(\"orderWindow/setValidityItems\", this.coverOrBracketValidityItems);\n      } else if (this.orderTypeList[this.orderTab] == 'Bracket') {\n        this.showproductItems = this.coverOrBracketProductItems;\n        this.showPriceItems = this.bracketPriceItems;\n        // this.showValidityItems = this.coverOrBracketValidityItems;\n        this.$store.commit(\"orderWindow/setValidityItems\", this.coverOrBracketValidityItems);\n      }else if (this.orderTypeList[this.orderTab] == 'AMO') {\n        this.showproductItems =\n          this.currentExchange == \"NSE\" || this.currentExchange == \"BSE\"\n            ? this.$store.state.orderWindow.eqProductItems\n            : this.$store.state.orderWindow.allProductItems;\n        // this.showproductItems = this.coverOrBracketProductItems;\n        this.showPriceItems = [\"L\"]\n        this.$store.commit(\"orderWindow/setValidityItems\", this.coverOrBracketValidityItems);\n      } else if (this.orderTypeList[this.orderTab]) {\n        this.showPriceItems =  this.isNfo\n          ? this.$store.state.orderWindow.allPriceItems\n          : this.$store.state.orderWindow.postionPriceItems;\n        this.showproductItems =\n          this.currentExchange == \"NSE\" || this.currentExchange == \"BSE\"\n            ? this.$store.state.orderWindow.eqProductItems\n            : this.$store.state.orderWindow.allProductItems;\n        // this.showValidityItems = this.validityItems;\n        this.$store.commit(\"orderWindow/setValidityItems\", ['DAY', 'IOC']);\n      }\n      this.$store.commit('orderWindow/changeOrderType', this.getOrderTabValue())\n      // this.$store.dispatch('common/setProdTypeCommon' , '')\n    },\n\n    // find select order type like regular Or amo\n    selectedIndex (selectedOrder) {\n      this.currentOrderTab = selectedOrder.toLowerCase();\n      this.$store.commit('orderWindow/changeOrderType', this.getOrderTabValue())\n    },\n\n    //Toggle orderWindow\n    async toggleOrderWindow () {\n     var order = this.orderType == \"buy\" ? \"sell\" : \"buy\";\n     await this.$store.commit(\"orderWindow/setOrderType\", order);\n     await this.$store.commit(\"orderWindow/valiDateQty\", \"\");\n    },\n\n    //call orderWindow\n    async hideOrderWindow () {\n      !this.modifyOrder ? this.$store.commit(\"orderWindow/setOrderWindow\", false) : this.$store.commit(\"orderWindow/setOrderWindowModify\", false)\n    },\n\n    // order place\n    async placeOrder () {\n      this.isFormSubmit = true;\n      let json = {\n        qty: this.quantity,\n        complexity: this.getOrderTabValue(this.ordertab),\n        pcode: this.prodType.toLowerCase(),\n        priceType: this.priceType,\n        price: this.price,\n        trgPrice: this.triggerPrice,\n        stopLoss: this.stopLossPrice,\n        trailStopLoss: this.trailStopLossPrice,\n        discQty: this.disclosedQuantity,\n        validity: this.validityType,\n      };\n      var qtyInputBox = document.querySelector(\"#qty\");\n      var priceInputBox = document.querySelector(\"#price\");\n      var trgPriceInputBox = document.querySelector(\"#triggerPrice\");\n      var targetPriceInputBox = document.querySelector(\"#triggerPrice\");\n      var stopLossPriceInputBox = document.querySelector(\"#stopLossPrice\");\n      var trailStopLossPriceInputBox = document.querySelector(\"#trailStopLossPrice\");\n      var discQtyInputBox = document.querySelector(\"#discQty\");\n      this.quantityValidation();\n      this.priceValidation();\n      this.triggerPriceValiation();\n      if (this.orderTypeList[this.orderTab] === 'Bracket') {\n        this.targetPriceValidation();\n        this.stopLossPriceValidation();\n        this.trailPriceValidation();  \n      }\n      if (this.showMore) {\n        this.discQtyValidation();\n      }\n      if (this.orderTypeList[this.orderTab] == 'Bracket' ? targetPriceInputBox.checkValidity() && stopLossPriceInputBox.checkValidity() && trailStopLossPriceInputBox.checkValidity() : true && qtyInputBox.checkValidity() && this.isPrice ? priceInputBox.checkValidity() : true && this.isTrgPrice ? trgPriceInputBox.checkValidity() : true &&\n        this.showMore ? discQtyInputBox.checkValidity() : true) {\n        this.hideOrderWindow();\n        this.modifyOrder\n          ? await this.$store.dispatch(\"orderWindow/modifyOrder\", json)\n          : await this.$store.dispatch(\"orderWindow/placeOrder\", json);\n      }\n      this.isFormSubmit = false;\n    },\n\n    checkQuantity (event) {\n      if (event.keyCode != 13) {\n        this.showError = true;\n        var inp = String.fromCharCode(event.keyCode);\n        if (/[0-9]/.test(inp)) {\n          return true;\n        } else {\n          event.preventDefault();\n          return false;\n        }\n      }\n    },\n\n    decimalAllowed (event) {\n      if (event.keyCode != 13) {\n        this.showError = true;\n        var inp = String.fromCharCode(event.keyCode);\n        if (/[0-9.]/.test(inp)) {\n          return true;\n        } else {\n          event.preventDefault();\n          return false;\n        }\n      }\n    },\n\n    // quantity validation\n    quantityValidation () {\n      var qtyVal = parseFloat(this.quantity);\n      var qtyLot = this.floatSafeRemainder(qtyVal, this.minlot);\n      const qtyInputBox = document.querySelector(\"#qty\");\n      if (this.quantity.toString() == \"\") {\n        return qtyInputBox.setCustomValidity(\"Quantity cannot not be empty\")\n      } else if (qtyVal == 0) {\n        return qtyInputBox.setCustomValidity(\"Quantity cannot be zero\")\n      } else if (qtyLot != 0 && this.minlot > 0) {\n        return qtyInputBox.setCustomValidity(\"Quantity should be multiple of lot size. (\" + this.minlot + \")\")\n      } else {\n        qtyInputBox.setCustomValidity('')\n      }\n    },\n\n    // price validation\n    priceValidation () {\n      const priceInputBox = document.querySelector(\"#price\");\n      var priceVal = parseFloat(this.price);\n      var lowerRangeVal = parseFloat(this.lowerRange);\n      var upperRangeVal = parseFloat(this.upperRange);\n      var checkDprVal = this.checkDpr(priceVal, upperRangeVal, lowerRangeVal)\n      var priceTick = this.floatSafeRemainder(priceVal, this.tickPrice);\n\n      if (this.price.toString() == \"\") {\n        priceInputBox.setCustomValidity('Price cannot be Empty')\n        return;\n      } else if (priceVal == 0) {\n        priceInputBox.setCustomValidity(`Price cannot be zero`);\n        this.isFormSubmit ? priceInputBox.reportValidity() : ''\n        return;\n      } else if (priceTick != 0) {\n        priceInputBox.setCustomValidity(`Price Should be multiple of Tick size ${this.tickPrice}`)\n        return;\n      } else if (\n        !checkDprVal && this.ltp != 0 && Number(this.ltp) >= lowerRangeVal && Number(this.ltp) <= upperRangeVal &&\n        this.priceType != \"market\" &&\n        this.priceType != \"sl-m\"\n      ) {\n        priceInputBox.setCustomValidity(`Price Should be within the DPR range`)\n        return;\n      } else {\n        priceInputBox.setCustomValidity('')\n      }\n    },\n\n    // stoploss price validation\n    triggerPriceValiation () {\n      const trgPriceInputBox = document.querySelector(\"#triggerPrice\");\n      var trigPriceVal = parseFloat(this.triggerPrice);\n      var trigTick = this.floatSafeRemainder(trigPriceVal, this.tickPrice);\n      if (this.triggerPrice.toString() == \"\") {\n        trgPriceInputBox.setCustomValidity('Trigger Price cannot be Empty');\n        return;\n      } else if (trigPriceVal == 0) {\n        trgPriceInputBox.setCustomValidity('Trigger Price cannot be zero');\n        return;\n      } else if (trigTick != 0) {\n        trgPriceInputBox.setCustomValidity(`Trigger Price Should be multiple of Ticks ${this.tickPrice}`);\n        return;\n      } else {\n        trgPriceInputBox.setCustomValidity('');\n      }\n    },\n\n    //targetPrice based on Exchange\n    targetPriceValidation () {\n      const targetPriceInputBox = document.querySelector(\"#targetPrice\");\n      var value = parseFloat(this.targetPrice);\n      var targetTick = this.floatSafeRemainder(value, this.tickPrice);\n      if (this.targetPrice.toString() == \"\") {\n        targetPriceInputBox.setCustomValidity('Target Price Cannot be Empty')\n        return\n      } else if (value == 0) {\n        targetPriceInputBox.setCustomValidity('Target Price should be greater than 0')\n        this.isFormSubmit ? targetPriceInputBox.reportValidity() : ''\n        return\n      } else if (targetTick != 0) {\n        targetPriceInputBox.setCustomValidity(`Target Price should be multiple of \" + ${this.tickPrice}`)\n        return\n      } else {\n        targetPriceInputBox.setCustomValidity('')\n        return\n      }\n    },\n\n    //stopLossPrice based on Exchange\n    stopLossPriceValidation () {\n      const stopLossPriceInputBox = document.querySelector(\"#stopLossPrice\");\n      var value = parseFloat(this.stopLossPrice);\n      var slTick = this.floatSafeRemainder(value, this.tickPrice);\n      if (this.stopLossPrice.toString() == \"\") {\n        stopLossPriceInputBox.setCustomValidity('Stoploss Price Cannot be Empty')\n        return;\n      } else if (value <= 0) {\n        stopLossPriceInputBox.setCustomValidity('Stoploss Price Cannot be less then 0')\n        this.isFormSubmit ? stopLossPriceInputBox.reportValidity() : ''\n        return;\n      } else if (slTick != 0 && slTick != \"0\") {\n        stopLossPriceInputBox.setCustomValidity(`Stoploss Price Should be multiple of \" + ${this.tickPrice}`)\n        return;\n      } else {\n        return stopLossPriceInputBox.setCustomValidity('')\n      }\n    },\n\n    //trailPrice based on Exchange\n    trailPriceValidation () {\n      const trailStopLossPriceInputBox = document.querySelector(\"#trailStopLossPrice\");\n      var value = parseFloat(this.trailStopLossPrice);\n      var trailTick = this.floatSafeRemainder(\n        this.trailStopLossPrice,\n        this.tickPrice\n      );\n      var targetVal = parseFloat(this.targetPrice);\n      if (this.trailStopLossPrice.toString() == \"\") {\n        trailStopLossPriceInputBox.setCustomValidity('TrailStoploss Price Cannot be Empty')\n        return;\n      } else if (trailTick != 0) {\n        trailStopLossPriceInputBox.setCustomValidity(`TrailStoploss Should be multiple of \" + (${this.tickPrice})`)\n        return;\n      } else if (this.priceType == \"L\" && value < this.tickPrice && value != 0) {\n        trailStopLossPriceInputBox.setCustomValidity(`Trailing Stoploss should be minimum of TickPrice`)\n        return;\n      } else if (targetVal < value && value != 0) {\n        trailStopLossPriceInputBox.setCustomValidity(`TrailStoploss Should be Less than \" + (${targetVal})`)\n        this.isFormSubmit ? trailStopLossPriceInputBox.reportValidity() : ''\n        return;\n      } else {\n        trailStopLossPriceInputBox.setCustomValidity('')\n      }\n    },\n\n    //Disclosed qty based on Exchange\n    discQtyValidation () {\n      const discQtyInputBox = document.querySelector(\"#discQty\");\n      let dicPercentage;\n      var disclosedQty = parseFloat(this.disclosedQuantity);\n      var qty = parseFloat(this.currentQty);\n      if (this.currentExchange == \"MCX\") {\n        dicPercentage = 25 / this.Qty;\n      } else {\n        dicPercentage = 10 / this.Qty;\n      }\n      var disCheck = parseFloat(disclosedQty / qty);\n      this.discQtytik = Math.ceil(disCheck);\n\n      /** Disclosed quantity */\n      if (this.currentExchange != \"NFO\" && this.currentExchange != \"BFO\") {\n        if (this.disclosedQuantity.toString() == \"\") {\n          discQtyInputBox.setCustomValidity('Disc.Qty should not be empty')\n          return;\n        } else if (disclosedQty < this.discQtytik && disclosedQty != 0) {\n          if (this.currentExchange == \"MCX\") {\n            discQtyInputBox.setCustomValidity('Disc.Qty should be either 0 or 25% to 100% of quantity')\n            return;\n          } else if (this.currentExchange != \"MCX\") {\n            discQtyInputBox.setCustomValidity('Disc.Qty should be either 0 or 10% to 100% of quantity')\n            return;\n          } else {\n            discQtyInputBox.setCustomValidity('')\n          }\n        } else if (disclosedQty > qty) {\n          discQtyInputBox.setCustomValidity('Disc.Qty cannot be greater than Qty')\n          return;\n        } else {\n          discQtyInputBox.setCustomValidity('')\n        }\n      }\n      discQtyInputBox.reportValidity()\n    },\n\n    //Float Safe Remainder of last 2 digits or 4 digits\n    floatSafeRemainder (val, step) {\n      val = val.toString();\n      step = step.toString();\n      var valDecCount = val.includes(\".\")\n        ? val.split(\".\")[1].length != null\n          ? val.split(\".\")[1].length\n          : 0\n        : val.length;\n      var stepDecCount = step.includes(\".\")\n        ? step.split(\".\")[1].length != null\n          ? step.split(\".\")[1].length\n          : 0\n        : step.length;\n      var decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;\n      var valInt = parseFloat(\n        parseFloat(val).toFixed(decCount).toString().replaceAll(\".\", \"\")\n      );\n      var stepInt = parseFloat(\n        parseFloat(step).toFixed(decCount).toString().replaceAll(\".\", \"\")\n      );\n      return (valInt % stepInt) / Math.pow(10, decCount);\n    },\n\n    getOrderTabValue () {\n      return this.orderTypeList[this.orderTab] == 'Regular'\n        ? \"regular\"\n        : this.orderTypeList[this.orderTab] == 'Cover'\n          ? \"cover\"\n          : this.orderTypeList[this.orderTab] == 'Bracket'\n            ? \"bracket\"\n            : this.orderTypeList[this.orderTab] == 'AMO'\n              ? \"amo\"\n              : \"regular\";\n    },\n\n    // capitalize first letter\n    capitalizeFirstLetter (string) {\n      return string.charAt(0).toUpperCase() + string.slice(1);\n    },\n\n    async nseBseSwitch (exch) {\n      await this.$store.commit('orderWindow/makeActive', exch)\n      this.priceValidation()\n    },\n\n    checkDpr (price, uc, lc) {\n      return uc !== 0 && price >= lc && price <= uc\n    },\n  },\n\n  watch: {\n    priceType: function (val) {\n      this.$store.commit('orderWindow/changeOrderType', this.getOrderTabValue())\n      if (\n        (this.currentPage == \"mkWatch\" || this.currentPage == \"orders\" || this.currentPage == \"analytics\") &&\n        this.modifyOrder == false\n      ) {\n        localStorage.setItem(\n          \"orderPreference\",\n          JSON.stringify({\n            product: this.prodType,\n            validity: this.validityType,\n            variety: this.getOrderTabValue(this.orderType),\n            orderType: this.priceType,\n          })\n        );\n      }\n      if (val == 'L') {\n        this.price ? this.priceValidation() : ''\n      }\n      if (val == 'SL') {\n        this.price ? this.priceValidation() : ''\n        this.triggerPrice ? this.triggerPriceValiation() : ''\n      }\n      if (val == 'SL-M') {\n        this.triggerPrice ? this.triggerPriceValiation() : ''\n      }\n    },\n\n    prodType: function (val) {\n      if (\n        (this.currentPage == \"mkWatch\" || this.currentPage == \"orders\" || this.currentPage == \"analytics\") &&\n        this.modifyOrder == false\n      ) {\n        localStorage.setItem(\n          \"orderPreference\",\n          JSON.stringify({\n            product: this.prodType,\n            validity: this.validityType,\n            variety: this.getOrderTabValue(this.orderTab),\n            orderType: this.priceType,\n          })\n        );\n      }\n    },\n\n    orderTab: function (val) {\n      if (\n        (this.currentPage == \"mkWatch\" || this.currentPage == \"orders\" || this.currentPage == \"analytics\") &&\n        this.modifyOrder == false\n      ) {\n        localStorage.setItem(\n          \"orderPreference\",\n          JSON.stringify({\n            product: this.prodType,\n            validity: this.validityType,\n            variety: this.getOrderTabValue(this.orderTab),\n            orderType: this.priceType,\n          })\n        );\n      }\n    },\n\n    validityType: function (val) {\n      if (\n        (this.currentPage == \"mkWatch\" || this.currentPage == \"orders\" || this.currentPage == \"analytics\") &&\n        this.modifyOrder == false\n      ) {\n        localStorage.setItem(\n          \"orderPreference\",\n          JSON.stringify({\n            product: this.prodType,\n            validity: this.validityType,\n            variety: this.getOrderTabValue(this.orderTab),\n            orderType: this.priceType,\n          })\n        );\n      }\n    },\n  },\n\n  created () {\n    if (localStorage.getItem(\"orderPreference\") == null || localStorage.getItem(\"orderPreference\") == undefined) {\n      localStorage.setItem(\n        \"orderPreference\",\n        JSON.stringify({\n          product: this.prodType,\n          validity: this.validityType,\n          variety: this.getOrderTabValue(this.orderTab),\n          orderType: this.priceType,\n        })\n      );\n    }\n  },\n};"],"mappings":"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"}]}