{"remainingRequest":"/home/stoneage/VUE.JS Projects/Admin-panel/zebu-admin/node_modules/babel-loader/lib/index.js!/home/stoneage/VUE.JS Projects/Admin-panel/zebu-admin/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/stoneage/VUE.JS Projects/Admin-panel/zebu-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/stoneage/VUE.JS Projects/Admin-panel/zebu-admin/src/views/contents/news.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/stoneage/VUE.JS Projects/Admin-panel/zebu-admin/src/views/contents/news.vue","mtime":1666013779320},{"path":"/home/stoneage/VUE.JS Projects/Admin-panel/zebu-admin/babel.config.js","mtime":1654503973575},{"path":"/home/stoneage/VUE.JS Projects/Admin-panel/zebu-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/stoneage/VUE.JS Projects/Admin-panel/zebu-admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/stoneage/VUE.JS Projects/Admin-panel/zebu-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/stoneage/VUE.JS Projects/Admin-panel/zebu-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvc3RvbmVhZ2UvVlVFLkpTIFByb2plY3RzL0FkbWluLXBhbmVsL3plYnUtYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmVycm9yLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmRhdGUudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7CmltcG9ydCBjb21tb25GdW5jIGZyb20gIi4uLy4uL21peGlucy9jb21tb25GdW5jdGlvbnMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbWl4aW5zOiBbY29tbW9uRnVuY10sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRpYWxvZzogZmFsc2UsCiAgICAgIG5ld3NJbmZvOiAiIiwKICAgICAgaXNGb3JtVmFsaWQ6ICIiLAogICAgICB0b2tlbjogIiIsCiAgICAgIGhlYWRlcnM6IFt7CiAgICAgICAgdGV4dDogIlMuTk8iLAogICAgICAgIGFsaWduOiAic3RhcnQiLAogICAgICAgIHNvcnRhYmxlOiBmYWxzZQogICAgICB9LCB7CiAgICAgICAgdGV4dDogIlNvdXJjZSIsCiAgICAgICAgdmFsdWU6ICJzb3VyY2UiLAogICAgICAgIHNvcnRhYmxlOiBmYWxzZQogICAgICB9LCB7CiAgICAgICAgdGV4dDogIkhlYWRMaW5lIiwKICAgICAgICB2YWx1ZTogImhlYWRMaW5lIiwKICAgICAgICBzb3J0YWJsZTogZmFsc2UKICAgICAgfSwgewogICAgICAgIHRleHQ6ICJTdWJqZWN0IiwKICAgICAgICB2YWx1ZTogInN1YmplY3QiLAogICAgICAgIHNvcnRhYmxlOiBmYWxzZQogICAgICB9LCB7CiAgICAgICAgdGV4dDogIkRhdGUiLAogICAgICAgIHZhbHVlOiAiZGF0ZSIsCiAgICAgICAgc29ydGFibGU6IGZhbHNlCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAiQWN0aW9ucyIsCiAgICAgICAgYWxpZ246ICJjZW50ZXIiLAogICAgICAgIHZhbHVlOiAiIiwKICAgICAgICBzb3J0YWJsZTogZmFsc2UKICAgICAgfV0KICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKHsKICAgIHNlYXJjaDogImdldFNlYXJjaCIKICB9KSksIG1hcEdldHRlcnMoJ25ld3MnLCB7CiAgICBuZXdzTGlzdDogImdldE5ld3NEYXRhIgogIH0pKSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goIm5ld3MvZ2V0TmV3cyIpOwogICAgdGhpcy5yYW5kb21OdW1iZXJHZW5lcmF0b3IoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFkZE9yRWRpdE5ld3M6IGZ1bmN0aW9uIGFkZE9yRWRpdE5ld3Moa2V5KSB7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJhZGRPckVkaXROZXdzIiwgSlNPTi5zdHJpbmdpZnkoa2V5KSk7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvYWRkT3JFZGl0TmV3cyIpOwogICAgfSwKICAgIGNvbmZpcm1hdGlvbkFsZXJ0OiBmdW5jdGlvbiBjb25maXJtYXRpb25BbGVydCh2YWwpIHsKICAgICAgdGhpcy5kaWFsb2cgPSB0cnVlOwogICAgICB0aGlzLm5ld3NJbmZvID0gdmFsOwogICAgICBjb25zb2xlLmxvZyh2YWwpOwogICAgfSwKICAgIGRlbGV0ZU5ld3M6IGZ1bmN0aW9uIGRlbGV0ZU5ld3Moa2V5KSB7CiAgICAgIHRoaXMuZGlhbG9nID0gZmFsc2U7CgogICAgICBpZiAodGhpcy50b2tlbiA9PSB0aGlzLmlzRm9ybVZhbGlkKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goIm5ld3MvZGVsZXRlTmV3cyIsIHsKICAgICAgICAgIHNlY3RvcklkOiB0aGlzLm5ld3NJbmZvCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5kaWFsb2cgPSB0cnVlOwogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiU0VUX1NOQUtCQVIiLCB7CiAgICAgICAgICBtc2c6ICJQbGVhc2UgZW50ZXIgdmFsaWQgY2FwdGNoYSIsCiAgICAgICAgICBzaG93OiB0cnVlLAogICAgICAgICAgY29sb3I6ICJyZWQgZGFya2VuLTEiLAogICAgICAgICAgdGltZW91dDogMzAwMAogICAgICAgIH0pOwogICAgICB9IC8vIGxldCBqc29ub2JqID0gewogICAgICAvLyAgIG5ld3NJZDogdGhpcy5uZXdzSW5mbywKICAgICAgLy8gfTsKICAgICAgLy8gdGhpcy4kc3RvcmUuZGlzcGF0Y2goIm5ld3MvZGVsZXRlTmV3cyIsIGpzb25vYmopOwogICAgICAvLyB0aGlzLmRpYWxvZyA9IGZhbHNlCgogICAgfSwKICAgIHJhbmRvbU51bWJlckdlbmVyYXRvcjogZnVuY3Rpb24gcmFuZG9tTnVtYmVyR2VuZXJhdG9yKCkgewogICAgICB2YXIgcmFuZG9tVG9rZW4gPSAoTWF0aC5yYW5kb20oKSArIDIpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoNSk7CiAgICAgIHRoaXMudG9rZW4gPSByYW5kb21Ub2tlbjsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA;AACA;AACA;EACAA,oBADA;EAGAC,IAHA,kBAGA;IACA;MACAC,aADA;MAEAC,YAFA;MAGAC,eAHA;MAIAC,SAJA;MAKAC,UACA;QAAAC;QAAAC;QAAAC;MAAA,CADA,EAEA;QAAAF;QAAAG;QAAAD;MAAA,CAFA,EAGA;QAAAF;QAAAG;QAAAD;MAAA,CAHA,EAIA;QAAAF;QAAAG;QAAAD;MAAA,CAJA,EAKA;QAAAF;QAAAG;QAAAD;MAAA,CALA,EAMA;QAAAF;QAAAC;QAAAE;QAAAD;MAAA,CANA;IALA;EAcA,CAlBA;EAoBAE,0CACAC;IACAC;EADA,EADA,GAIAD;IACAE;EADA,EAJA,CApBA;EA6BAC,OA7BA,qBA6BA;IACA;IACA;EACA,CAhCA;EAkCAC;IACAC,aADA,yBACAC,GADA,EACA;MACAC;MACA;IACA,CAJA;IAKAC,iBALA,6BAKAC,GALA,EAKA;MACA;MACA;MACAC;IACA,CATA;IAUAC,UAVA,sBAUAL,GAVA,EAUA;MACA;;MACA;QACA;UAAAM;QAAA;MACA,CAFA,MAGA;QACA;QACA;UACAC,iCADA;UAEAC,UAFA;UAGAC,qBAHA;UAIAC;QAJA;MAMA,CAbA,CAcA;MACA;MACA;MACA;MACA;;IACA,CA7BA;IA8BAC,qBA9BA,mCA8BA;MACA;MACA;IACA;EAjCA;AAlCA","names":["mixins","data","dialog","newsInfo","isFormValid","token","headers","text","align","sortable","value","computed","mapGetters","search","newsList","mounted","methods","addOrEditNews","key","localStorage","confirmationAlert","val","console","deleteNews","sectorId","msg","show","color","timeout","randomNumberGenerator"],"sourceRoot":"src/views/contents","sources":["news.vue"],"sourcesContent":["<template>\n  <div>\n    <v-row class=\"ma-0 pa-2 align-center\">\n      <v-col cols=\"2\" class=\"pa-0\">\n      </v-col>\n      <v-col class=\"pa-0\" cols=\"1\"></v-col>\n      <v-col cols=\"6\" class=\"pa-0\" style=\"height: 40px\">\n      </v-col>\n      <v-col class=\"pa-0\" cols=\"1\"></v-col>\n      <v-col cols=\"2\" class=\"pa-0 d-flex justify-end\">\n        <v-btn depressed color=\"primary\" class=\"text-capitalize\" min-width=\"155px\" @click=\"addOrEditNews('0')\">\n          Add News\n        </v-btn>\n      </v-col>\n    </v-row>\n\n    <v-data-table v-if=\"newsList.length != 0\" :headers=\"headers\" v-bind:items=\"newsList\" :search=\"search\" :value=\"newsList\" class=\"elevation-1 my-2 border-top\" id=\"table\" item-key=\"name\" single-select>\n      <template v-slot:item=\"props\">\n        <tr>\n          <td>{{ props.index + 1 }}</td>\n          <td class=\"min-w-120\">{{ props.item.source }}</td>\n          <td>{{ props.item.headLine }}</td>\n          <td>{{ props.item.subject }}</td>\n          <td class=\"min-w-120\">{{ getDateString(new Date(props.item.date.split(' ')[0]), \"d-M-y\") }}</td>\n          <td class=\"text-center min-w-120\"><v-icon class=\"pr-4\" medium @click=\"addOrEditNews(props.item.newsId)\"> mdi-pencil </v-icon>\n          <v-icon medium @click=\"confirmationAlert(props.item.newsId)\"> mdi-delete </v-icon>\n          </td>\n        </tr>\n      </template>\n    </v-data-table>\n\n    <div v-else>\n      <div class=\"text-center pa-5\">\n        <v-icon class=\"display-2 pb-4\">mdi-thought-bubble-outline</v-icon>\n        <div class=\"\">Data Not Found</div>\n      </div>\n    </div>\n    \n    <template v-bind:items=\"sectorList\">\n      <v-layout row justify-center>\n        <v-dialog v-model=\"dialog\" persistent max-width=\"290\">\n          <v-card>\n            <v-card-title class=\"text-h5 fsize13\" style=\"font-size: 21px !important;\">\n              Are you sure you want to delete this news ?\n            </v-card-title>\n           <v-card-text>Please type <span style=\"font-weight: bold; color: black;\">{{ this.token }}</span> to confirm ?\n            </v-card-text>\n            <div class=\"px-6\">\n              <v-text-field label=\"Enter Captcha\" v-model=\"isFormValid\"></v-text-field>\n            </div>\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn color=\"blue darken-1\" text @click=\"dialog = false\">\n                Close\n              </v-btn>\n              <v-btn color=\"red darken-1\" text :disabled=\"!isFormValid\" @click=\"deleteNews()\">\n                YES, Delete\n              </v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n      </v-layout>\n    </template>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport commonFunc from \"../../mixins/commonFunctions\";\nexport default {\n  mixins: [commonFunc],\n\n  data() {\n    return {\n      dialog: false,\n      newsInfo: \"\",\n      isFormValid: \"\",\n      token: \"\",\n      headers: [\n        { text: \"S.NO\", align: \"start\", sortable: false },\n        { text: \"Source\", value: \"source\", sortable: false },\n        { text: \"HeadLine\", value: \"headLine\", sortable: false },\n        { text: \"Subject\", value: \"subject\", sortable: false },\n        { text: \"Date\", value: \"date\", sortable: false },\n        { text: \"Actions\", align: \"center\", value: \"\", sortable: false },\n      ],\n    };\n  },\n\n  computed: {\n    ...mapGetters({\n      search: \"getSearch\",\n    }),\n    ...mapGetters('news',{\n      newsList: \"getNewsData\",\n    }),\n  },\n\n  mounted() {\n    this.$store.dispatch(\"news/getNews\");\n    this.randomNumberGenerator()\n  },\n\n  methods: {\n    addOrEditNews(key) {\n      localStorage.setItem(\"addOrEditNews\", JSON.stringify(key));\n      this.$router.push(\"/addOrEditNews\");\n    },\n    confirmationAlert(val){\n     this.dialog = true\n     this.newsInfo = val\n     console.log(val);\n    },\n    deleteNews(key) {\n       this.dialog = false\n      if (this.token == this.isFormValid) {\n        this.$store.dispatch(\"news/deleteNews\", { sectorId: this.newsInfo });\n      }\n      else {\n        this.dialog = true\n        this.$store.commit(\"SET_SNAKBAR\", {\n          msg: \"Please enter valid captcha\",\n          show: true,\n          color: \"red darken-1\",\n          timeout: 3000,\n        });\n      }\n      // let jsonobj = {\n      //   newsId: this.newsInfo,\n      // };\n      // this.$store.dispatch(\"news/deleteNews\", jsonobj);\n      // this.dialog = false\n    },\n       randomNumberGenerator() {\n      let randomToken = (Math.random() + 2).toString(36).substring(5);\n      this.token = randomToken\n    }\n  }\n};\n</script>\n\n"]}]}