{"remainingRequest":"/home/stoneage/VUE.JS Projects/Admin-panel/zebu-admin/node_modules/babel-loader/lib/index.js!/home/stoneage/VUE.JS Projects/Admin-panel/zebu-admin/src/store/modules/orderWindow.js","dependencies":[{"path":"/home/stoneage/VUE.JS Projects/Admin-panel/zebu-admin/src/store/modules/orderWindow.js","mtime":1666780218805},{"path":"/home/stoneage/VUE.JS Projects/Admin-panel/zebu-admin/babel.config.js","mtime":1654503973575},{"path":"/home/stoneage/VUE.JS Projects/Admin-panel/zebu-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/stoneage/VUE.JS Projects/Admin-panel/zebu-admin/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL2hvbWUvc3RvbmVhZ2UvVlVFLkpTIFByb2plY3RzL0FkbWluLXBhbmVsL3plYnUtYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvaG9tZS9zdG9uZWFnZS9WVUUuSlMgUHJvamVjdHMvQWRtaW4tcGFuZWwvemVidS1hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL2hvbWUvc3RvbmVhZ2UvVlVFLkpTIFByb2plY3RzL0FkbWluLXBhbmVsL3plYnUtYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5LmpzIjsKCnZhciBfc3RhdGU7CgppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5lcnJvci50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5kYXRlLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnBhcnNlLWZsb2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5wYXJzZS1pbnQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIudG8tZml4ZWQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZi5qcyI7CmltcG9ydCBzZXJ2aWNlIGZyb20gJy4uL2h0dHBTZXJ2aWNlJzsKaW1wb3J0IGVycm9ySGFuZGxpbmcgZnJvbSAnLi4vZXJyb3JIYW5kbGluZyc7CmltcG9ydCByb3V0ZXIgZnJvbSAnQC9yb3V0ZXInOwoKZnVuY3Rpb24gY2hlY2tOdWxsTmFuKHZhbHVlKSB7CiAgcmV0dXJuIHZhbHVlICYmICEhdmFsdWUgJiYgdmFsdWUudG9TdHJpbmcoKSAhPSAiTkEiICYmIHZhbHVlLnRvU3RyaW5nKCkgIT0gIi0iICYmICFpc05hTih2YWx1ZSkgPyB0cnVlIDogZmFsc2U7Cn0KCmZ1bmN0aW9uIHNldFF0eUZvY3VzKCkgewogIHZhciBxdHlJbnB1dEJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNxdHkiKTsKICBxdHlJbnB1dEJveCAhPSBudWxsID8gcXR5SW5wdXRCb3guZm9jdXMoKSA6ICcnOwp9Cgp2YXIgb3JkZXJXaW5kb3cgPSB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogKF9zdGF0ZSA9IHsKICAgIC8vIHdpbmRvdyBidG5zIHN0YXRlIHZhcmlhYmxlcwogICAgb3JkZXJUeXBlTGlzdDogWyJSZWd1bGFyIiwgIkNvdmVyIiwgIkJyYWNrZXQiLCAiQU1PIl0sCiAgICB2YWxpZGl0eUl0ZW1zOiBbIkRBWSIsICJJT0MiXSwKICAgIGJyYWNrZXRQcmljZUl0ZW1zOiBbIkwiLCAiU0wiXSwKICAgIGNvdmVyUHJpY2VJdGVtczogWyJMIiwgIk1LVCJdLAogICAgb3JkZXJUYWI6IG51bGwsCiAgICBwcmljZVR5cGU6IG51bGwsCiAgICBwcm9kVHlwZTogbnVsbCwKICAgIHZhbGlkaXR5VHlwZTogJ0RBWScsCiAgICBzaG93T3JkZXJXaW5kb3c6IGZhbHNlLAogICAgcmVtb3ZlQ3NzOiB0cnVlLAogICAgb3JkZXJUeXBlOiAnQnV5JywKICAgIC8vIG9yZGVyU3dpdGNoCiAgICB0b2dnbGVPcmRlcjogZmFsc2UsCiAgICBjdXJyZW50T3JkZXI6IFtdLAogICAgcHJpY2VSYW5nZURldGFpbHM6IFtdLAogICAgc2NyaXB0UXVvdGVEZXRhaWxzOiBbXSwKICAgIGN1cnJlbnRFeGNoYW5nZTogJycsCiAgICBjdXJyZW50SW5zdHJ1bWVudDogJycsCiAgICBjdXJyZW50VG9rZW46ICcnLAogICAgLy8gcXR5ICYgcHJpY2UgVmFsdWVzCiAgICBtaW5sb3Q6ICcnLAogICAgbHRwOiAnJywKICAgIGN1cnJlbnRMdHA6IG51bGwsCiAgICB0cmlnZ2VyUHJpY2U6ICcnLAogICAgdGlja1ByaWNlOiAnJywKICAgIGRpc2Nsb3NlZFF1YW50aXR5OiAwLAogICAgcXVhbnRpdHk6ICcnLAogICAgcHJpY2U6ICcnLAogICAgLy8gZGlzYWJsZSBpbnB1dHMgYm9vbGVhbgogICAgaXNQcmljZTogQm9vbGVhbiwKICAgIGlzVHJnUHJpY2U6IEJvb2xlYW4sCiAgICBpc0Rpc2Nsb3NlZFF0eTogQm9vbGVhbiwKICAgIC8vIHByaWNlIHJhbmdlIGRhdGEKICAgIG5zZVByaWNlUmFuZ2VEYXRhOiBbXSwKICAgIGJzZVByaWNlUmFuZ2VEYXRhOiBbXSwKICAgIGxvd2VyUmFuZ2U6ICcnLAogICAgdXBwZXJSYW5nZTogJycsCiAgICBuc2VCc2VUeXBlOiBmYWxzZSwKICAgIG1vZGlmeU9yZGVyOiBmYWxzZSwKICAgIC8vIGN1cnJlbnRQYWdlIElkZW50aWZ5CiAgICBjdXJyZW50UGFnZTogJycKICB9LCBfZGVmaW5lUHJvcGVydHkoX3N0YXRlLCAiY3VycmVudEluc3RydW1lbnQiLCAnJyksIF9kZWZpbmVQcm9wZXJ0eShfc3RhdGUsICJpc05mbyIsIHRydWUpLCBfZGVmaW5lUHJvcGVydHkoX3N0YXRlLCAibG9hZGluZyIsIGZhbHNlKSwgX2RlZmluZVByb3BlcnR5KF9zdGF0ZSwgIndpbmRvd0xvYWRpbmciLCBmYWxzZSksIF9kZWZpbmVQcm9wZXJ0eShfc3RhdGUsICJhbGxQcmljZUl0ZW1zIiwgWyJMIiwgIk1LVCIsICJTTCIsICJTTC1NIl0pLCBfZGVmaW5lUHJvcGVydHkoX3N0YXRlLCAicG9zdGlvblByaWNlSXRlbXMiLCBbIkwiLCAiTUtUIiwgIlNMIl0pLCBfZGVmaW5lUHJvcGVydHkoX3N0YXRlLCAic2hvd1ByaWNlSXRlbXMiLCBbXSksIF9kZWZpbmVQcm9wZXJ0eShfc3RhdGUsICJlcVByb2R1Y3RJdGVtcyIsIFsiTUlTIiwgIkNOQyJdKSwgX2RlZmluZVByb3BlcnR5KF9zdGF0ZSwgImFsbFByb2R1Y3RJdGVtcyIsIFsiTUlTIiwgIk5STUwiXSksIF9kZWZpbmVQcm9wZXJ0eShfc3RhdGUsICJzaG93cHJvZHVjdEl0ZW1zIiwgW10pLCBfZGVmaW5lUHJvcGVydHkoX3N0YXRlLCAib3JkZXJEYXRhIiwgW10pLCBfZGVmaW5lUHJvcGVydHkoX3N0YXRlLCAiY2hhcnRTY3JpcERhdGEiLCBbXSksIF9kZWZpbmVQcm9wZXJ0eShfc3RhdGUsICJuc2VTd2l0Y2hQcmljZSIsICcwLjAwJyksIF9kZWZpbmVQcm9wZXJ0eShfc3RhdGUsICJic2VTd2l0Y2hQcmljZSIsICcwLjAwJyksIF9kZWZpbmVQcm9wZXJ0eShfc3RhdGUsICJhdmFpbGFibGVNYXJnaW4iLCAnMC4wMCcpLCBfZGVmaW5lUHJvcGVydHkoX3N0YXRlLCAibWFyZ2luTG9hZGVyIiwgZmFsc2UpLCBfc3RhdGUpLAogIG11dGF0aW9uczogewogICAgc2V0UmVtb3ZlQ3NzOiBmdW5jdGlvbiBzZXRSZW1vdmVDc3Moc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUucmVtb3ZlQ3NzID0gcGF5bG9hZDsKICAgIH0sCiAgICBzZXRPcmRlcldpbmRvdzogZnVuY3Rpb24gc2V0T3JkZXJXaW5kb3coc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUuc2hvd09yZGVyV2luZG93ID0gcGF5bG9hZDsKICAgICAgc3RhdGUubW9kaWZ5T3JkZXIgPSBmYWxzZTsKICAgIH0sCiAgICBzZXRPcmRlcldpbmRvd01vZGlmeTogZnVuY3Rpb24gc2V0T3JkZXJXaW5kb3dNb2RpZnkoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUuc2hvd09yZGVyV2luZG93ID0gcGF5bG9hZDsKICAgICAgc3RhdGUubW9kaWZ5T3JkZXIgPSB0cnVlOwogICAgfSwKICAgIHNldE9yZGVyVHlwZTogZnVuY3Rpb24gc2V0T3JkZXJUeXBlKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHN0YXRlLm9yZGVyVHlwZSA9IHBheWxvYWQ7CiAgICB9LAogICAgc2V0VG9nZ2xlT3JkZXI6IGZ1bmN0aW9uIHNldFRvZ2dsZU9yZGVyKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHN0YXRlLnRvZ2dsZU9yZGVyID0gcGF5bG9hZDsKICAgIH0sCiAgICBzZXRDdXJyZW50T3JkZXI6IGZ1bmN0aW9uIHNldEN1cnJlbnRPcmRlcihzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS5jdXJyZW50T3JkZXIgPSBwYXlsb2FkLmRhdGE7CiAgICAgIGNvbnNvbGUubG9nKHN0YXRlLmN1cnJlbnRPcmRlcik7CgogICAgICBpZiAocGF5bG9hZC5wYWdlID09ICJob2xkaW5ncyIpIHsKICAgICAgICBzdGF0ZS5jdXJyZW50RXhjaGFuZ2UgPSBwYXlsb2FkLmRhdGEuRXhjaFNlZzEgJiYgcGF5bG9hZC5kYXRhLk5zZXRzeW0gIT0gIjAiID8gcGF5bG9hZC5kYXRhLkV4Y2hTZWcxIDogcGF5bG9hZC5kYXRhLkV4Y2hTZWcyOwogICAgICAgIHN0YXRlLmN1cnJlbnRUb2tlbiA9IHN0YXRlLmN1cnJlbnRFeGNoYW5nZSA9PSAiTlNFIiA/IHBheWxvYWQuZGF0YS5Ub2tlbjEgOiBwYXlsb2FkLmRhdGEuVG9rZW4yOwogICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFnZSA9PSAiYW5hbHl0aWNzIikgewogICAgICAgIHN0YXRlLmN1cnJlbnRFeGNoYW5nZSA9IHBheWxvYWQuZXhjaDsKICAgICAgICBzdGF0ZS5jdXJyZW50VG9rZW4gPSBwYXlsb2FkLmRhdGEubnNlVG9rZW4gPyBwYXlsb2FkLmRhdGEubnNlVG9rZW4gOiBwYXlsb2FkLmRhdGEudG9rZW47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gVGhpcyBibG9jayBpcyBmb3IgUE9TSVRJT05TIGFuZCBPUkRFUlMKICAgICAgICBzdGF0ZS5jdXJyZW50RXhjaGFuZ2UgPSBwYXlsb2FkLnBhZ2UgPT0gJ21rV2F0Y2gnID8gcGF5bG9hZC5kYXRhLmV4Y2ggOiBwYXlsb2FkLmRhdGEuRXhjaGFuZ2U7CiAgICAgICAgc3RhdGUuY3VycmVudFRva2VuID0gcGF5bG9hZC5kYXRhLnRva2VuID8gcGF5bG9hZC5kYXRhLnRva2VuIDogcGF5bG9hZC5kYXRhLlRva2VuOwogICAgICB9CgogICAgICBpZiAocGF5bG9hZC5wYWdlID09ICJta1dhdGNoIikgewogICAgICAgIHN0YXRlLmN1cnJlbnRJbnN0cnVtZW50ID0gc3RhdGUuY3VycmVudE9yZGVyLkluc3RydW1lbnQ7CiAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYWdlID09ICJvcmRlcnMiIHx8IHBheWxvYWQucGFnZSA9PSAicG9zaXRpb25zIikgewogICAgICAgIHN0YXRlLmN1cnJlbnRJbnN0cnVtZW50ID0gc3RhdGUuY3VycmVudE9yZGVyLkluc3RuYW1lOwogICAgICB9CgogICAgICBzdGF0ZS5jdXJyZW50SW5zdHJ1bWVudCA9PSAnT1BUSURYJyB8fCBzdGF0ZS5jdXJyZW50SW5zdHJ1bWVudCA9PSAnT1BUU1RLJyA/IHN0YXRlLmlzTmZvID0gZmFsc2UgOiBzdGF0ZS5pc05mbyA9IHRydWU7CiAgICAgIHN0YXRlLmN1cnJlbnRQYWdlID0gcGF5bG9hZC5wYWdlOwoKICAgICAgaWYgKHBheWxvYWQucGFnZSA9PSAiaG9sZGluZ3MiKSB7CiAgICAgICAgc3RhdGUuY3VycmVudEluc3RydW1lbnQgPSBzdGF0ZS5jdXJyZW50RXhjaGFuZ2UgPT0gIk5TRSIgPyBzdGF0ZS5jdXJyZW50T3JkZXIuTnNldHN5bSA6IHN0YXRlLmN1cnJlbnRPcmRlci5Cc2V0c3ltOwogICAgICB9IGVsc2UgewogICAgICAgIHN0YXRlLmN1cnJlbnRJbnN0cnVtZW50ID0gcGF5bG9hZC5kYXRhLmZvcm1hdFNjcmlwTmFtZTsKICAgICAgfQogICAgfSwKICAgIHNldFByaWNlUmFuZ2VEZXRhaWxzOiBmdW5jdGlvbiBzZXRQcmljZVJhbmdlRGV0YWlscyhzdGF0ZSwgcGF5bG9hZCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBzdGF0ZS5uc2VQcmljZVJhbmdlRGF0YSA9IFtdOwogICAgICAgICAgICAgICAgc3RhdGUuYnNlUHJpY2VSYW5nZURhdGEgPSBbXTsKICAgICAgICAgICAgICAgIHBheWxvYWQubGVuZ3RoID09IDEgfHwgcGF5bG9hZC5sZW5ndGggPT0gdW5kZWZpbmVkID8gc3RhdGUubnNlQnNlVHlwZSA9IGZhbHNlIDogc3RhdGUubnNlQnNlVHlwZSA9IHRydWU7IC8vIENoZWNrIHVuZGVmaW5lZCwgbnVsbCAsIGVtcHR5IGZvciBib3RoIGxvd2VyIGFuZCB1cHBlclJhbmdlCgogICAgICAgICAgICAgICAgaWYgKHBheWxvYWQubGVuZ3RoID49IDEpIHsKICAgICAgICAgICAgICAgICAgcGF5bG9hZC5mb3JFYWNoKGZ1bmN0aW9uIChlbCkgewogICAgICAgICAgICAgICAgICAgIGVsLkV4Y2hnID09IHN0YXRlLmN1cnJlbnRFeGNoYW5nZSA/IHN0YXRlLnByaWNlUmFuZ2VEZXRhaWxzID0gZWwgOiAnJzsKCiAgICAgICAgICAgICAgICAgICAgaWYgKGVsLkV4Y2hnID09ICJOU0UiKSB7CiAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5uc2VQcmljZVJhbmdlRGF0YS5wdXNoKGVsKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVsLkV4Y2hnID09ICJCU0UiKSB7CiAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5ic2VQcmljZVJhbmdlRGF0YS5wdXNoKGVsKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICBzdGF0ZS5sb3dlclJhbmdlID0gc3RhdGUucHJpY2VSYW5nZURldGFpbHMubG93ZXJjaXJjdWl0bGltaXQgPyBjaGVja051bGxOYW4oc3RhdGUucHJpY2VSYW5nZURldGFpbHMubG93ZXJjaXJjdWl0bGltaXQudG9TdHJpbmcoKS5yZXBsYWNlKC8sL2csICIiKSkgPyBwYXJzZUZsb2F0KHN0YXRlLnByaWNlUmFuZ2VEZXRhaWxzLmxvd2VyY2lyY3VpdGxpbWl0LnRvU3RyaW5nKCkucmVwbGFjZSgvLC9nLCAiIikpIDogJzAuMDAnIDogJzAuMDAnOwogICAgICAgICAgICAgICAgICBzdGF0ZS51cHBlclJhbmdlID0gc3RhdGUucHJpY2VSYW5nZURldGFpbHMuaGlnaGVyY2lyY3VpdGxpbWl0ID8gY2hlY2tOdWxsTmFuKHN0YXRlLnByaWNlUmFuZ2VEZXRhaWxzLmhpZ2hlcmNpcmN1aXRsaW1pdC50b1N0cmluZygpLnJlcGxhY2UoLywvZywgIiIpKSA/IHBhcnNlRmxvYXQoc3RhdGUucHJpY2VSYW5nZURldGFpbHMuaGlnaGVyY2lyY3VpdGxpbWl0LnRvU3RyaW5nKCkucmVwbGFjZSgvLC9nLCAiIikpIDogJzAuMDAnIDogJzAuMDAnOyAvLyB2YXIgdGVtcERhdGEgPSB7CiAgICAgICAgICAgICAgICAgIC8vICAgICBkYXRhOiBbXSwKICAgICAgICAgICAgICAgICAgLy8gICAgIHdoZXJlOiAnb3JkZXJ3aW5kb3cnLAogICAgICAgICAgICAgICAgICAvLyAgICAgc3Vic2NyaWJlOiBzdGF0ZS5jdXJyZW50RXhjaGFuZ2UgKyAnfCcgKyBzdGF0ZS5jdXJyZW50VG9rZW4gKyAnIycKICAgICAgICAgICAgICAgICAgLy8gfQogICAgICAgICAgICAgICAgICAvLyBwYXlsb2FkLmxlbmd0aCA9PSAxID8gdGhpcy5kaXNwYXRjaCgnd3NDb25uZWN0aW9uL3dlYnNvY2tldFN1YnNjcmlwdGlvbicsIHRlbXBEYXRhLCB7IHJvb3Q6IHRydWUgfSkgOiAnJwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgc3RhdGUucHJpY2VSYW5nZURldGFpbHMgPSBwYXlsb2FkOwogICAgICAgICAgICAgICAgICBzdGF0ZS5sb3dlclJhbmdlID0gY2hlY2tOdWxsTmFuKHN0YXRlLnByaWNlUmFuZ2VEZXRhaWxzLmxvd2VyY2lyY3VpdGxpbWl0LnRvU3RyaW5nKCkucmVwbGFjZSgvLC9nLCAiIikpID8gcGFyc2VGbG9hdChzdGF0ZS5wcmljZVJhbmdlRGV0YWlscy5sb3dlcmNpcmN1aXRsaW1pdC50b1N0cmluZygpLnJlcGxhY2UoLywvZywgIiIpKSA6ICcwLjAwJzsKICAgICAgICAgICAgICAgICAgc3RhdGUudXBwZXJSYW5nZSA9IGNoZWNrTnVsbE5hbihzdGF0ZS5wcmljZVJhbmdlRGV0YWlscy5oaWdoZXJjaXJjdWl0bGltaXQudG9TdHJpbmcoKS5yZXBsYWNlKC8sL2csICIiKSkgPyBwYXJzZUZsb2F0KHN0YXRlLnByaWNlUmFuZ2VEZXRhaWxzLmhpZ2hlcmNpcmN1aXRsaW1pdC50b1N0cmluZygpLnJlcGxhY2UoLywvZywgIiIpKSA6ICcwLjAwJzsKCiAgICAgICAgICAgICAgICAgIF90aGlzLmRpc3BhdGNoKCdvcmRlcldpbmRvdy9zZXRDdXJyZW50THRwJywgY2hlY2tOdWxsTmFuKHN0YXRlLnByaWNlUmFuZ2VEZXRhaWxzLkx0cCkgPyBzdGF0ZS5wcmljZVJhbmdlRGV0YWlscy5MdHAgOiBjaGVja051bGxOYW4oc3RhdGUuc2NyaXB0UXVvdGVEZXRhaWxzLkxUUCkgPyBzdGF0ZS5zY3JpcHRRdW90ZURldGFpbHMuTFRQIDogJzAuMDAnKTsKICAgICAgICAgICAgICAgIH0gLy8gbnNlIGJzZSByYWRpbyBidXR0b24gY2FsbCBmdW5jdGlvbgoKCiAgICAgICAgICAgICAgICBpZiAoIShzdGF0ZS5jdXJyZW50RXhjaGFuZ2UgPT0gIk5TRSIgJiYgcGF5bG9hZC5sZW5ndGggPiAxKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gOTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuY29tbWl0KCdvcmRlcldpbmRvdy9tYWtlQWN0aXZlJywgJ05TRScpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgaWYgKCEoc3RhdGUuY3VycmVudEV4Y2hhbmdlID09ICJCU0UiICYmIHBheWxvYWQubGVuZ3RoID4gMSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuY29tbWl0KCdvcmRlcldpbmRvdy9tYWtlQWN0aXZlJywgJ0JTRScpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNldFNjcmlwdFF1b3RlRGV0YWlsczogZnVuY3Rpb24gc2V0U2NyaXB0UXVvdGVEZXRhaWxzKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHN0YXRlLnNjcmlwdFF1b3RlRGV0YWlscyA9IHBheWxvYWQ7CgogICAgICAgICAgICAgICAgX3RoaXMyLmRpc3BhdGNoKCdvcmRlcldpbmRvdy9zZXREZWZhdWx0VmFsdWVzJywgc3RhdGUuc2NyaXB0UXVvdGVEZXRhaWxzKTsKCiAgICAgICAgICAgICAgICBfdGhpczIuZGlzcGF0Y2goJ29yZGVyV2luZG93L3NldEN1cnJlbnRMdHAnLCBjaGVja051bGxOYW4oc3RhdGUuc2NyaXB0UXVvdGVEZXRhaWxzLkxUUCkgPyBzdGF0ZS5zY3JpcHRRdW90ZURldGFpbHMuTFRQIDogJzAuMDAnKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2V0Q2hhcnRTY3JpcERhdGE6IGZ1bmN0aW9uIHNldENoYXJ0U2NyaXBEYXRhKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHN0YXRlLmNoYXJ0U2NyaXBEYXRhID0gcGF5bG9hZCwgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NoYXJ0c2NyaXAnLCBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSk7CiAgICB9LAogICAgc2V0Q3VycmVudFF0eTogZnVuY3Rpb24gc2V0Q3VycmVudFF0eShzdGF0ZSwgcXR5KSB7CiAgICAgIHN0YXRlLnF1YW50aXR5ID0gcXR5OwogICAgfSwKICAgIHNldEN1cnJlbnRQcmljZTogZnVuY3Rpb24gc2V0Q3VycmVudFByaWNlKHN0YXRlLCBwcmljZSkgewogICAgICBzdGF0ZS5wcmljZSA9IHByaWNlOwogICAgfSwKICAgIHNldEN1cnJlbnRUcmdQcmljZTogZnVuY3Rpb24gc2V0Q3VycmVudFRyZ1ByaWNlKHN0YXRlLCB0cmdQcmljZSkgewogICAgICBzdGF0ZS50cmlnZ2VyUHJpY2UgPSB0cmdQcmljZTsKICAgIH0sCiAgICAvLyBtYWtlIGFjdGl2ZSBtZXRob2QgZm9yIG5zZSBic2UgcmFkaW8gc3dpdGNoCiAgICBtYWtlQWN0aXZlOiBmdW5jdGlvbiBtYWtlQWN0aXZlKHN0YXRlLCBleGNoYW5nZSkgewogICAgICBpZiAoZXhjaGFuZ2UgPT0gIk5TRSIgJiYgIXN0YXRlLm1vZGlmeU9yZGVyKSB7CiAgICAgICAgY2hlY2tOdWxsTmFuKHN0YXRlLnNjcmlwdFF1b3RlRGV0YWlscy5MVFApOwogICAgICAgIHN0YXRlLnRyaWdnZXJQcmljZSA9IHN0YXRlLmx0cCA9IHN0YXRlLnByaWNlID0gY2hlY2tOdWxsTmFuKHN0YXRlLm5zZVByaWNlUmFuZ2VEYXRhWzBdLkx0cCkgPyBzdGF0ZS5uc2VQcmljZVJhbmdlRGF0YVswXS5MdHAgOiBjaGVja051bGxOYW4oc3RhdGUuc2NyaXB0UXVvdGVEZXRhaWxzLkxUUCkgPyBzdGF0ZS5zY3JpcHRRdW90ZURldGFpbHMuTFRQIDogJzAuMDAnOwogICAgICAgIGNoZWNrTnVsbE5hbihzdGF0ZS5uc2VQcmljZVJhbmdlRGF0YVswXS5sb3dlcmNpcmN1aXRsaW1pdC50b1N0cmluZygpLnJlcGxhY2UoLywvZywgIiIpKSA/IHN0YXRlLmxvd2VyUmFuZ2UgPSBwYXJzZUZsb2F0KHN0YXRlLm5zZVByaWNlUmFuZ2VEYXRhWzBdLmxvd2VyY2lyY3VpdGxpbWl0LnRvU3RyaW5nKCkucmVwbGFjZSgvLC9nLCAiIikpIDogJzAuMDAnOwogICAgICAgIGNoZWNrTnVsbE5hbihzdGF0ZS5uc2VQcmljZVJhbmdlRGF0YVswXS5oaWdoZXJjaXJjdWl0bGltaXQudG9TdHJpbmcoKS5yZXBsYWNlKC8sL2csICIiKSkgPyBzdGF0ZS51cHBlclJhbmdlID0gcGFyc2VGbG9hdChzdGF0ZS5uc2VQcmljZVJhbmdlRGF0YVswXS5oaWdoZXJjaXJjdWl0bGltaXQudG9TdHJpbmcoKS5yZXBsYWNlKC8sL2csICIiKSkgOiAnMC4wMCc7CiAgICAgICAgc3RhdGUubnNlUHJpY2VSYW5nZURhdGFbMF0ubG90U2l6ZSA/IHN0YXRlLm1pbmxvdCA9IHN0YXRlLm5zZVByaWNlUmFuZ2VEYXRhWzBdLmxvdFNpemUgOiBzdGF0ZS5taW5sb3QgPSAwOwogICAgICAgIHN0YXRlLnNjcmlwdFF1b3RlRGV0YWlsc1snbnNlT3JCc2VUaWNrU2l6ZSddID0gc3RhdGUubnNlUHJpY2VSYW5nZURhdGFbMF0udGlja1NpemU7CiAgICAgICAgdGhpcy5jb21taXQoJ29yZGVyV2luZG93L3NldFRpY2tQcmljZScsIHN0YXRlLnNjcmlwdFF1b3RlRGV0YWlscyk7CiAgICAgICAgdGhpcy5kaXNwYXRjaCgnb3JkZXJXaW5kb3cvc2V0Q3VycmVudEx0cCcsIGNoZWNrTnVsbE5hbihzdGF0ZS5uc2VQcmljZVJhbmdlRGF0YVswXS5MdHApID8gc3RhdGUubnNlUHJpY2VSYW5nZURhdGFbMF0uTHRwIDogY2hlY2tOdWxsTmFuKHN0YXRlLnNjcmlwdFF1b3RlRGV0YWlscy5MVFApID8gc3RhdGUuc2NyaXB0UXVvdGVEZXRhaWxzLkxUUCA6ICcwLjAwJyk7CiAgICAgICAgc3RhdGUuY3VycmVudFRva2VuID0gc3RhdGUubnNlUHJpY2VSYW5nZURhdGFbMF1bJ3Rva2VuJ107CiAgICAgIH0gZWxzZSBpZiAoIXN0YXRlLm1vZGlmeU9yZGVyKSB7CiAgICAgICAgc3RhdGUudHJpZ2dlclByaWNlID0gc3RhdGUubHRwID0gc3RhdGUucHJpY2UgPSBjaGVja051bGxOYW4oc3RhdGUuYnNlUHJpY2VSYW5nZURhdGFbMF0uTHRwKSA/IHN0YXRlLmJzZVByaWNlUmFuZ2VEYXRhWzBdLkx0cCA6IGNoZWNrTnVsbE5hbihzdGF0ZS5zY3JpcHRRdW90ZURldGFpbHMuTFRQKSA/IHN0YXRlLnNjcmlwdFF1b3RlRGV0YWlscy5MVFAgOiAnMC4wMCc7CiAgICAgICAgY2hlY2tOdWxsTmFuKHN0YXRlLmJzZVByaWNlUmFuZ2VEYXRhWzBdLmxvd2VyY2lyY3VpdGxpbWl0LnRvU3RyaW5nKCkucmVwbGFjZSgvLC9nLCAiIikpID8gc3RhdGUubG93ZXJSYW5nZSA9IHBhcnNlRmxvYXQoc3RhdGUuYnNlUHJpY2VSYW5nZURhdGFbMF0ubG93ZXJjaXJjdWl0bGltaXQudG9TdHJpbmcoKS5yZXBsYWNlKC8sL2csICIiKSkgOiAnMC4wMCc7CiAgICAgICAgY2hlY2tOdWxsTmFuKHN0YXRlLmJzZVByaWNlUmFuZ2VEYXRhWzBdLmhpZ2hlcmNpcmN1aXRsaW1pdC50b1N0cmluZygpLnJlcGxhY2UoLywvZywgIiIpKSA/IHN0YXRlLnVwcGVyUmFuZ2UgPSBwYXJzZUZsb2F0KHN0YXRlLmJzZVByaWNlUmFuZ2VEYXRhWzBdLmhpZ2hlcmNpcmN1aXRsaW1pdC50b1N0cmluZygpLnJlcGxhY2UoLywvZywgIiIpKSA6ICcwLjAwJzsKICAgICAgICBzdGF0ZS5ic2VQcmljZVJhbmdlRGF0YVswXS5sb3RTaXplID8gc3RhdGUubWlubG90ID0gc3RhdGUuYnNlUHJpY2VSYW5nZURhdGFbMF0ubG90U2l6ZSA6IHN0YXRlLm1pbmxvdCA9IDA7CiAgICAgICAgc3RhdGUuc2NyaXB0UXVvdGVEZXRhaWxzWyduc2VPckJzZVRpY2tTaXplJ10gPSBzdGF0ZS5ic2VQcmljZVJhbmdlRGF0YVswXS50aWNrU2l6ZTsKICAgICAgICB0aGlzLmNvbW1pdCgnb3JkZXJXaW5kb3cvc2V0VGlja1ByaWNlJywgc3RhdGUuc2NyaXB0UXVvdGVEZXRhaWxzKTsKICAgICAgICB0aGlzLmRpc3BhdGNoKCdvcmRlcldpbmRvdy9zZXRDdXJyZW50THRwJywgY2hlY2tOdWxsTmFuKHN0YXRlLmJzZVByaWNlUmFuZ2VEYXRhWzBdLkx0cCkgPyBzdGF0ZS5ic2VQcmljZVJhbmdlRGF0YVswXS5MdHAgOiBjaGVja051bGxOYW4oc3RhdGUuc2NyaXB0UXVvdGVEZXRhaWxzLkxUUCkgPyBzdGF0ZS5zY3JpcHRRdW90ZURldGFpbHMuTFRQIDogJzAuMDAnKTsKICAgICAgICBzdGF0ZS5jdXJyZW50VG9rZW4gPSBzdGF0ZS5ic2VQcmljZVJhbmdlRGF0YVswXVsndG9rZW4nXTsKICAgICAgfQoKICAgICAgdGhpcy5jb21taXQoIm9yZGVyV2luZG93L3ZhbGlEYXRlUXR5IiwgIiIpOwogICAgICB0aGlzLmNvbW1pdCgnb3JkZXJXaW5kb3cvc2V0TnNlU3dpdGNoUHJpY2UnLCBjaGVja051bGxOYW4oc3RhdGUubnNlUHJpY2VSYW5nZURhdGFbMF0uTHRwKSA/IHN0YXRlLm5zZVByaWNlUmFuZ2VEYXRhWzBdLkx0cCA6IGNoZWNrTnVsbE5hbihzdGF0ZS5zY3JpcHRRdW90ZURldGFpbHMuTFRQKSA/IHN0YXRlLnNjcmlwdFF1b3RlRGV0YWlscy5MVFAgOiAnMC4wMCcpOwogICAgICB0aGlzLmNvbW1pdCgnb3JkZXJXaW5kb3cvc2V0QnNlU3dpdGNoUHJpY2UnLCBjaGVja051bGxOYW4oc3RhdGUuYnNlUHJpY2VSYW5nZURhdGFbMF0uTHRwKSA/IHN0YXRlLmJzZVByaWNlUmFuZ2VEYXRhWzBdLkx0cCA6IGNoZWNrTnVsbE5hbihzdGF0ZS5zY3JpcHRRdW90ZURldGFpbHMuTFRQKSA/IHN0YXRlLnNjcmlwdFF1b3RlRGV0YWlscy5MVFAgOiAnMC4wMCcpOwogICAgICBzdGF0ZS5jdXJyZW50RXhjaGFuZ2UgPSBleGNoYW5nZTsKICAgICAgdmFyIHRlbXBEYXRhID0gewogICAgICAgIGRhdGE6IFtdLAogICAgICAgIHdoZXJlOiAnb3JkZXJ3aW5kb3cnLAogICAgICAgIHN1YnNjcmliZTogZXhjaGFuZ2UgKyAnfCcgKyBzdGF0ZS5jdXJyZW50VG9rZW4gKyAnIycKICAgICAgfTsgLy8gdGhpcy5kaXNwYXRjaCgnd3NDb25uZWN0aW9uL3dlYnNvY2tldFN1YnNjcmlwdGlvbicsIHRlbXBEYXRhLCB7IHJvb3Q6IHRydWUgfSkKICAgICAgLy8gICAgIXN0YXRlLm1hcmdpbkxvYWRlciA/IHRoaXMuZGlzcGF0Y2goJ29yZGVyV2luZG93L2dldE1hcmdpbkF2YWlsYWJsZScsICdtYWtlQWN0aXZlJykgOiAnJwogICAgfSwKICAgIHNldFByaWNlVHlwZTogZnVuY3Rpb24gc2V0UHJpY2VUeXBlKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHN0YXRlLnByaWNlVHlwZSA9IHBheWxvYWQ7CiAgICB9LAogICAgc2V0UHJvZFR5cGU6IGZ1bmN0aW9uIHNldFByb2RUeXBlKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHN0YXRlLnByb2RUeXBlID0gcGF5bG9hZDsKICAgIH0sCiAgICBzZXRPcmRlclRhYjogZnVuY3Rpb24gc2V0T3JkZXJUYWIoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUub3JkZXJUYWIgPSBwYXlsb2FkOwogICAgfSwKICAgIHNldFZhbGlkaXR5VHlwZTogZnVuY3Rpb24gc2V0VmFsaWRpdHlUeXBlKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHN0YXRlLnZhbGlkaXR5VHlwZSA9IHBheWxvYWQ7CiAgICB9LAogICAgc2V0V2luZG93TG9hZGluZzogZnVuY3Rpb24gc2V0V2luZG93TG9hZGluZyhzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS53aW5kb3dMb2FkaW5nID0gcGF5bG9hZDsKICAgIH0sCiAgICAvLyBieSBCaGFyYXRoIAogICAgc2V0UHJpY2VJdGVtczogZnVuY3Rpb24gc2V0UHJpY2VJdGVtcyhzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS5zaG93UHJpY2VJdGVtcyA9IHBheWxvYWQ7CiAgICB9LAogICAgc2V0UHJvZHVjdEl0ZW1zOiBmdW5jdGlvbiBzZXRQcm9kdWN0SXRlbXMoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUuc2hvd3Byb2R1Y3RJdGVtcyA9IHBheWxvYWQ7CiAgICB9LAogICAgc2V0SXNOZm86IGZ1bmN0aW9uIHNldElzTmZvKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHN0YXRlLmlzTmZvID0gcGF5bG9hZDsKICAgIH0sCiAgICBjaGFuZ2VPcmRlclR5cGU6IGZ1bmN0aW9uIGNoYW5nZU9yZGVyVHlwZShzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzd2l0Y2ggKHBheWxvYWQpIHsKICAgICAgICBjYXNlICJyZWd1bGFyIjogLy9SZWd1bGFyIE9yZGVyIC8vIFdlIGhhdmUgdGFrZW4gKHJlZ3VsYXIgPSBhbW8pIGV4Y2VwdCBmb3IgdmFsaWRpdHkKCiAgICAgICAgY2FzZSAiYW1vIjoKICAgICAgICAgIHsKICAgICAgICAgICAgaWYgKHN0YXRlLnByaWNlVHlwZSA9PSAiTCIpIHsKICAgICAgICAgICAgICBzdGF0ZS5pc1ByaWNlID0gdHJ1ZTsKICAgICAgICAgICAgICBzdGF0ZS5pc1RyZ1ByaWNlID0gZmFsc2U7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdGUucHJpY2VUeXBlID09ICJNS1QiKSB7CiAgICAgICAgICAgICAgc3RhdGUuaXNQcmljZSA9IGZhbHNlOwogICAgICAgICAgICAgIHN0YXRlLmlzVHJnUHJpY2UgPSBmYWxzZTsKICAgICAgICAgICAgfSBlbHNlIGlmIChzdGF0ZS5wcmljZVR5cGUgPT0gIlNMIikgewogICAgICAgICAgICAgIHN0YXRlLmlzUHJpY2UgPSB0cnVlOwogICAgICAgICAgICAgIHN0YXRlLmlzVHJnUHJpY2UgPSB0cnVlOwogICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXRlLnByaWNlVHlwZSA9PSAiU0wtTSIpIHsKICAgICAgICAgICAgICBzdGF0ZS5pc1ByaWNlID0gZmFsc2U7CiAgICAgICAgICAgICAgc3RhdGUuaXNUcmdQcmljZSA9IHRydWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQoKICAgICAgICBjYXNlICJjb3ZlciI6CiAgICAgICAgICB7CiAgICAgICAgICAgIC8vIENvdmVyIE9yZGVyIHZhbGlkYXRpb24KICAgICAgICAgICAgaWYgKHN0YXRlLnByaWNlVHlwZSA9PSAiTCIpIHsKICAgICAgICAgICAgICBzdGF0ZS5pc1ByaWNlID0gdHJ1ZTsKICAgICAgICAgICAgICBzdGF0ZS5pc1RyZ1ByaWNlID0gdHJ1ZTsKICAgICAgICAgICAgfSBlbHNlIGlmIChzdGF0ZS5wcmljZVR5cGUgPT0gIk1LVCIpIHsKICAgICAgICAgICAgICBzdGF0ZS5pc1ByaWNlID0gZmFsc2U7CiAgICAgICAgICAgICAgc3RhdGUuaXNUcmdQcmljZSA9IHRydWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQoKICAgICAgICBjYXNlICJicmFja2V0IjoKICAgICAgICAgIHsKICAgICAgICAgICAgLy8gYnJhY2tldCBPcmRlciB2YWxpZGF0aW9uCiAgICAgICAgICAgIGlmIChzdGF0ZS5wcmljZVR5cGUgPT0gIkwiKSB7CiAgICAgICAgICAgICAgc3RhdGUuaXNQcmljZSA9IHRydWU7CiAgICAgICAgICAgICAgc3RhdGUuaXNUcmdQcmljZSA9IGZhbHNlOwogICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXRlLnByaWNlVHlwZSA9PSAiU0wiKSB7CiAgICAgICAgICAgICAgc3RhdGUuaXNQcmljZSA9IHRydWU7CiAgICAgICAgICAgICAgc3RhdGUuaXNUcmdQcmljZSA9IHRydWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoc3RhdGUuY3VycmVudEV4Y2hhbmdlID09ICdORk8nIHx8IHN0YXRlLmN1cnJlbnRFeGNoYW5nZSA9PSAnQkZPJykgewogICAgICAgIHRoaXMuY29tbWl0KCdvcmRlcldpbmRvdy9zZXRJc0Rpc2Nsb3NlZFF0eScsIGZhbHNlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmNvbW1pdCgnb3JkZXJXaW5kb3cvc2V0SXNEaXNjbG9zZWRRdHknLCB0cnVlKTsKICAgICAgfQogICAgfSwKICAgIHNldE9yZGVyRGF0YTogZnVuY3Rpb24gc2V0T3JkZXJEYXRhKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHN0YXRlLm9yZGVyRGF0YSA9IHBheWxvYWQ7CiAgICB9LAogICAgc2V0SXNEaXNjbG9zZWRRdHk6IGZ1bmN0aW9uIHNldElzRGlzY2xvc2VkUXR5KHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHN0YXRlLmlzRGlzY2xvc2VkUXR5ID0gcGF5bG9hZDsKICAgIH0sCiAgICBzZXRUaWNrUHJpY2U6IGZ1bmN0aW9uIHNldFRpY2tQcmljZShzdGF0ZSwgcGF5bG9hZCkgewogICAgICAvLyB0aWNrcHJpY2UgY2FsY3VsYXRpb24gCiAgICAgIGlmIChwYXlsb2FkLm5zZU9yQnNlVGlja1NpemUpIHsKICAgICAgICB2YXIgdGlja1NpemUgPSBwYXJzZUZsb2F0KHBheWxvYWQubnNlT3JCc2VUaWNrU2l6ZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHRpY2tTaXplID0gcGFyc2VGbG9hdChwYXlsb2FkLlRpY2tTaXplKTsKICAgICAgfQoKICAgICAgdmFyIG11bHRpcGxpZXIgPSBwYXlsb2FkLk11bHRpcGxpZXI7CiAgICAgIHZhciBkZWNpbWFsUHJldmlzaW9uID0gcGF5bG9hZC5EZWNpbWFsUHJlY2lzaW9uOwogICAgICB2YXIgdGVtcFRpY2tTaXplID0gdGlja1NpemUgLyAobXVsdGlwbGllciAqIE1hdGgucG93KDEwLCBkZWNpbWFsUHJldmlzaW9uKSk7CiAgICAgIGNoZWNrTnVsbE5hbih0ZW1wVGlja1NpemUpICYmIHRlbXBUaWNrU2l6ZSAhPSAwID8gc3RhdGUudGlja1ByaWNlID0gdGVtcFRpY2tTaXplIDogMTsKICAgIH0sCiAgICBzZXROc2VTd2l0Y2hQcmljZTogZnVuY3Rpb24gc2V0TnNlU3dpdGNoUHJpY2Uoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUubnNlU3dpdGNoUHJpY2UgPSBwYXlsb2FkOwogICAgfSwKICAgIHNldEJzZVN3aXRjaFByaWNlOiBmdW5jdGlvbiBzZXRCc2VTd2l0Y2hQcmljZShzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS5ic2VTd2l0Y2hQcmljZSA9IHBheWxvYWQ7CiAgICB9LAogICAgc2V0VmFsaWRpdHlJdGVtczogZnVuY3Rpb24gc2V0VmFsaWRpdHlJdGVtcyhzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS52YWxpZGl0eUl0ZW1zID0gcGF5bG9hZDsKICAgIH0sCiAgICBzZXREaXNjbG9zZWRRdHk6IGZ1bmN0aW9uIHNldERpc2Nsb3NlZFF0eShzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS5kaXNjbG9zZWRRdWFudGl0eSA9IHBheWxvYWQ7CiAgICB9LAogICAgc2V0T3JkZXJUeXBlTGlzdDogZnVuY3Rpb24gc2V0T3JkZXJUeXBlTGlzdChzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS5vcmRlclR5cGVMaXN0ID0gcGF5bG9hZDsKICAgIH0sCiAgICAvLyBzZXQgQXZhaWxhYmxlIG1hcmdpbgogICAgc2V0QXZhaWxhYmxlTWFyZ2luOiBmdW5jdGlvbiBzZXRBdmFpbGFibGVNYXJnaW4oc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUuYXZhaWxhYmxlTWFyZ2luID0gcGF5bG9hZDsKICAgIH0sCiAgICAvLyBzZXQgUXVhbnRpdHkgd2l0aCBjaGVjayBQYWdlCiAgICB2YWxpRGF0ZVF0eTogZnVuY3Rpb24gdmFsaURhdGVRdHkoc3RhdGUsIHBhcmFtZXRlcnMpIHsKICAgICAgaWYgKHN0YXRlLmN1cnJlbnRQYWdlID09ICdob2xkaW5ncycpIHsKICAgICAgICBzdGF0ZS5vcmRlclR5cGUudG9Mb3dlckNhc2UoKSA9PSAnYnV5JyA/IHRoaXMuY29tbWl0KCdvcmRlcldpbmRvdy9zZXRDdXJyZW50UXR5Jywgc3RhdGUubWlubG90KSA6IHRoaXMuY29tbWl0KCdvcmRlcldpbmRvdy9zZXRDdXJyZW50UXR5Jywgc3RhdGUuY3VycmVudE9yZGVyLlNlbGxhYmxlUXR5KTsKICAgICAgfSBlbHNlIGlmIChzdGF0ZS5jdXJyZW50UGFnZSA9PSAncG9zaXRpb25zJykgewogICAgICAgIGlmIChOdW1iZXIoc3RhdGUuY3VycmVudE9yZGVyLk5ldHF0eSkgPT0gMCkgewogICAgICAgICAgdGhpcy5jb21taXQoJ29yZGVyV2luZG93L3NldEN1cnJlbnRRdHknLCBzdGF0ZS5taW5sb3QpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAoTnVtYmVyKHN0YXRlLmN1cnJlbnRPcmRlci5OZXRxdHkpID4gMCAmJiBzdGF0ZS5vcmRlclR5cGUudG9Mb3dlckNhc2UoKSA9PSAnYnV5JykgewogICAgICAgICAgICB0aGlzLmNvbW1pdCgnb3JkZXJXaW5kb3cvc2V0Q3VycmVudFF0eScsIHN0YXRlLm1pbmxvdCk7CiAgICAgICAgICB9IGVsc2UgaWYgKE51bWJlcihzdGF0ZS5jdXJyZW50T3JkZXIuTmV0cXR5KSA+IDAgJiYgc3RhdGUub3JkZXJUeXBlLnRvTG93ZXJDYXNlKCkgPT0gJ3NlbGwnKSB7CiAgICAgICAgICAgIHRoaXMuY29tbWl0KCdvcmRlcldpbmRvdy9zZXRDdXJyZW50UXR5JywgTWF0aC5hYnMoc3RhdGUuY3VycmVudE9yZGVyLk5ldHF0eSkpOwogICAgICAgICAgfSBlbHNlIGlmIChOdW1iZXIoc3RhdGUuY3VycmVudE9yZGVyLk5ldHF0eSkgPCAwICYmIHN0YXRlLm9yZGVyVHlwZS50b0xvd2VyQ2FzZSgpID09ICdidXknKSB7CiAgICAgICAgICAgIHRoaXMuY29tbWl0KCdvcmRlcldpbmRvdy9zZXRDdXJyZW50UXR5Jywgc3RhdGUubWlubG90KTsKICAgICAgICAgIH0gZWxzZSBpZiAoTnVtYmVyKHN0YXRlLmN1cnJlbnRPcmRlci5OZXRxdHkpIDwgMCAmJiBzdGF0ZS5vcmRlclR5cGUudG9Mb3dlckNhc2UoKSA9PSAnc2VsbCcpIHsKICAgICAgICAgICAgdGhpcy5jb21taXQoJ29yZGVyV2luZG93L3NldEN1cnJlbnRRdHknLCBNYXRoLmFicyhzdGF0ZS5jdXJyZW50T3JkZXIuTmV0cXR5KSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY29tbWl0KCdvcmRlcldpbmRvdy9zZXRDdXJyZW50UXR5Jywgc3RhdGUub3JkZXJEYXRhLnBhZ2UgPT0gJ29yZGVycycgJiYgc3RhdGUubW9kaWZ5T3JkZXIgJiYgc3RhdGUub3JkZXJEYXRhLnR5cGUgPyBzdGF0ZS5vcmRlckRhdGEuZGF0YS5RdHkgOiBzdGF0ZS5taW5sb3QpOwogICAgICB9CiAgICB9LAogICAgc2V0TWFyZ2luTG9hZGVyOiBmdW5jdGlvbiBzZXRNYXJnaW5Mb2FkZXIoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUubWFyZ2luTG9hZGVyID0gcGF5bG9hZDsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIC8vIHBsYWNlIG9yZGVyIHNlcnZpY2UKICAgIHBsYWNlT3JkZXI6IGZ1bmN0aW9uIHBsYWNlT3JkZXIoX3JlZiwgcGF5bG9hZCkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgc3RhdGUsIGNvbW1pdCwgcm9vdEdldHRlcnMsIHN5bWJvbE5hbWUsIHBsYWNlT3JkZXI7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHN0YXRlID0gX3JlZi5zdGF0ZSwgY29tbWl0ID0gX3JlZi5jb21taXQsIHJvb3RHZXR0ZXJzID0gX3JlZi5yb290R2V0dGVyczsKICAgICAgICAgICAgICAgIHN0YXRlLmxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgc3ltYm9sTmFtZSA9IHN0YXRlLmN1cnJlbnRQYWdlID09ICdta1dhdGNoJyA/IHN0YXRlLmN1cnJlbnRFeGNoYW5nZSA9PSAnTlNFJyA/IHN0YXRlLm5zZVByaWNlUmFuZ2VEYXRhWzBdLlRyYWRpbmdTeW1ib2wgOiBzdGF0ZS5jdXJyZW50RXhjaGFuZ2UgPT0gJ0JTRScgPyBzdGF0ZS5ic2VQcmljZVJhbmdlRGF0YVswXS5UcmFkaW5nU3ltYm9sIDogc3RhdGUuY3VycmVudE9yZGVyLnN5bWJvbCA6IHN0YXRlLmN1cnJlbnRQYWdlID09ICdvcmRlcnMnID8gc3RhdGUuY3VycmVudEV4Y2hhbmdlID09ICdOU0UnID8gc3RhdGUubnNlUHJpY2VSYW5nZURhdGFbMF0uVHJhZGluZ1N5bWJvbCA6IHN0YXRlLmN1cnJlbnRFeGNoYW5nZSA9PSAnQlNFJyA/IHN0YXRlLmJzZVByaWNlUmFuZ2VEYXRhWzBdLlRyYWRpbmdTeW1ib2wgOiBzdGF0ZS5zY3JpcHRRdW90ZURldGFpbHMuVFN5bWJsIDogc3RhdGUuY3VycmVudFBhZ2UgPT0gJ3Bvc2l0aW9ucycgPyBzdGF0ZS5jdXJyZW50RXhjaGFuZ2UgPT0gJ05TRScgPyBzdGF0ZS5uc2VQcmljZVJhbmdlRGF0YVswXS5UcmFkaW5nU3ltYm9sIDogc3RhdGUuY3VycmVudEV4Y2hhbmdlID09ICdCU0UnID8gc3RhdGUuYnNlUHJpY2VSYW5nZURhdGFbMF0uVHJhZGluZ1N5bWJvbCA6IHN0YXRlLmN1cnJlbnRPcmRlci5Uc3ltIDogc3RhdGUuY3VycmVudFBhZ2UgPT0gJ2hvbGRpbmdzJyAmJiBzdGF0ZS5jdXJyZW50RXhjaGFuZ2UgPT0gJ05TRScgPyBzdGF0ZS5jdXJyZW50T3JkZXIuTnNldHN5bSA6IHN0YXRlLmN1cnJlbnRQYWdlID09ICdob2xkaW5ncycgJiYgc3RhdGUuY3VycmVudEV4Y2hhbmdlID09ICdCU0UnID8gc3RhdGUuY3VycmVudE9yZGVyLkJzZXRzeW0gOiAnJzsKICAgICAgICAgICAgICAgIHBsYWNlT3JkZXIgPSBbewogICAgICAgICAgICAgICAgICBhY3RpdmVfc3RhdHVzOiBudWxsLAogICAgICAgICAgICAgICAgICBjb21wbGV4dHk6IHBheWxvYWQuY29tcGxleGl0eSA9PSAnYnJhY2tldCcgPyAnYm8nIDogcGF5bG9hZC5jb21wbGV4aXR5ID09ICdjb3ZlcicgPyAnY28nIDogcGF5bG9hZC5jb21wbGV4aXR5LAogICAgICAgICAgICAgICAgICBjcmVhdGVkX2J5OiBudWxsLAogICAgICAgICAgICAgICAgICBjcmVhdGVkX29uOiBudWxsLAogICAgICAgICAgICAgICAgICBkaXNjcXR5OiBwYXlsb2FkLm9yZGVyVGFiID09ICJicmFja2V0IiA/IHBheWxvYWQuZGlzY1F0eS50b1N0cmluZygpIDogcGF5bG9hZC5kaXNjUXR5LAogICAgICAgICAgICAgICAgICBlbXNnOiBudWxsLAogICAgICAgICAgICAgICAgICBleGNoOiBzdGF0ZS5jdXJyZW50RXhjaGFuZ2UsCiAgICAgICAgICAgICAgICAgIGlkOiBudWxsLAogICAgICAgICAgICAgICAgICBpbnN0cnVtZW50OiBzdGF0ZS5zY3JpcHRRdW90ZURldGFpbHMuVW5pcXVlS2V5LAogICAgICAgICAgICAgICAgICBsaW5rOiBudWxsLAogICAgICAgICAgICAgICAgICBtYXN0ZXJfaWQ6IDAsCiAgICAgICAgICAgICAgICAgIHBDb2RlOiBwYXlsb2FkLmNvbXBsZXhpdHkgPT0gJ2NvdmVyJyA/ICJDTyIgOiBwYXlsb2FkLnBjb2RlLAogICAgICAgICAgICAgICAgICBwcmN0eXA6IHBheWxvYWQucHJpY2VUeXBlLAogICAgICAgICAgICAgICAgICBwcmljZTogcGF5bG9hZC5wcmljZS50b1N0cmluZygpLAogICAgICAgICAgICAgICAgICBxdHk6IHBheWxvYWQucXR5LAogICAgICAgICAgICAgICAgICByZXBvbnNlOiBudWxsLAogICAgICAgICAgICAgICAgICByZXQ6IHBheWxvYWQudmFsaWRpdHkgPyBwYXlsb2FkLnZhbGlkaXR5LnRvVXBwZXJDYXNlKCkgOiAiREFZIiwKICAgICAgICAgICAgICAgICAgc2FsdDogbnVsbCwKICAgICAgICAgICAgICAgICAgc3RhdDogbnVsbCwKICAgICAgICAgICAgICAgICAgc3RvcExvc3M6IHBhcnNlSW50KHBheWxvYWQuc3RvcExvc3MpLAogICAgICAgICAgICAgICAgICBzeW1ib2xfaWQ6IHN0YXRlLmN1cnJlbnRUb2tlbiwKICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBwYXlsb2FkLnN0b3BMb3NzLAogICAgICAgICAgICAgICAgICB0cmFkaW5nX3N5bWJvbDogc3ltYm9sTmFtZSwKICAgICAgICAgICAgICAgICAgdHJhaWxpbmdfc3RvcF9sb3NzOiBwYXJzZUludChwYXlsb2FkLnRyYWlsU3RvcExvc3MpLAogICAgICAgICAgICAgICAgICB0cmFuc3R5cGU6IHN0YXRlLm9yZGVyVHlwZSwKICAgICAgICAgICAgICAgICAgdHJpZ1ByaWNlOiBwYXlsb2FkLnRyZ1ByaWNlLAogICAgICAgICAgICAgICAgICB1cGRhdGVkX2J5OiBudWxsLAogICAgICAgICAgICAgICAgICB1cGRhdGVkX29uOiBudWxsLAogICAgICAgICAgICAgICAgICB1c2VySWQ6IHJvb3RHZXR0ZXJzWydhdXRodGljYXRpb24vZ2V0VXNlcklkJ10sCiAgICAgICAgICAgICAgICAgIHVzZXJTZXNzaW9uSUQ6IHJvb3RHZXR0ZXJzWydhdXRodGljYXRpb24vZ2V0VXNlclNlc3Npb24nXSwKICAgICAgICAgICAgICAgICAgdXNlclNldHRpbmdEdG86IHJvb3RHZXR0ZXJzWydhdXRodGljYXRpb24vZ2V0VXNlclNlc3Npb25EdG8nXQogICAgICAgICAgICAgICAgfV07CiAgICAgICAgICAgICAgICBzdGF0ZS5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICBjb21taXQoJ3NldE9yZGVyV2luZG93JywgZmFsc2UpOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIHNlcnZpY2UuZXhlY3V0ZU9yZGVyKHBsYWNlT3JkZXIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhWzBdWyJlbXNnIl0gPT0gJ0lucHV0IHBhcmFtZXRlcnMgYXJlIHdyb25nJykgewogICAgICAgICAgICAgICAgICAgIGVycm9ySGFuZGxpbmcudG9hc3RlcignT3JkZXIgbm90IHBsYWNlZCcsICdkYW5nZXInLCByZXNwb25zZS5kYXRhWzBdWyJlbXNnIl0sIDMwMDApOwogICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGFbMF0uc3RhdCA9PSAnTm90X09rJykgewogICAgICAgICAgICAgICAgICAgIHZhciBlcnJvciA9IHJlc3BvbnNlLmRhdGFbMF1bJ0Vtc2cnXSA/IHJlc3BvbnNlLmRhdGFbMF1bJ0Vtc2cnXSA6IHJlc3BvbnNlLmRhdGFbMF1bJ2Vtc2cnXTsKICAgICAgICAgICAgICAgICAgICBlcnJvckhhbmRsaW5nLnRvYXN0ZXIoJ09yZGVyIG5vdCBwbGFjZWQnLCAnZGFuZ2VyJywgZXJyb3IsIDMwMDApOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGVycm9ySGFuZGxpbmcudG9hc3RlcihyZXNwb25zZS5kYXRhWzBdWyJOT3JkTm8iXSA/IHJlc3BvbnNlLmRhdGFbMF1bIk5PcmRObyJdIDogcmVzcG9uc2UuZGF0YVswXVsibmVzdE9yZGVyTnVtYmVyIl0sICdzdWNjZXNzJywgJ09yZGVyIFBsYWNlZCBTdWNjZXNzZnVsbHknLCAzMDAwKTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgY29tbWl0KCdzZXRPcmRlcldpbmRvdycsIGZhbHNlKTsKICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgICAgZXJyb3JIYW5kbGluZy5lcnJMb2coZXJyKTsKICAgICAgICAgICAgICAgIH0pWyJmaW5hbGx5Il0oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBzdGF0ZS5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8gcGxhY2VCYXNrZXRPcmRlciBzZXJ2aWNlCiAgICBwbGFjZUJhc2tldE9yZGVyOiBmdW5jdGlvbiBwbGFjZUJhc2tldE9yZGVyKF9yZWYyLCBwYXlsb2FkKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciBzdGF0ZSwgY29tbWl0LCByb290R2V0dGVycywgcGxhY2VPcmRlcjsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgc3RhdGUgPSBfcmVmMi5zdGF0ZSwgY29tbWl0ID0gX3JlZjIuY29tbWl0LCByb290R2V0dGVycyA9IF9yZWYyLnJvb3RHZXR0ZXJzOwogICAgICAgICAgICAgICAgc3RhdGUubG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBwbGFjZU9yZGVyID0gW107CiAgICAgICAgICAgICAgICBwYXlsb2FkLmRhdGEuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgICAgICAgICAgICBwbGFjZU9yZGVyLnB1c2goewogICAgICAgICAgICAgICAgICAgIGFjdGl2ZV9zdGF0dXM6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgY29tcGxleHR5OiBlbGVtZW50LmNvbXBsZXhpdHksCiAgICAgICAgICAgICAgICAgICAgY3JlYXRlZF9ieTogbnVsbCwKICAgICAgICAgICAgICAgICAgICBjcmVhdGVkX29uOiBudWxsLAogICAgICAgICAgICAgICAgICAgIGRpc2NxdHk6IGVsZW1lbnQuZGlzY2xvc2VkUXVhbnRpdHkgPyBlbGVtZW50LmRpc2Nsb3NlZFF1YW50aXR5IDogMCwKICAgICAgICAgICAgICAgICAgICBlbXNnOiBudWxsLAogICAgICAgICAgICAgICAgICAgIGV4Y2g6IGVsZW1lbnQuZXhjaGFuZ2UsCiAgICAgICAgICAgICAgICAgICAgaWQ6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgaW5zdHJ1bWVudDogZWxlbWVudC5pbnN0cnVtZW50LAogICAgICAgICAgICAgICAgICAgIGxpbms6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgbWFzdGVyX2lkOiAwLAogICAgICAgICAgICAgICAgICAgIHBDb2RlOiBlbGVtZW50LnByb2R1Y3QgPyBlbGVtZW50LnByb2R1Y3QudG9Mb3dlckNhc2UoKSA6IGVsZW1lbnQucHJvZHVjdCwKICAgICAgICAgICAgICAgICAgICBwcmN0eXA6IGVsZW1lbnQub3JkZXJUeXBlLAogICAgICAgICAgICAgICAgICAgIHByaWNlOiBlbGVtZW50LnByaWNlID8gZWxlbWVudC5wcmljZSA6IDAsCiAgICAgICAgICAgICAgICAgICAgcXR5OiBlbGVtZW50LnF1YW50aXR5LAogICAgICAgICAgICAgICAgICAgIHJlcG9uc2U6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgcmV0OiBlbGVtZW50LnZhbGlkaXR5ID8gZWxlbWVudC52YWxpZGl0eS50b1VwcGVyQ2FzZSgpIDogIkRBWSIsCiAgICAgICAgICAgICAgICAgICAgc2FsdDogbnVsbCwKICAgICAgICAgICAgICAgICAgICBzdGF0OiBudWxsLAogICAgICAgICAgICAgICAgICAgIHN0b3BMb3NzOiBlbGVtZW50LnN0b3Bsb3NzID8gcGFyc2VJbnQoZWxlbWVudC5zdG9wbG9zcykgOiAwLAogICAgICAgICAgICAgICAgICAgIHN5bWJvbF9pZDogZWxlbWVudC50b2tlbiwKICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IGVsZW1lbnQuc3RvcGxvc3MgPyBwYXJzZUludChlbGVtZW50LnN0b3Bsb3NzKSA6IDAsCiAgICAgICAgICAgICAgICAgICAgdHJhZGluZ19zeW1ib2w6IGVsZW1lbnQudHJhZGluZ1N5bWJvbCwKICAgICAgICAgICAgICAgICAgICB0cmFpbGluZ19zdG9wX2xvc3M6IGVsZW1lbnQudHJhaWxpbmdTdG9wbG9zcyA/IHBhcnNlSW50KGVsZW1lbnQudHJhaWxpbmdTdG9wbG9zcykgOiAwLAogICAgICAgICAgICAgICAgICAgIHRyYW5zdHlwZTogZWxlbWVudC50cmFuc2FjdGlvblR5cGUgPyBlbGVtZW50LnRyYW5zYWN0aW9uVHlwZS50b0xvd2VyQ2FzZSgpIDogZWxlbWVudC50cmFuc2FjdGlvblR5cGUsCiAgICAgICAgICAgICAgICAgICAgdHJpZ1ByaWNlOiBlbGVtZW50LnRyaWdnZXJQcmljZSA/IGVsZW1lbnQudHJpZ2dlclByaWNlIDogMCwKICAgICAgICAgICAgICAgICAgICB1cGRhdGVkX2J5OiBudWxsLAogICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRfb246IG51bGwsCiAgICAgICAgICAgICAgICAgICAgdXNlcklkOiByb290R2V0dGVyc1snYXV0aHRpY2F0aW9uL2dldFVzZXJJZCddLAogICAgICAgICAgICAgICAgICAgIHVzZXJTZXNzaW9uSUQ6IHJvb3RHZXR0ZXJzWydhdXRodGljYXRpb24vZ2V0VXNlclNlc3Npb24nXSwKICAgICAgICAgICAgICAgICAgICB1c2VyU2V0dGluZ0R0bzogcm9vdEdldHRlcnNbJ2F1dGh0aWNhdGlvbi9nZXRVc2VyU2Vzc2lvbkR0byddCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhwbGFjZU9yZGVyKTsKICAgICAgICAgICAgICAgIHN0YXRlLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBzZXJ2aWNlLmV4ZWN1dGVPcmRlcihwbGFjZU9yZGVyKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YVswXVsiZW1zZyJdID09ICdJbnB1dCBwYXJhbWV0ZXJzIGFyZSB3cm9uZycpIHsKICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5kYXRhLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICAgIGVycm9ySGFuZGxpbmcudG9hc3RlcignT3JkZXIgbm90IHBsYWNlZCcsICdkYW5nZXInLCBlbGVtZW50WyJlbXNnIl0sIDMwMDApOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGFbMF0uc3RhdCA9PSAnTm90X09rJykgewogICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgICAgICAgICAgICAgICAgZXJyb3JIYW5kbGluZy50b2FzdGVyKCdPcmRlciBub3QgcGxhY2VkJywgJ2RhbmdlcicsIGVsZW1lbnRbJ0Vtc2cnXSwgMzAwMCk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YVswXS5FbXNnID09ICJTZXNzaW9uIEV4cGlyZWQiKSB7CiAgICAgICAgICAgICAgICAgICAgZXJyb3JIYW5kbGluZy5zZXNzaW9uRXhwaXJlKCk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICBlcnJvckhhbmRsaW5nLnRvYXN0ZXIoZWxlbWVudFsiTk9yZE5vIl0gPyBlbGVtZW50WyJOT3JkTm8iXSA6IGVsZW1lbnRbIm5lc3RPcmRlck51bWJlciJdLCAnc3VjY2VzcycsICdPcmRlciBQbGFjZWQgU3VjY2Vzc2Z1bGx5JywgMzAwMCk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0T3JkZXJXaW5kb3cnLCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKCcvb3JkZXJzJyk7CiAgICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0QmFza2V0UXVlcnknLCAnJywgewogICAgICAgICAgICAgICAgICAgIHJvb3Q6IHRydWUKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgIGVycm9ySGFuZGxpbmcuZXJyTG9nKGVycik7CiAgICAgICAgICAgICAgICB9KVsiZmluYWxseSJdKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgc3RhdGUubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIE1vZGlmeSBvcmRlcgogICAgbW9kaWZ5T3JkZXI6IGZ1bmN0aW9uIG1vZGlmeU9yZGVyKF9yZWYzLCBwYXlsb2FkKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHZhciBzdGF0ZSwgY29tbWl0LCByb290R2V0dGVycywgcGxhY2VPcmRlcjsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgc3RhdGUgPSBfcmVmMy5zdGF0ZSwgY29tbWl0ID0gX3JlZjMuY29tbWl0LCByb290R2V0dGVycyA9IF9yZWYzLnJvb3RHZXR0ZXJzOwogICAgICAgICAgICAgICAgcGxhY2VPcmRlciA9IHsKICAgICAgICAgICAgICAgICAgYWNjb3VudF9pZDogc3RhdGUuY3VycmVudE9yZGVyWyJhY2NvdW50SWQiXSwKICAgICAgICAgICAgICAgICAgZGlzY3F0eTogcGF5bG9hZC5vcmRlclRhYiA9PSAiYnJhY2tldCIgPyBwYXlsb2FkLmRpc2NRdHkudG9TdHJpbmcoKSA6IHBheWxvYWQuZGlzY1F0eSwKICAgICAgICAgICAgICAgICAgZXhjaDogc3RhdGUuY3VycmVudE9yZGVyWyJFeGNoYW5nZSJdLAogICAgICAgICAgICAgICAgICBleGNoU2VnOiBzdGF0ZS5jdXJyZW50T3JkZXJbIkV4c2VnIl0sCiAgICAgICAgICAgICAgICAgIGZpbGxlZFF1YW50aXR5OiBzdGF0ZS5jdXJyZW50T3JkZXJbIkZpbGxzaGFyZXMiXSwKICAgICAgICAgICAgICAgICAgbWt0UHJvOiBzdGF0ZS5jdXJyZW50T3JkZXJbIk1rdHBybyJdLAogICAgICAgICAgICAgICAgICBuZXN0T3JkZXJOdW1iZXI6IHN0YXRlLmN1cnJlbnRPcmRlclsiTnN0b3Jkbm8iXSwKICAgICAgICAgICAgICAgICAgcENvZGU6IHN0YXRlLmN1cnJlbnRPcmRlclsiUGNvZGUiXSA9PSAiTUlTIiA/ICJtaXMiIDogc3RhdGUuY3VycmVudE9yZGVyWyJQY29kZSJdLAogICAgICAgICAgICAgICAgICBwcmN0eXA6IHBheWxvYWQucHJpY2VUeXBlLAogICAgICAgICAgICAgICAgICBzX3ByZHRfYWxpOiByb290R2V0dGVyc1snYXV0aHRpY2F0aW9uL2dldFVzZXJTZXNzaW9uRHRvJ10uc19wcmR0X2FsaSwKICAgICAgICAgICAgICAgICAgcHJpY2U6IHBheWxvYWQucHJpY2UudG9TdHJpbmcoKSwKICAgICAgICAgICAgICAgICAgcXR5OiBwYXlsb2FkLnF0eSwKICAgICAgICAgICAgICAgICAgc2NyaXBUb2tlbjogc3RhdGUuY3VycmVudE9yZGVyWyJ0b2tlbiJdLAogICAgICAgICAgICAgICAgICBzeW1ib2xfaWQ6IHN0YXRlLmN1cnJlbnRPcmRlclsidG9rZW4iXSwKICAgICAgICAgICAgICAgICAgdHJhZGluZ19zeW1ib2w6IHN0YXRlLmN1cnJlbnRPcmRlclsiVHJzeW0iXSwKICAgICAgICAgICAgICAgICAgdHJhbnN0eXBlOiBzdGF0ZS5vcmRlclR5cGUsCiAgICAgICAgICAgICAgICAgIHRyaWdQcmljZTogcGF5bG9hZC50cmdQcmljZSwKICAgICAgICAgICAgICAgICAgdXNlcklkOiByb290R2V0dGVyc1snYXV0aHRpY2F0aW9uL2dldFVzZXJJZCddLAogICAgICAgICAgICAgICAgICB2YWxpZGl0eTogcGF5bG9hZC52YWxpZGl0eSA/IHBheWxvYWQudmFsaWRpdHkudG9VcHBlckNhc2UoKSA6ICJEQVkiCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgc3RhdGUubG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gc2VydmljZS5tb2RpZnlPcmRlcihwbGFjZU9yZGVyKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09IDIwMCAmJiByZXNwb25zZS5kYXRhLnN0YXQgPT0gIk9rIikgewogICAgICAgICAgICAgICAgICAgIGVycm9ySGFuZGxpbmcudG9hc3RlcignTW9kaWZpZWQgU3VjY2Vzc2Z1bGx5JywgJ3N1Y2Nlc3MnLCAnY2hlY2sgb3JkZXIgYm9vayBmb3IgZnVydGhlciBkZXRhaWxzLicsIDMwMDApOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGVycm9ySGFuZGxpbmcudG9hc3RlcignT3JkZXIgbm90IG1vZGlmaWVkJywgJ2RhbmdlcicsIHJlc3BvbnNlLmRhdGEuRW1zZywgMzAwMCk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0T3JkZXJXaW5kb3cnLCBmYWxzZSk7CiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgIGVycm9ySGFuZGxpbmcuZXJyTG9nKGVycik7CiAgICAgICAgICAgICAgICB9KVsiZmluYWxseSJdKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgc3RhdGUubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIGdldCBOZXcgUHJpY2UgcmFuZ2UgU2VydmljZQogICAgZ2V0TmV3UHJpY2VSYW5nZTogZnVuY3Rpb24gZ2V0TmV3UHJpY2VSYW5nZShfcmVmNCwgcGF5bG9hZCkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgICAgICB2YXIgc3RhdGUsIGNvbW1pdCwgcm9vdEdldHRlcnMsIGV4Y2gsIHRva2VuLCBqc29uOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBzdGF0ZSA9IF9yZWY0LnN0YXRlLCBjb21taXQgPSBfcmVmNC5jb21taXQsIHJvb3RHZXR0ZXJzID0gX3JlZjQucm9vdEdldHRlcnM7CgogICAgICAgICAgICAgICAgaWYgKHN0YXRlLmN1cnJlbnRQYWdlID09ICdob2xkaW5ncycpIHsKICAgICAgICAgICAgICAgICAgZXhjaCA9IHN0YXRlLmN1cnJlbnRPcmRlci5FeGNoU2VnMSAmJiBzdGF0ZS5jdXJyZW50T3JkZXIuTnNldHN5bSAhPSAiMCIgPyBzdGF0ZS5jdXJyZW50T3JkZXIuRXhjaFNlZzEgOiBzdGF0ZS5jdXJyZW50T3JkZXIuRXhjaFNlZzI7CiAgICAgICAgICAgICAgICAgIHRva2VuID0gZXhjaCA9PSAiTlNFIiA/IHN0YXRlLmN1cnJlbnRPcmRlci5Ub2tlbjEgOiBzdGF0ZS5jdXJyZW50T3JkZXIuVG9rZW4yOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdGF0ZS5jdXJyZW50UGFnZSA9PSAiYW5hbHl0aWNzIikgewogICAgICAgICAgICAgICAgICBleGNoID0gcGF5bG9hZC5leGNoOwogICAgICAgICAgICAgICAgICB0b2tlbiA9IHBheWxvYWQuZXhjaCA9PSAnTlNFJyA/IHN0YXRlLmN1cnJlbnRPcmRlci5uc2VUb2tlbiA6IHN0YXRlLmN1cnJlbnRPcmRlci50b2tlbjsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdGUuY3VycmVudFBhZ2UgPT0gImJhc2tldCIpIHsKICAgICAgICAgICAgICAgICAgZXhjaCA9IHN0YXRlLmN1cnJlbnRPcmRlci5leGNoYW5nZTsKICAgICAgICAgICAgICAgICAgdG9rZW4gPSBzdGF0ZS5jdXJyZW50T3JkZXIudG9rZW47CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBleGNoID0gc3RhdGUuY3VycmVudFBhZ2UgPT0gJ21rV2F0Y2gnID8gc3RhdGUuY3VycmVudE9yZGVyLmV4Y2ggOiBzdGF0ZS5jdXJyZW50T3JkZXIuRXhjaGFuZ2U7CiAgICAgICAgICAgICAgICAgIHRva2VuID0gc3RhdGUuY3VycmVudFBhZ2UgPT0gJ3Bvc2l0aW9ucycgPyBzdGF0ZS5jdXJyZW50T3JkZXIuVG9rZW4gOiBzdGF0ZS5jdXJyZW50T3JkZXIudG9rZW47CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAganNvbiA9IHsKICAgICAgICAgICAgICAgICAgImV4Y2giOiBleGNoLAogICAgICAgICAgICAgICAgICAic3ltYm9sIjogdG9rZW4gPyB0b2tlbiA6IHN0YXRlLmN1cnJlbnRPcmRlci5TeW1ib2wsCiAgICAgICAgICAgICAgICAgICd1c2VySWQnOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlcklkIiksCiAgICAgICAgICAgICAgICAgICd1c2VyU2Vzc2lvbklEJzogbG9jYWxTdG9yYWdlLmdldEl0ZW0oInNlc3Npb25JZCIpCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIHNlcnZpY2UuZ2V0TmV3UHJpY2VSYW5nZShqc29uKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBzdGF0ZS5yZW1vdmVDc3MgPT0gZmFsc2UgPyBjb21taXQoJ3NldFJlbW92ZUNzcycsIGZhbHNlKSA6ICcnOwoKICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZW1zZyA9PSAiU2Vzc2lvbiBFeHBpcmVkIiB8fCByZXNwb25zZS5kYXRhID09IFtdKSB7CiAgICAgICAgICAgICAgICAgICAgZXJyb3JIYW5kbGluZy5zZXNzaW9uRXhwaXJlKCk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2Uuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0UHJpY2VSYW5nZURldGFpbHMnLCByZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgICBlcnJvckhhbmRsaW5nLmVyckxvZyhlcnIpOwogICAgICAgICAgICAgICAgfSlbImZpbmFsbHkiXShmdW5jdGlvbiAoKSB7fSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIHNjcmlwIHF1b3RlIGRldGFpbHMKICAgIGdldFNjcmlwUXVvdGVEZXRhaWxzOiBmdW5jdGlvbiBnZXRTY3JpcFF1b3RlRGV0YWlscyhfcmVmNSwgcGF5bG9hZCkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNygpIHsKICAgICAgICB2YXIgc3RhdGUsIGNvbW1pdCwgZGlzcGF0Y2gsIHJvb3RHZXR0ZXJzLCBleGNoLCB0b2tlbiwganNvbjsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgc3RhdGUgPSBfcmVmNS5zdGF0ZSwgY29tbWl0ID0gX3JlZjUuY29tbWl0LCBkaXNwYXRjaCA9IF9yZWY1LmRpc3BhdGNoLCByb290R2V0dGVycyA9IF9yZWY1LnJvb3RHZXR0ZXJzOwoKICAgICAgICAgICAgICAgIGlmIChwYXlsb2FkLnBhZ2UgPT0gImNoYXJ0IikgewogICAgICAgICAgICAgICAgICBleGNoID0gcGF5bG9hZC5leGNoOwogICAgICAgICAgICAgICAgICB0b2tlbiA9IHBheWxvYWQudG9rZW47CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBpZiAocGF5bG9hZC5wYWdlKSB7CiAgICAgICAgICAgICAgICAgICAgZXhjaCA9IHBheWxvYWQudmFsdWUuZXg7CiAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSBwYXlsb2FkLnZhbHVlLnRva2VuOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5jdXJyZW50UGFnZSA9PSAnaG9sZGluZ3MnKSB7CiAgICAgICAgICAgICAgICAgICAgICBleGNoID0gc3RhdGUuY3VycmVudE9yZGVyLkV4Y2hTZWcxICYmIHN0YXRlLmN1cnJlbnRPcmRlci5Oc2V0c3ltICE9ICIwIiA/IHN0YXRlLmN1cnJlbnRPcmRlci5FeGNoU2VnMSA6IHN0YXRlLmN1cnJlbnRPcmRlci5FeGNoU2VnMjsKICAgICAgICAgICAgICAgICAgICAgIHRva2VuID0gZXhjaCA9PSAiTlNFIiA/IHN0YXRlLmN1cnJlbnRPcmRlci5Ub2tlbjEgOiBzdGF0ZS5jdXJyZW50T3JkZXIuVG9rZW4yOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdGUuY3VycmVudFBhZ2UgPT0gImFuYWx5dGljcyIpIHsKICAgICAgICAgICAgICAgICAgICAgIGV4Y2ggPSBwYXlsb2FkLmV4Y2g7CiAgICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IHBheWxvYWQuZXhjaCA9PSAnTlNFJyA/IHN0YXRlLmN1cnJlbnRPcmRlci5uc2VUb2tlbiA6IHN0YXRlLmN1cnJlbnRPcmRlci50b2tlbjsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXRlLmN1cnJlbnRQYWdlID09ICJiYXNrZXQiKSB7CiAgICAgICAgICAgICAgICAgICAgICBleGNoID0gc3RhdGUuY3VycmVudE9yZGVyLmV4Y2hhbmdlOwogICAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSBzdGF0ZS5jdXJyZW50T3JkZXIudG9rZW47CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgIGV4Y2ggPSBzdGF0ZS5jdXJyZW50UGFnZSA9PSAnbWtXYXRjaCcgPyBzdGF0ZS5jdXJyZW50T3JkZXIuZXhjaCA6IHN0YXRlLmN1cnJlbnRPcmRlci5FeGNoYW5nZTsKICAgICAgICAgICAgICAgICAgICAgIHRva2VuID0gc3RhdGUuY3VycmVudFBhZ2UgPT0gJ3Bvc2l0aW9ucycgPyBzdGF0ZS5jdXJyZW50T3JkZXIuVG9rZW4gOiBzdGF0ZS5jdXJyZW50T3JkZXIudG9rZW47CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAganNvbiA9IHsKICAgICAgICAgICAgICAgICAgImV4Y2giOiBleGNoLAogICAgICAgICAgICAgICAgICAic3ltYm9sIjogdG9rZW4gPyB0b2tlbiA6IHN0YXRlLmN1cnJlbnRPcmRlci5TeW1ib2wsCiAgICAgICAgICAgICAgICAgICd1c2VySWQnOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlcklkIiksCiAgICAgICAgICAgICAgICAgICd1c2VyU2Vzc2lvbklEJzogbG9jYWxTdG9yYWdlLmdldEl0ZW0oInNlc3Npb25JZCIpCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIHNlcnZpY2UuZ2V0U2NyaXBRdW90ZURldGFpbHMoanNvbikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZW1zZyA9PSAiU2Vzc2lvbiBFeHBpcmVkIikgewogICAgICAgICAgICAgICAgICAgIGVycm9ySGFuZGxpbmcuc2Vzc2lvbkV4cGlyZSgpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICBpZiAocGF5bG9hZC5wYWdlID09ICdjaGFydCcpIHsKICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEuTFRQID0gcGF5bG9hZC5mcm9tID09ICdta1dhdGNoJyA/IHJvb3RHZXR0ZXJzWydnZXRDaGFydERhdGEnXVsnZGF0YSddWydsdHAnXSA6IHBheWxvYWQuZnJvbSA9PSAncG9zaXRpb24nID8gcm9vdEdldHRlcnNbJ2dldENoYXJ0RGF0YSddWydkYXRhJ11bJ0xUUCddIDogcGF5bG9hZC5mcm9tID09ICdob2xkaW5ncycgPyByb290R2V0dGVyc1snZ2V0Q2hhcnREYXRhJ11bJ2RhdGEnXVsnY2hhcnRMdHAnXSA6IHBheWxvYWQuZnJvbSA9PSAnaG9sZGluZ3MnICYmIHJvb3RHZXR0ZXJzWydnZXRDaGFydERhdGEnXVsnZGF0YSddWydsdHAnXSA/IHJvb3RHZXR0ZXJzWydnZXRDaGFydERhdGEnXVsnZGF0YSddWydsdHAnXSA6IHJlc3BvbnNlLmRhdGEuTFRQOwogICAgICAgICAgICAgICAgICAgICAgY29tbWl0KCdzZXRDaGFydFNjcmlwRGF0YScsIHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICBjb21taXQoJ3NldFNjcmlwdFF1b3RlRGV0YWlscycsIHJlc3BvbnNlLmRhdGEpOyAvLyB2YXIgdGVtcERhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgZGF0YTogW10sCiAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgd2hlcmU6ICdvcmRlcndpbmRvdycsCiAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgc3Vic2NyaWJlOiBqc29uLmV4Y2ggKyAnfCcgKyBqc29uLnN5bWJvbCArICcjJwogICAgICAgICAgICAgICAgICAgICAgLy8gfQogICAgICAgICAgICAgICAgICAgICAgLy8ganNvbi5leGNoICE9ICJOU0UiICYmIGpzb24uZXhjaCAhPSAiQlNFIiA/IGRpc3BhdGNoKCd3c0Nvbm5lY3Rpb24vd2Vic29ja2V0U3Vic2NyaXB0aW9uJywgdGVtcERhdGEsIHsgcm9vdDogdHJ1ZSB9KSA6ICcnCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuZW1zZyA9PSAiU2Vzc2lvbiBFeHBpcmVkIikgewogICAgICAgICAgICAgICAgICAgIGVycm9ySGFuZGxpbmcuc2Vzc2lvbkV4cGlyZSgpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgIGVycm9ySGFuZGxpbmcuZXJyTG9nKGVycik7CiAgICAgICAgICAgICAgICB9KVsiZmluYWxseSJdKGZ1bmN0aW9uICgpIHt9KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU3KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2V0RGVmYXVsdFZhbHVlczogZnVuY3Rpb24gc2V0RGVmYXVsdFZhbHVlcyhfcmVmNiwgc2NyaXBEYXRhKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4KCkgewogICAgICAgIHZhciBzdGF0ZSwgY29tbWl0LCBkaXNwYXRjaDsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTgkKF9jb250ZXh0OCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDgucHJldiA9IF9jb250ZXh0OC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgc3RhdGUgPSBfcmVmNi5zdGF0ZSwgY29tbWl0ID0gX3JlZjYuY29tbWl0LCBkaXNwYXRjaCA9IF9yZWY2LmRpc3BhdGNoOwoKICAgICAgICAgICAgICAgIC8vIG1pbmxvdCBmb3IgcXVhbnRpdHkKICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5jdXJyZW50T3JkZXJbIkluc3RuYW1lIl0gPT0gIkZVVENPTSIgfHwgc3RhdGUuY3VycmVudE9yZGVyWyJJbnN0TmFtZSJdID09ICJGVVRDT00iIHx8IHN0YXRlLmN1cnJlbnRPcmRlclsiSW5zdE5hbWUiXSA9PSAiT1BURlVUIiB8fCBzdGF0ZS5jdXJyZW50T3JkZXJbIkluc3RydW1lbnQiXSA9PSAiRlVUQ09NIiB8fCBzdGF0ZS5jdXJyZW50T3JkZXJbIkluc3RuYW1lIl0gPT0gIk9QVEZVVCIgfHwgc3RhdGUuY3VycmVudE9yZGVyWyJJbnN0cnVtZW50Il0gPT0gIk9QVEZVVCIgfHwgKHN0YXRlLmN1cnJlbnRPcmRlclsiSW5zdHJ1bWVudCJdID09ICJGVVRJRFgiIHx8IHN0YXRlLmN1cnJlbnRPcmRlclsiSW5zdG5hbWUiXSA9PSAiRlVUSURYIiB8fCBzdGF0ZS5jdXJyZW50T3JkZXJbIkluc3ROYW1lIl0gPT0gIkZVVElEWCIpICYmIHN0YXRlLmN1cnJlbnRFeGNoYW5nZSA9PSAiTUNYIikgewogICAgICAgICAgICAgICAgICBzY3JpcERhdGEuQm9kTG90UXR5ID8gc3RhdGUubWlubG90ID0gcGFyc2VGbG9hdChzY3JpcERhdGEuQm9kTG90UXR5KSAvIHBhcnNlRmxvYXQoc2NyaXBEYXRhLkJvZExvdFF0eSkgOiBzdGF0ZS5taW5sb3QgPSAwOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgc2NyaXBEYXRhLkJvZExvdFF0eSA/IHN0YXRlLm1pbmxvdCA9IHBhcnNlRmxvYXQoc2NyaXBEYXRhLkJvZExvdFF0eSkgOiBzdGF0ZS5taW5sb3QgPSAwOwogICAgICAgICAgICAgICAgfSAvLyBsdHAgZm9yIFByaWNlCgoKICAgICAgICAgICAgICAgIGNoZWNrTnVsbE5hbihzY3JpcERhdGEuTFRQKSA/IHN0YXRlLmx0cCA9IHNjcmlwRGF0YS5MVFAgOiBzdGF0ZS5sdHAgPSAnMC4wMCc7CiAgICAgICAgICAgICAgICBzdGF0ZS5jdXJyZW50RXhjaGFuZ2UgPT0gIkNEUyIgPyBwYXJzZUZsb2F0KHN0YXRlLmx0cCkudG9GaXhlZCg0KSA6IHBhcnNlRmxvYXQoc3RhdGUubHRwKS50b0ZpeGVkKDIpOwogICAgICAgICAgICAgICAgc2NyaXBEYXRhID8gY29tbWl0KCdzZXRUaWNrUHJpY2UnLCBzY3JpcERhdGEpIDogJyc7CiAgICAgICAgICAgICAgICBjb21taXQoJ3NldEN1cnJlbnRQcmljZScsIHN0YXRlLmx0cCk7CiAgICAgICAgICAgICAgICBjb21taXQoJ3NldEN1cnJlbnRUcmdQcmljZScsIHN0YXRlLmx0cCk7CiAgICAgICAgICAgICAgICBjb21taXQoInNldFdpbmRvd0xvYWRpbmciLCBmYWxzZSk7CiAgICAgICAgICAgICAgICBjb21taXQoInZhbGlEYXRlUXR5IiwgIiIpOwoKICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5tb2RpZnlPcmRlcikgewogICAgICAgICAgICAgICAgICBjb21taXQoJ3NldEN1cnJlbnRQcmljZScsIHN0YXRlLmN1cnJlbnRPcmRlci5QcmMgPT0gMCA/IHN0YXRlLmx0cCA6IGNoZWNrTnVsbE5hbihzdGF0ZS5jdXJyZW50T3JkZXIuUHJjKSA/IHN0YXRlLmN1cnJlbnRPcmRlci5QcmMgOiAnMC4wMCcpOwogICAgICAgICAgICAgICAgICBjb21taXQoJ3NldEN1cnJlbnRUcmdQcmljZScsIGNoZWNrTnVsbE5hbihzdGF0ZS5jdXJyZW50T3JkZXIuVHJncHJjKSA/IHBhcnNlRmxvYXQoc3RhdGUuY3VycmVudE9yZGVyLlRyZ3ByYykgIT0gMCA/IHN0YXRlLmN1cnJlbnRPcmRlci5UcmdwcmMgOiBzdGF0ZS5sdHAgOiAnMC4wMCcpOwogICAgICAgICAgICAgICAgICBjb21taXQoJ3NldERpc2Nsb3NlZFF0eScsIGNoZWNrTnVsbE5hbihzdGF0ZS5jdXJyZW50T3JkZXIuRHNjcXR5KSA/IHN0YXRlLmN1cnJlbnRPcmRlci5Ec2NxdHkgOiAwKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBzZXRRdHlGb2N1cygpOyAvLyAhc3RhdGUubWFyZ2luTG9hZGVyICYmICFzdGF0ZS5uc2VCc2VUeXBlID8gZGlzcGF0Y2goJ2dldE1hcmdpbkF2YWlsYWJsZScsICdzZXREZWZhdWx0VmFsdWVzJykgOiAnJwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU4KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2V0SW5pdGlhbFZhbHVlczogZnVuY3Rpb24gc2V0SW5pdGlhbFZhbHVlcyhfcmVmNywgcGF5bG9hZCkgewogICAgICB2YXIgc3RhdGUgPSBfcmVmNy5zdGF0ZSwKICAgICAgICAgIGNvbW1pdCA9IF9yZWY3LmNvbW1pdCwKICAgICAgICAgIGRpc3BhdGNoID0gX3JlZjcuZGlzcGF0Y2g7CiAgICAgIGNvbW1pdCgnc2V0T3JkZXJEYXRhJywgcGF5bG9hZCk7IC8vIGRpc3BhdGNoKCdjb21tb24vc2V0T3JkZXJUeXBlQ29tbW9uJyAsIHBheWxvYWQsIHtyb290OiB0cnVlfSkKICAgICAgLy8gZGlzcGF0Y2goJ2NvbW1vbi9zZXRQcm9kVHlwZUNvbW1vbicgLCBwYXlsb2FkLCB7cm9vdDogdHJ1ZX0pCiAgICB9LAogICAgc2V0T3JkZXJQcmVmZXJlbmNlOiBmdW5jdGlvbiBzZXRPcmRlclByZWZlcmVuY2UoX3JlZjgsIHBheWxvYWQpIHsKICAgICAgdmFyIHN0YXRlID0gX3JlZjguc3RhdGUsCiAgICAgICAgICBjb21taXQgPSBfcmVmOC5jb21taXQ7CgogICAgICAvLyBtYXJrZXQgd2F0Y2ggb3JkZXJXaW5kb3cgcHJlZmVyZW5jZSBzZXQgdmlhIGxvY2FsU3RvcmFnZWQKICAgICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJvcmRlclByZWZlcmVuY2UiKSAmJiAocGF5bG9hZC5wYWdlID09ICJta1dhdGNoIiB8fCBwYXlsb2FkLnBhZ2UgPT0gIm9yZGVycyIgJiYgIXN0YXRlLm1vZGlmeU9yZGVyKSkgewogICAgICAgIHZhciBwcmVmZXJlbmNlID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgib3JkZXJQcmVmZXJlbmNlIikpOwogICAgICAgIHZhciBwcm9kVHlwZSA9IChzdGF0ZS5jdXJyZW50RXhjaGFuZ2UgIT0gIkJTRSIgfHwgc3RhdGUuY3VycmVudEV4Y2hhbmdlICE9ICJOU0UiKSAmJiBwcmVmZXJlbmNlWyJwcm9kdWN0Il0gPT0gJ05STUwnID8gJ05STUwnIDogcHJlZmVyZW5jZVsicHJvZHVjdCJdOyAvLyB2YXIgb3JkZXJUYWIgPSBwcmVmZXJlbmNlWyJ2YXJpZXR5Il0gPT0gJ3JlZ3VsYXInID8gMCA6IHByZWZlcmVuY2VbInZhcmlldHkiXSA9PSAnY292ZXInID8gMSA6IHByZWZlcmVuY2VbInZhcmlldHkiXSA9PSAnYnJhY2tldCcgPyAyIDogcHJlZmVyZW5jZVsidmFyaWV0eSJdID09ICdhbW8nID8gMyA6ICcnCgogICAgICAgIHByZWZlcmVuY2VbInZhcmlldHkiXSA9PSAncmVndWxhcicgPyBwcmVmZXJlbmNlWyJ2YXJpZXR5Il0gPSAnUmVndWxhcicgOiBwcmVmZXJlbmNlWyJ2YXJpZXR5Il0gPT0gJ2NvdmVyJyA/IHByZWZlcmVuY2VbJ3ZhcmlldHknXSA9ICdDb3ZlcicgOiBwcmVmZXJlbmNlWyJ2YXJpZXR5Il0gPT0gJ2JyYWNrZXQnID8gcHJlZmVyZW5jZVsidmFyaWV0eSJdID0gJ0JyYWNrZXQnIDogcHJlZmVyZW5jZVsidmFyaWV0eSJdID09ICdhbW8nID8gcHJlZmVyZW5jZVsidmFyaWV0eSJdID0gJ0FNTycgOiAnJzsKICAgICAgICB2YXIgb3JkZXJUYWIgPSBzdGF0ZS5vcmRlclR5cGVMaXN0LmluZGV4T2YocHJlZmVyZW5jZVsidmFyaWV0eSJdKTsKICAgICAgICB2YXIgcHJpY2VUeXBlID0gcHJlZmVyZW5jZVsib3JkZXJUeXBlIl07CiAgICAgICAgdmFyIHZhbGlkaXR5ID0gcHJlZmVyZW5jZVsidmFsaWRpdHkiXTsKICAgICAgICBjb21taXQoInNldE9yZGVyVGFiIiwgb3JkZXJUYWIpOwogICAgICAgIGNvbW1pdCgnc2V0UHJvZFR5cGUnLCBwcm9kVHlwZSk7CiAgICAgICAgY29tbWl0KCdzZXRQcmljZVR5cGUnLCBwcmljZVR5cGUpOwogICAgICAgIGNvbW1pdCgnc2V0VmFsaWRpdHlUeXBlJywgdmFsaWRpdHkpOwogICAgICB9IGVsc2UgaWYgKHBheWxvYWQucGFnZSA9PSAiaG9sZGluZ3MiKSB7CiAgICAgICAgY29tbWl0KCJzZXRPcmRlclRhYiIsIDApOwogICAgICAgIGNvbW1pdCgnc2V0UHJvZFR5cGUnLCAnQ05DJyk7CiAgICAgICAgY29tbWl0KCdzZXRQcmljZVR5cGUnLCAnTUtUJyk7CiAgICAgICAgY29tbWl0KCdzZXRWYWxpZGl0eVR5cGUnLCAnREFZJyk7CiAgICAgIH0gZWxzZSBpZiAocGF5bG9hZC5wYWdlID09ICJwb3NpdGlvbnMiKSB7CiAgICAgICAgY29tbWl0KCJzZXRPcmRlclRhYiIsIDApOwogICAgICAgIGNvbW1pdCgnc2V0UHJvZFR5cGUnLCBwYXlsb2FkLmRhdGEuUGNvZGUpOwogICAgICAgIGNvbW1pdCgnc2V0UHJpY2VUeXBlJywgJ01LVCcpOwogICAgICAgIGNvbW1pdCgnc2V0VmFsaWRpdHlUeXBlJywgJ0RBWScpOwogICAgICB9CiAgICB9LAogICAgc2V0Q3VycmVudEx0cDogZnVuY3Rpb24gc2V0Q3VycmVudEx0cChfcmVmOSwgcGF5bG9hZCkgewogICAgICB2YXIgc3RhdGUgPSBfcmVmOS5zdGF0ZTsKICAgICAgc3RhdGUuY3VycmVudEx0cCA9IHN0YXRlLmN1cnJlbnRFeGNoYW5nZSA9PSAnQ0RTJyB8fCBzdGF0ZS5jdXJyZW50RXhjaGFuZ2UgPT0gJ0JDRCcgPyBwYXJzZUZsb2F0KHBheWxvYWQpLnRvRml4ZWQoNCkgOiBwYXJzZUZsb2F0KHBheWxvYWQpLnRvRml4ZWQoMik7CiAgICB9LAogICAgLy8gY2hlY2sgbWFyZ2luIGF2YWlsYmxlIAogICAgZ2V0TWFyZ2luQXZhaWxhYmxlOiBmdW5jdGlvbiBnZXRNYXJnaW5BdmFpbGFibGUoX3JlZjEwLCBwYXlsb2FkKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5KCkgewogICAgICAgIHZhciBzdGF0ZSwgY29tbWl0LCBkaXNwYXRjaCwgcm9vdEdldHRlcnMsIGpzb247CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5JChfY29udGV4dDkpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHN0YXRlID0gX3JlZjEwLnN0YXRlLCBjb21taXQgPSBfcmVmMTAuY29tbWl0LCBkaXNwYXRjaCA9IF9yZWYxMC5kaXNwYXRjaCwgcm9vdEdldHRlcnMgPSBfcmVmMTAucm9vdEdldHRlcnM7CiAgICAgICAgICAgICAgICBjb21taXQoJ3NldE1hcmdpbkxvYWRlcicsIHRydWUpOwogICAgICAgICAgICAgICAganNvbiA9IHsKICAgICAgICAgICAgICAgICAgInVzZXJJZCI6IHJvb3RHZXR0ZXJzWydhdXRodGljYXRpb24vZ2V0VXNlcklkJ10sCiAgICAgICAgICAgICAgICAgIC8vICJleGNoIjogdGhpcy5jdXJyZW50UGFnZSA9PSAnYmFza2V0JyA/IHRoaXMuY3VycmVudE9yZGVyLmV4Y2hhbmdlIDogdGhpcy5jdXJyZW50RXhjaGFuZ2UsCiAgICAgICAgICAgICAgICAgIC8vICAiZXhjaFNlZyI6IHRoaXMuY3VycmVudFBhZ2UgPT0gJ2Jhc2tldCcgPyB0aGlzLmN1cnJlbnRPcmRlci5leGNoYW5nZSA6IHRoaXMuY3VycmVudEV4Y2hhbmdlLAogICAgICAgICAgICAgICAgICAvLyAic3ltYm9sIjogdGhpcy5jdXJyZW50UGFnZSA9PSAnYmFza2V0JyA/IHRoaXMuY3VycmVudE9yZGVyLnRva2VuIDogdGhpcy5uc2VCc2VUeXBlID8gdGhpcy5jdXJyZW50RXhjaGFuZ2UgPT0gJ05TRScgPyB0aGlzLm5zZVByaWNlUmFuZ2VEYXRhWzBdLnRva2VuIDogdGhpcy5ic2VQcmljZVJhbmdlRGF0YVswXS50b2tlbiA6IHRoaXMuY3VycmVudFBhZ2UgPT0gJ3Bvc2l0aW9ucycgPyB0aGlzLmN1cnJlbnRPcmRlci5Ub2tlbiA6IHRoaXMuY3VycmVudFBhZ2UgPT0gJ2hvbGRpbmdzJyA/IHRoaXMuY3VycmVudEV4Y2hhbmdlID09ICJOU0UiID8gdGhpcy5jdXJyZW50T3JkZXIuVG9rZW4xIDogdGhpcy5jdXJyZW50T3JkZXIuVG9rZW4yIDogdGhpcy5jdXJyZW50T3JkZXIudG9rZW4sCiAgICAgICAgICAgICAgICAgIC8vICJwQ29kZSI6IHRoaXMuY3VycmVudFBhZ2UgPT0gJ2Jhc2tldCcgPyB0aGlzLmN1cnJlbnRPcmRlci5wcm9kdWN0IDogdGhpcy5wcm9kVHlwZSwKICAgICAgICAgICAgICAgICAgLy8gInByaWNlIjogdGhpcy5jdXJyZW50UGFnZSA9PSAnYmFza2V0JyA/IHRoaXMuY3VycmVudE9yZGVyLnByaWNlIDogdGhpcy5wcmljZS50b1N0cmluZygpLAogICAgICAgICAgICAgICAgICAvLyAicXR5IjogdGhpcy5jdXJyZW50UGFnZSA9PSAnYmFza2V0JyA/IHBhcnNlSW50KHRoaXMuY3VycmVudE9yZGVyLnF1YW50aXR5KSA6IHBhcnNlSW50KHRoaXMucXVhbnRpdHkpLAogICAgICAgICAgICAgICAgICAvLyAidHJhbnN0eXBlIjogdGhpcy5jdXJyZW50UGFnZSA9PSAnYmFza2V0JyA/IHRoaXMuY3VycmVudE9yZGVyLnRyYW5zYWN0aW9uX3R5cGUgOiB0aGlzLm9yZGVyVHlwZSwKICAgICAgICAgICAgICAgICAgLy8gInByY3R5cCI6IHRoaXMuY3VycmVudFBhZ2UgPT0gJ2Jhc2tldCcgPyB0aGlzLmN1cnJlbnRPcmRlci5vcmRlcl90eXBlIDogdGhpcy5wcmljZVR5cGUsCiAgICAgICAgICAgICAgICAgIC8vICJ0cmlnUHJpY2UiOiB0aGlzLmN1cnJlbnRQYWdlID09ICdiYXNrZXQnID8gdGhpcy5jdXJyZW50T3JkZXIudHJpZ2dlcl9wcmljZSA6IHRoaXMudHJpZ2dlclByaWNlLAogICAgICAgICAgICAgICAgICAvLyAidGFyZ2V0IjogdGhpcy5jdXJyZW50UGFnZSA9PSAnYmFza2V0JyA/IHRoaXMuY3VycmVudE9yZGVyLnRhcmdldF9wcmljZSA6IHRoaXMudGFyZ2V0UHJpY2UsCiAgICAgICAgICAgICAgICAgIC8vICJzdG9wTG9zcyI6IHRoaXMuY3VycmVudFBhZ2UgPT0gJ2Jhc2tldCcgPyB0aGlzLmN1cnJlbnRPcmRlci5zdG9wbG9zcyA6IHRoaXMuc3RvcExvc3NQcmljZSwKICAgICAgICAgICAgICAgICAgLy8gInRyYWlsaW5nX3N0b3BfbG9zcyI6IHRoaXMuY3VycmVudFBhZ2UgPT0gJ2Jhc2tldCcgPyB0aGlzLmN1cnJlbnRPcmRlci50cmFpbGluZ19zdG9wbG9zcyA6IHRoaXMudHJhaWxTdG9wTG9zc1ByaWNlCiAgICAgICAgICAgICAgICAgICJleGNoIjogc3RhdGUuY3VycmVudEV4Y2hhbmdlLAogICAgICAgICAgICAgICAgICAiZXhjaFNlZyI6IHN0YXRlLmN1cnJlbnRFeGNoYW5nZSwKICAgICAgICAgICAgICAgICAgInN5bWJvbCI6IHN0YXRlLmN1cnJlbnRUb2tlbiwKICAgICAgICAgICAgICAgICAgInBDb2RlIjogc3RhdGUucHJvZFR5cGUgPyBzdGF0ZS5wcm9kVHlwZSA6ICJNSVMiLAogICAgICAgICAgICAgICAgICAicHJpY2UiOiBzdGF0ZS5wcmljZS50b1N0cmluZygpLAogICAgICAgICAgICAgICAgICAicXR5IjogcGFyc2VJbnQoc3RhdGUucXVhbnRpdHkpLAogICAgICAgICAgICAgICAgICAidHJhbnN0eXBlIjogc3RhdGUub3JkZXJUeXBlLAogICAgICAgICAgICAgICAgICAicHJjdHlwIjogc3RhdGUucHJpY2VUeXBlID8gc3RhdGUucHJpY2VUeXBlIDogIkwiLAogICAgICAgICAgICAgICAgICAidHJpZ1ByaWNlIjogc3RhdGUudHJpZ2dlclByaWNlLAogICAgICAgICAgICAgICAgICAidGFyZ2V0Ijogc3RhdGUudGFyZ2V0UHJpY2UsCiAgICAgICAgICAgICAgICAgICJzdG9wTG9zcyI6IHN0YXRlLnN0b3BMb3NzUHJpY2UsCiAgICAgICAgICAgICAgICAgICJ0cmFpbGluZ19zdG9wX2xvc3MiOiBzdGF0ZS50cmFpbFN0b3BMb3NzUHJpY2UsCiAgICAgICAgICAgICAgICAgICJjb21wbGV4dHkiOiBzdGF0ZS5tb2RpZnlPcmRlciA/IHN0YXRlLmN1cnJlbnRPcmRlci5vcmRlcmdlbmVyYXRpb250eXBlIDogc3RhdGUub3JkZXJUeXBlTGlzdFtzdGF0ZS5vcmRlclRhYl0KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gc2VydmljZS5jaGVja01hcmdpbihqc29uKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09ICIyMDAiICYmIHJlc3BvbnNlLmRhdGEuc3RhdCA9PSAnT2snKSB7CiAgICAgICAgICAgICAgICAgICAgY29tbWl0KCJzZXRBdmFpbGFibGVNYXJnaW4iLCByZXNwb25zZS5kYXRhWydPcmRlciBNYXJnaW4nXSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5zdGF0ICE9ICdPaycgJiYgcmVzcG9uc2UuZGF0YS5lbXNnID09ICJTZXNzaW9uIEV4cGlyZWQiKSB7CiAgICAgICAgICAgICAgICAgICAgZXJyb3JIYW5kbGluZy5zZXNzaW9uRXhwaXJlKCk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY29tbWl0KCJzZXRBdmFpbGFibGVNYXJnaW4iLCAnTkEnKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgICBlcnJvckhhbmRsaW5nLmVyckxvZyhlcnIpOwogICAgICAgICAgICAgICAgfSlbImZpbmFsbHkiXShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0TWFyZ2luTG9hZGVyJywgZmFsc2UpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgZ2V0dGVyczogewogICAgZ2V0UHJpY2VUeXBlOiBmdW5jdGlvbiBnZXRQcmljZVR5cGUoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnByaWNlVHlwZTsKICAgIH0sCiAgICBnZXRQcm9kVHlwZTogZnVuY3Rpb24gZ2V0UHJvZFR5cGUoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnByb2RUeXBlOwogICAgfSwKICAgIGdldE9yZGVyVGFiOiBmdW5jdGlvbiBnZXRPcmRlclRhYihzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUub3JkZXJUYWI7CiAgICB9LAogICAgZ2V0VmFsaWRpdHlUeXBlOiBmdW5jdGlvbiBnZXRWYWxpZGl0eVR5cGUoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnZhbGlkaXR5VHlwZTsKICAgIH0sCiAgICBnZXRUcmlnZ2VyUHJpY2U6IGZ1bmN0aW9uIGdldFRyaWdnZXJQcmljZShzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUudHJpZ2dlclByaWNlOwogICAgfSwKICAgIGdldEN1cnJlbnRMdHA6IGZ1bmN0aW9uIGdldEN1cnJlbnRMdHAoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmN1cnJlbnRMdHA7CiAgICB9LAogICAgZ2V0Q3VycmVudFRva2VuOiBmdW5jdGlvbiBnZXRDdXJyZW50VG9rZW4oc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmN1cnJlbnRUb2tlbjsKICAgIH0sCiAgICBnZXRBdmFpbGFibGVNYXJnaW46IGZ1bmN0aW9uIGdldEF2YWlsYWJsZU1hcmdpbihzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuYXZhaWxhYmxlTWFyZ2luOwogICAgfQogIH0KfTsKZXhwb3J0IGRlZmF1bHQgb3JkZXJXaW5kb3c7"},{"version":3,"names":["service","errorHandling","router","checkNullNan","value","toString","isNaN","setQtyFocus","qtyInputBox","document","querySelector","focus","orderWindow","namespaced","state","orderTypeList","validityItems","bracketPriceItems","coverPriceItems","orderTab","priceType","prodType","validityType","showOrderWindow","removeCss","orderType","toggleOrder","currentOrder","priceRangeDetails","scriptQuoteDetails","currentExchange","currentInstrument","currentToken","minlot","ltp","currentLtp","triggerPrice","tickPrice","disclosedQuantity","quantity","price","isPrice","Boolean","isTrgPrice","isDisclosedQty","nsePriceRangeData","bsePriceRangeData","lowerRange","upperRange","nseBseType","modifyOrder","currentPage","mutations","setRemoveCss","payload","setOrderWindow","setOrderWindowModify","setOrderType","setToggleOrder","setCurrentOrder","data","console","log","page","ExchSeg1","Nsetsym","ExchSeg2","Token1","Token2","exch","nseToken","token","Exchange","Token","Instrument","Instname","isNfo","Bsetsym","formatScripName","setPriceRangeDetails","length","undefined","forEach","el","Exchg","push","lowercircuitlimit","replace","parseFloat","highercircuitlimit","dispatch","Ltp","LTP","commit","setScriptQuoteDetails","setChartScripData","chartScripData","localStorage","setItem","JSON","stringify","setCurrentQty","qty","setCurrentPrice","setCurrentTrgPrice","trgPrice","makeActive","exchange","lotSize","tickSize","tempData","where","subscribe","setPriceType","setProdType","setOrderTab","setValidityType","setWindowLoading","windowLoading","setPriceItems","showPriceItems","setProductItems","showproductItems","setIsNfo","changeOrderType","setOrderData","orderData","setIsDisclosedQty","setTickPrice","nseOrBseTickSize","TickSize","multiplier","Multiplier","decimalPrevision","DecimalPrecision","tempTickSize","Math","pow","setNseSwitchPrice","nseSwitchPrice","setBseSwitchPrice","bseSwitchPrice","setValidityItems","setDisclosedQty","setOrderTypeList","setAvailableMargin","availableMargin","valiDateQty","parameters","toLowerCase","SellableQty","Number","Netqty","abs","type","Qty","setMarginLoader","marginLoader","actions","placeOrder","rootGetters","loading","symbolName","TradingSymbol","symbol","TSymbl","Tsym","active_status","complexty","complexity","created_by","created_on","discqty","discQty","emsg","id","instrument","UniqueKey","link","master_id","pCode","pcode","prctyp","reponse","ret","validity","toUpperCase","salt","stat","stopLoss","parseInt","symbol_id","target","trading_symbol","trailing_stop_loss","trailStopLoss","transtype","trigPrice","updated_by","updated_on","userId","userSessionID","userSettingDto","executeOrder","then","response","toaster","error","err","errLog","placeBasketOrder","element","product","stoploss","tradingSymbol","trailingStoploss","transactionType","Emsg","sessionExpire","root","account_id","exchSeg","filledQuantity","mktPro","nestOrderNumber","s_prdt_ali","scripToken","status","getNewPriceRange","json","Symbol","getItem","getScripQuoteDetails","ex","from","setDefaultValues","scripData","BodLotQty","toFixed","Prc","Trgprc","Dscqty","setInitialValues","setOrderPreference","preference","parse","indexOf","Pcode","setCurrentLtp","getMarginAvailable","targetPrice","stopLossPrice","trailStopLossPrice","ordergenerationtype","checkMargin","getters","getPriceType","getProdType","getOrderTab","getValidityType","getTriggerPrice","getCurrentLtp","getCurrentToken","getAvailableMargin"],"sources":["/home/stoneage/VUE.JS Projects/Admin-panel/zebu-admin/src/store/modules/orderWindow.js"],"sourcesContent":["\nimport service from '../httpService'\nimport errorHandling from '../errorHandling'\nimport router from '@/router'\nfunction checkNullNan (value) {\n    return value && !!value && value.toString() != \"NA\" && value.toString() != \"-\" && !isNaN(value) ? true : false\n}\n\nfunction setQtyFocus () {\n    let qtyInputBox = document.querySelector(\"#qty\");\n    qtyInputBox != null ? qtyInputBox.focus() : ''\n}\n\nconst orderWindow = {\n    namespaced: true,\n    state: {\n        // window btns state variables\n        orderTypeList: [\"Regular\", \"Cover\", \"Bracket\", \"AMO\"],\n        validityItems: [\"DAY\", \"IOC\"],\n        bracketPriceItems: [\"L\", \"SL\"],\n        coverPriceItems: [\"L\", \"MKT\"],\n        orderTab: null,\n        priceType: null,\n        prodType: null,\n        validityType: 'DAY',\n\n        showOrderWindow: false,\n        removeCss: true,\n        orderType: 'Buy',\n        // orderSwitch\n        toggleOrder: false,\n        currentOrder: [],\n        priceRangeDetails: [],\n        scriptQuoteDetails: [],\n        currentExchange: '',\n        currentInstrument: '',\n        currentToken: '',\n\n        // qty & price Values\n        minlot: '',\n        ltp: '',\n        currentLtp: null,\n        triggerPrice: '',\n        tickPrice: '',\n        disclosedQuantity: 0,\n        quantity: '',\n        price: '',\n\n        // disable inputs boolean\n        isPrice: Boolean,\n        isTrgPrice: Boolean,\n        isDisclosedQty: Boolean,\n\n        // price range data\n        nsePriceRangeData: [],\n        bsePriceRangeData: [],\n        lowerRange: '',\n        upperRange: '',\n        nseBseType: false,\n        modifyOrder: false,\n\n        // currentPage Identify\n        currentPage: '',\n        currentInstrument: '',\n        isNfo: true,\n\n        // loading states\n        loading: false,\n        windowLoading: false,\n\n        // by Bharath \n        allPriceItems: [\"L\", \"MKT\", \"SL\", \"SL-M\"],\n        postionPriceItems: [\"L\", \"MKT\", \"SL\"],\n        showPriceItems: [],\n        eqProductItems: [\"MIS\", \"CNC\"],\n        allProductItems: [\"MIS\", \"NRML\"],\n        showproductItems: [],\n\n        // for Modify Order Data \n        orderData: [],\n        chartScripData: [],\n\n        // nse switch state\n        nseSwitchPrice: '0.00',\n        bseSwitchPrice: '0.00',\n        availableMargin: '0.00',\n        marginLoader: false\n    },\n    mutations: {\n        setRemoveCss (state, payload) {\n            state.removeCss = payload\n        },\n         setOrderWindow (state, payload) {\n            state.showOrderWindow = payload\n            state.modifyOrder = false\n        },\n\n         setOrderWindowModify (state, payload) {\n            state.showOrderWindow = payload\n            state.modifyOrder = true\n        },\n\n        setOrderType (state, payload) {\n            state.orderType = payload\n        },\n\n        setToggleOrder (state, payload) {\n            state.toggleOrder = payload\n        },\n\n        setCurrentOrder (state, payload) {\n            state.currentOrder = payload.data\n            console.log(state.currentOrder);\n            if (payload.page == \"holdings\") {\n                state.currentExchange = payload.data.ExchSeg1 && payload.data.Nsetsym != \"0\" ? payload.data.ExchSeg1 : payload.data.ExchSeg2\n                state.currentToken = state.currentExchange == \"NSE\" ? payload.data.Token1 : payload.data.Token2\n            } else if (payload.page == \"analytics\") {\n                state.currentExchange = payload.exch\n                state.currentToken = payload.data.nseToken ? payload.data.nseToken : payload.data.token\n            } else {\n                // This block is for POSITIONS and ORDERS\n                state.currentExchange = payload.page == 'mkWatch' ? payload.data.exch : payload.data.Exchange\n                state.currentToken = payload.data.token ? payload.data.token : payload.data.Token\n            }\n            if (payload.page == \"mkWatch\") {\n                state.currentInstrument = state.currentOrder.Instrument\n            } else if (payload.page == \"orders\" || payload.page == \"positions\") {\n                state.currentInstrument = state.currentOrder.Instname\n            }\n            state.currentInstrument == 'OPTIDX' || state.currentInstrument == 'OPTSTK' ? state.isNfo = false : state.isNfo = true\n\n            state.currentPage = payload.page\n            if (payload.page == \"holdings\") {\n                state.currentInstrument = state.currentExchange == \"NSE\" ? state.currentOrder.Nsetsym : state.currentOrder.Bsetsym\n            } else {\n                state.currentInstrument = payload.data.formatScripName\n            }\n\n        },\n\n        async setPriceRangeDetails (state, payload) {\n            state.nsePriceRangeData = []\n            state.bsePriceRangeData = []\n            payload.length == 1 || payload.length == undefined ? state.nseBseType = false : state.nseBseType = true\n            // Check undefined, null , empty for both lower and upperRange\n            if (payload.length >= 1) {\n                payload.forEach(el => {\n                    el.Exchg == state.currentExchange ? state.priceRangeDetails = el : ''\n                    if (el.Exchg == \"NSE\") {\n                        state.nsePriceRangeData.push(el)\n                    } else if (el.Exchg == \"BSE\") {\n                        state.bsePriceRangeData.push(el)\n                    }\n                })\n\n                state.lowerRange = state.priceRangeDetails.lowercircuitlimit ? checkNullNan(state.priceRangeDetails.lowercircuitlimit.toString().replace(/,/g, \"\")) ? parseFloat(state.priceRangeDetails.lowercircuitlimit.toString().replace(/,/g, \"\")) : '0.00' : '0.00' \n                state.upperRange = state.priceRangeDetails.highercircuitlimit ? checkNullNan(state.priceRangeDetails.highercircuitlimit.toString().replace(/,/g, \"\")) ? parseFloat(state.priceRangeDetails.highercircuitlimit.toString().replace(/,/g, \"\")) : '0.00' : '0.00' \n\n                // var tempData = {\n                //     data: [],\n                //     where: 'orderwindow',\n                //     subscribe: state.currentExchange + '|' + state.currentToken + '#'\n                // }\n                // payload.length == 1 ? this.dispatch('wsConnection/websocketSubscription', tempData, { root: true }) : ''\n            } else {\n                \n                state.priceRangeDetails = payload\n                state.lowerRange = checkNullNan(state.priceRangeDetails.lowercircuitlimit.toString().replace(/,/g, \"\")) ? parseFloat(state.priceRangeDetails.lowercircuitlimit.toString().replace(/,/g, \"\")) : '0.00'\n                state.upperRange = checkNullNan(state.priceRangeDetails.highercircuitlimit.toString().replace(/,/g, \"\")) ? parseFloat(state.priceRangeDetails.highercircuitlimit.toString().replace(/,/g, \"\")) : '0.00'\n                this.dispatch('orderWindow/setCurrentLtp', checkNullNan(state.priceRangeDetails.Ltp) ? state.priceRangeDetails.Ltp : checkNullNan(state.scriptQuoteDetails.LTP) ? state.scriptQuoteDetails.LTP : '0.00')\n               \n            }\n            // nse bse radio button call function\n\n            if (state.currentExchange == \"NSE\" && payload.length > 1) {\n                await this.commit('orderWindow/makeActive', 'NSE')\n            } else if (state.currentExchange == \"BSE\" && payload.length > 1) {\n                await this.commit('orderWindow/makeActive', 'BSE')\n            }\n        },\n\n        async setScriptQuoteDetails (state, payload) {\n            state.scriptQuoteDetails = payload\n            this.dispatch('orderWindow/setDefaultValues', state.scriptQuoteDetails)\n            this.dispatch('orderWindow/setCurrentLtp', checkNullNan(state.scriptQuoteDetails.LTP) ? state.scriptQuoteDetails.LTP : '0.00')\n        },\n\n        setChartScripData (state, payload) {\n            state.chartScripData = payload,\n                localStorage.setItem('chartscrip', JSON.stringify(payload))\n        },\n\n        setCurrentQty (state, qty) {\n            state.quantity = qty\n        },\n\n        setCurrentPrice (state, price) {\n            state.price = price\n        },\n\n        setCurrentTrgPrice (state, trgPrice) {\n            state.triggerPrice = trgPrice\n        },\n\n        // make active method for nse bse radio switch\n        makeActive (state, exchange) {\n            if (exchange == \"NSE\" && !state.modifyOrder) {\n                checkNullNan(state.scriptQuoteDetails.LTP)\n                state.triggerPrice = state.ltp = state.price = checkNullNan(state.nsePriceRangeData[0].Ltp) ? state.nsePriceRangeData[0].Ltp : checkNullNan(state.scriptQuoteDetails.LTP) ? state.scriptQuoteDetails.LTP : '0.00';\n                checkNullNan(state.nsePriceRangeData[0].lowercircuitlimit.toString().replace(/,/g, \"\")) ? state.lowerRange = parseFloat(state.nsePriceRangeData[0].lowercircuitlimit.toString().replace(/,/g, \"\")) : '0.00'\n                checkNullNan(state.nsePriceRangeData[0].highercircuitlimit.toString().replace(/,/g, \"\")) ? state.upperRange = parseFloat(state.nsePriceRangeData[0].highercircuitlimit.toString().replace(/,/g, \"\")) : '0.00'\n                state.nsePriceRangeData[0].lotSize ? state.minlot = state.nsePriceRangeData[0].lotSize : state.minlot = 0\n                state.scriptQuoteDetails['nseOrBseTickSize'] = state.nsePriceRangeData[0].tickSize\n                this.commit('orderWindow/setTickPrice', state.scriptQuoteDetails)\n                this.dispatch('orderWindow/setCurrentLtp', checkNullNan(state.nsePriceRangeData[0].Ltp) ? state.nsePriceRangeData[0].Ltp : checkNullNan(state.scriptQuoteDetails.LTP) ? state.scriptQuoteDetails.LTP : '0.00')\n                state.currentToken = state.nsePriceRangeData[0]['token']\n            } else if (!state.modifyOrder) {\n                state.triggerPrice = state.ltp = state.price = checkNullNan(state.bsePriceRangeData[0].Ltp) ? state.bsePriceRangeData[0].Ltp : checkNullNan(state.scriptQuoteDetails.LTP) ? state.scriptQuoteDetails.LTP : '0.00'\n                checkNullNan(state.bsePriceRangeData[0].lowercircuitlimit.toString().replace(/,/g, \"\")) ? state.lowerRange = parseFloat(state.bsePriceRangeData[0].lowercircuitlimit.toString().replace(/,/g, \"\")) : '0.00'\n                checkNullNan(state.bsePriceRangeData[0].highercircuitlimit.toString().replace(/,/g, \"\")) ? state.upperRange = parseFloat(state.bsePriceRangeData[0].highercircuitlimit.toString().replace(/,/g, \"\")) : '0.00'\n                state.bsePriceRangeData[0].lotSize ? state.minlot = state.bsePriceRangeData[0].lotSize : state.minlot = 0\n                state.scriptQuoteDetails['nseOrBseTickSize'] = state.bsePriceRangeData[0].tickSize\n                this.commit('orderWindow/setTickPrice', state.scriptQuoteDetails)\n                this.dispatch('orderWindow/setCurrentLtp', checkNullNan(state.bsePriceRangeData[0].Ltp) ? state.bsePriceRangeData[0].Ltp : checkNullNan(state.scriptQuoteDetails.LTP) ? state.scriptQuoteDetails.LTP : '0.00')\n                state.currentToken = state.bsePriceRangeData[0]['token']\n            }\n            this.commit(\"orderWindow/valiDateQty\" , \"\")\n            this.commit('orderWindow/setNseSwitchPrice', checkNullNan(state.nsePriceRangeData[0].Ltp) ? state.nsePriceRangeData[0].Ltp : checkNullNan(state.scriptQuoteDetails.LTP) ? state.scriptQuoteDetails.LTP : '0.00')\n            this.commit('orderWindow/setBseSwitchPrice', checkNullNan(state.bsePriceRangeData[0].Ltp) ? state.bsePriceRangeData[0].Ltp : checkNullNan(state.scriptQuoteDetails.LTP) ? state.scriptQuoteDetails.LTP : '0.00')\n            state.currentExchange = exchange\n            var tempData = {\n                data: [],\n                where: 'orderwindow',\n                subscribe: exchange + '|' + state.currentToken + '#'\n            }\n            // this.dispatch('wsConnection/websocketSubscription', tempData, { root: true })\n        //    !state.marginLoader ? this.dispatch('orderWindow/getMarginAvailable', 'makeActive') : ''\n        },\n\n        setPriceType (state, payload) {\n            state.priceType = payload\n        },\n\n        setProdType (state, payload) {\n            state.prodType = payload\n        },\n\n        setOrderTab (state, payload) {\n            state.orderTab = payload\n        },\n\n        setValidityType (state, payload) {\n            state.validityType = payload\n        },\n\n        setWindowLoading (state, payload) {\n            state.windowLoading = payload;\n        },\n\n        // by Bharath \n        setPriceItems (state, payload) {\n            state.showPriceItems = payload\n        },\n\n        setProductItems (state, payload) {\n            state.showproductItems = payload\n        },\n\n        setIsNfo (state, payload) {\n            state.isNfo = payload\n        },\n\n        changeOrderType (state, payload) {\n            switch (payload) {\n                case \"regular\": //Regular Order // We have taken (regular = amo) except for validity\n                case \"amo\": {\n                    if (state.priceType == \"L\") {\n                        state.isPrice = true;\n                        state.isTrgPrice = false;\n                    } else if (state.priceType == \"MKT\") {\n                        state.isPrice = false;\n                        state.isTrgPrice = false;\n                    } else if (state.priceType == \"SL\") {\n                        state.isPrice = true;\n                        state.isTrgPrice = true;\n                    } else if (state.priceType == \"SL-M\") {\n                        state.isPrice = false;\n                        state.isTrgPrice = true;\n                    }\n                    break;\n                }\n                case \"cover\": {\n                    // Cover Order validation\n                    if (state.priceType == \"L\") {\n                        state.isPrice = true;\n                        state.isTrgPrice = true;\n                    } else if (state.priceType == \"MKT\") {\n                        state.isPrice = false;\n                        state.isTrgPrice = true;\n                    }\n                    break;\n                }\n                case \"bracket\": {\n                    // bracket Order validation\n                    if (state.priceType == \"L\") {\n                        state.isPrice = true;\n                        state.isTrgPrice = false;\n                    } else if (state.priceType == \"SL\") {\n                        state.isPrice = true;\n                        state.isTrgPrice = true;\n                    }\n                    break;\n                }\n            }\n            if (state.currentExchange == 'NFO' || state.currentExchange == 'BFO') {\n                this.commit('orderWindow/setIsDisclosedQty', false);\n            } else {\n                this.commit('orderWindow/setIsDisclosedQty', true);\n            }\n        },\n\n        setOrderData (state, payload) {\n            state.orderData = payload\n        },\n\n        setIsDisclosedQty (state, payload) {\n            state.isDisclosedQty = payload\n        },\n\n        setTickPrice (state, payload) {\n            // tickprice calculation \n            if (payload.nseOrBseTickSize) {\n                var tickSize = parseFloat(payload.nseOrBseTickSize)\n            } else {\n                var tickSize = parseFloat(payload.TickSize)\n            }\n            var multiplier = payload.Multiplier\n            var decimalPrevision = payload.DecimalPrecision\n            var tempTickSize = tickSize / (multiplier * Math.pow(10, decimalPrevision));\n            checkNullNan(tempTickSize) && tempTickSize != 0 ? state.tickPrice = tempTickSize : 1\n        },\n\n        setNseSwitchPrice (state, payload) {\n            state.nseSwitchPrice = payload\n        },\n\n        setBseSwitchPrice (state, payload) {\n            state.bseSwitchPrice = payload\n        },\n\n        setValidityItems (state, payload) {\n            state.validityItems = payload\n        },\n\n        setDisclosedQty (state, payload) {\n            state.disclosedQuantity = payload\n        },\n\n        setOrderTypeList(state, payload){\n            state.orderTypeList = payload\n        },\n\n        // set Available margin\n        setAvailableMargin (state, payload) {\n            state.availableMargin = payload\n        },\n\n        // set Quantity with check Page\n        valiDateQty(state, parameters){\n            if (state.currentPage == 'holdings') {\n                state.orderType.toLowerCase() == 'buy' ? this.commit('orderWindow/setCurrentQty', state.minlot) : this.commit('orderWindow/setCurrentQty', state.currentOrder.SellableQty)\n            }else if(state.currentPage == 'positions'){\n                if(Number(state.currentOrder.Netqty) == 0){\n                    this.commit('orderWindow/setCurrentQty', state.minlot)\n                }else{\n                    if(Number(state.currentOrder.Netqty) > 0 && state.orderType.toLowerCase() == 'buy'){\n                        this.commit('orderWindow/setCurrentQty', state.minlot) \n                    }else if(Number(state.currentOrder.Netqty) > 0 && state.orderType.toLowerCase() == 'sell'){\n                        this.commit('orderWindow/setCurrentQty', Math.abs(state.currentOrder.Netqty)) \n                    }else if(Number(state.currentOrder.Netqty) < 0 && state.orderType.toLowerCase() == 'buy'){\n                        this.commit('orderWindow/setCurrentQty', state.minlot) \n                    }else if(Number(state.currentOrder.Netqty) < 0 && state.orderType.toLowerCase() == 'sell'){\n                        this.commit('orderWindow/setCurrentQty', Math.abs(state.currentOrder.Netqty)) \n                    }\n                }\n            }else {\n                this.commit('orderWindow/setCurrentQty', state.orderData.page == 'orders' && state.modifyOrder && state.orderData.type ? state.orderData.data.Qty : state.minlot)\n            }\n        },\n        setMarginLoader(state, payload){\n            state.marginLoader = payload\n        }\n\n    },\n    actions: {\n        // place order service\n        async placeOrder ({ state, commit, rootGetters }, payload) {\n            state.loading = true;\n            var symbolName = state.currentPage == 'mkWatch' ? state.currentExchange == 'NSE' ? state.nsePriceRangeData[0].TradingSymbol : state.currentExchange == 'BSE' ? state.bsePriceRangeData[0].TradingSymbol : state.currentOrder.symbol\n                : state.currentPage == 'orders' ? state.currentExchange == 'NSE' ? state.nsePriceRangeData[0].TradingSymbol : state.currentExchange == 'BSE' ? state.bsePriceRangeData[0].TradingSymbol : state.scriptQuoteDetails.TSymbl\n                    : state.currentPage == 'positions' ? state.currentExchange == 'NSE' ? state.nsePriceRangeData[0].TradingSymbol : state.currentExchange == 'BSE' ? state.bsePriceRangeData[0].TradingSymbol : state.currentOrder.Tsym\n                        : (state.currentPage == 'holdings' && state.currentExchange == 'NSE') ? state.currentOrder.Nsetsym\n                            : (state.currentPage == 'holdings' && state.currentExchange == 'BSE') ? state.currentOrder.Bsetsym : ''\n            let placeOrder = [{\n                active_status: null,\n                complexty: payload.complexity == 'bracket' ? 'bo' : payload.complexity == 'cover' ? 'co' : payload.complexity,\n                created_by: null,\n                created_on: null,\n                discqty: payload.orderTab == \"bracket\" ? payload.discQty.toString() : payload.discQty,\n                emsg: null,\n                exch: state.currentExchange,\n                id: null,\n                instrument: state.scriptQuoteDetails.UniqueKey,\n                link: null,\n                master_id: 0,\n                pCode: payload.complexity == 'cover' ? \"CO\" : payload.pcode,\n                prctyp: payload.priceType,\n                price: payload.price.toString(),\n                qty: payload.qty,\n                reponse: null,\n                ret: payload.validity ? payload.validity.toUpperCase() : \"DAY\",\n                salt: null,\n                stat: null,\n                stopLoss: parseInt(payload.stopLoss),\n                symbol_id: state.currentToken,\n                target: payload.stopLoss,\n                trading_symbol: symbolName,\n                trailing_stop_loss: parseInt(payload.trailStopLoss),\n                transtype: state.orderType,\n                trigPrice: payload.trgPrice,\n                updated_by: null,\n                updated_on: null,\n                userId: rootGetters['authtication/getUserId'],\n                userSessionID: rootGetters['authtication/getUserSession'],\n                userSettingDto: rootGetters['authtication/getUserSessionDto'],\n            }]\n            state.loading = false;\n            commit('setOrderWindow', false)\n            await service.executeOrder(placeOrder).then(response => {\n                if (response.data[0][\"emsg\"] == 'Input parameters are wrong') {\n                    errorHandling.toaster('Order not placed', 'danger', response.data[0][\"emsg\"], 3000)\n                } else if (response.data[0].stat == 'Not_Ok') {\n                    var error = response.data[0]['Emsg'] ? response.data[0]['Emsg'] : response.data[0]['emsg']\n                    errorHandling.toaster('Order not placed', 'danger', error, 3000)\n                } else {\n                    errorHandling.toaster(response.data[0][\"NOrdNo\"] ? response.data[0][\"NOrdNo\"] : response.data[0][\"nestOrderNumber\"], 'success', 'Order Placed Successfully', 3000)\n                }\n                commit('setOrderWindow', false)\n            }, (err) => {\n                errorHandling.errLog(err)\n            }).finally(() => { state.loading = false })\n        },\n\n        // placeBasketOrder service\n        async placeBasketOrder ({ state, commit, rootGetters }, payload) {\n            state.loading = true;\n            let placeOrder = []\n            payload.data.forEach(element => {\n                placeOrder.push({\n                    active_status: null,\n                    complexty: element.complexity,\n                    created_by: null,\n                    created_on: null,\n                    discqty: element.disclosedQuantity ? element.disclosedQuantity : 0,\n                    emsg: null,\n                    exch: element.exchange,\n                    id: null,\n                    instrument: element.instrument,\n                    link: null,\n                    master_id: 0,\n                    pCode: element.product ? element.product.toLowerCase() : element.product,\n                    prctyp: element.orderType,\n                    price: element.price ? element.price : 0,\n                    qty: element.quantity,\n                    reponse: null,\n                    ret: element.validity ? element.validity.toUpperCase() : \"DAY\",\n                    salt: null,\n                    stat: null,\n                    stopLoss: element.stoploss ? parseInt(element.stoploss) : 0,\n                    symbol_id: element.token,\n                    target: element.stoploss ? parseInt(element.stoploss) : 0,\n                    trading_symbol: element.tradingSymbol,\n                    trailing_stop_loss: element.trailingStoploss ? parseInt(element.trailingStoploss) : 0,\n                    transtype: element.transactionType ? element.transactionType.toLowerCase() : element.transactionType,\n                    trigPrice: element.triggerPrice ? element.triggerPrice : 0,\n                    updated_by: null,\n                    updated_on: null,\n                    userId: rootGetters['authtication/getUserId'],\n                    userSessionID: rootGetters['authtication/getUserSession'],\n                    userSettingDto: rootGetters['authtication/getUserSessionDto'],\n                })\n            })\n            console.log(placeOrder);\n            state.loading = false;\n            await service.executeOrder(placeOrder).then(response => {\n                if (response.data[0][\"emsg\"] == 'Input parameters are wrong') {\n                    response.data.forEach(element => {\n                        errorHandling.toaster('Order not placed', 'danger', element[\"emsg\"], 3000)\n                    })\n                } else if (response.data[0].stat == 'Not_Ok') {\n                    response.data.forEach(element => {\n                        errorHandling.toaster('Order not placed', 'danger', element['Emsg'], 3000)\n                    })\n                } else if(response.data[0].Emsg == \"Session Expired\"){\n                    errorHandling.sessionExpire()\n                }else {\n                    response.data.forEach(element => {\n                        errorHandling.toaster(element[\"NOrdNo\"] ? element[\"NOrdNo\"] : element[\"nestOrderNumber\"], 'success', 'Order Placed Successfully', 3000)\n                    })\n                }\n                commit('setOrderWindow', false)\n                router.push('/orders')\n                    commit('setBasketQuery', '', {root : true})\n            }, (err) => {\n                errorHandling.errLog(err)\n            }).finally(() => { state.loading = false })\n        },\n\n        // Modify order\n        async modifyOrder ({ state, commit, rootGetters }, payload) {\n            let placeOrder = {\n                account_id: state.currentOrder[\"accountId\"],\n                discqty: payload.orderTab == \"bracket\" ? payload.discQty.toString() : payload.discQty,\n                exch: state.currentOrder[\"Exchange\"],\n                exchSeg: state.currentOrder[\"Exseg\"],\n                filledQuantity: state.currentOrder[\"Fillshares\"],\n                mktPro: state.currentOrder[\"Mktpro\"],\n                nestOrderNumber: state.currentOrder[\"Nstordno\"],\n                pCode: state.currentOrder[\"Pcode\"] == \"MIS\" ? \"mis\" : state.currentOrder[\"Pcode\"],\n                prctyp: payload.priceType,\n                s_prdt_ali: rootGetters['authtication/getUserSessionDto'].s_prdt_ali,\n                price: payload.price.toString(),\n                qty: payload.qty,\n                scripToken: state.currentOrder[\"token\"],\n                symbol_id: state.currentOrder[\"token\"],\n                trading_symbol: state.currentOrder[\"Trsym\"],\n                transtype: state.orderType,\n                trigPrice: payload.trgPrice,\n                userId: rootGetters['authtication/getUserId'],\n                validity: payload.validity ? payload.validity.toUpperCase() : \"DAY\",\n            }\n            state.loading = true;\n            await service.modifyOrder(placeOrder).then(response => {\n                if (response.status == 200 && response.data.stat == \"Ok\") {\n                    errorHandling.toaster('Modified Successfully', 'success', 'check order book for further details.', 3000)\n                } else {\n                    errorHandling.toaster('Order not modified', 'danger', response.data.Emsg, 3000)\n                }\n                commit('setOrderWindow', false)\n            }, (err) => {\n                errorHandling.errLog(err)\n            }).finally(() => { state.loading = false; })\n        },\n\n        // get New Price range Service\n        async getNewPriceRange ({ state, commit, rootGetters }, payload) {\n            if (state.currentPage == 'holdings') {\n                var exch = state.currentOrder.ExchSeg1 && state.currentOrder.Nsetsym != \"0\" ? state.currentOrder.ExchSeg1 : state.currentOrder.ExchSeg2\n                var token = exch == \"NSE\" ? state.currentOrder.Token1 : state.currentOrder.Token2\n            } else if (state.currentPage == \"analytics\") {\n                var exch = payload.exch\n                var token = payload.exch == 'NSE' ? state.currentOrder.nseToken : state.currentOrder.token\n            } else if (state.currentPage == \"basket\") {\n                var exch = state.currentOrder.exchange\n                var token = state.currentOrder.token\n            } else {\n                var exch = state.currentPage == 'mkWatch' ? state.currentOrder.exch : state.currentOrder.Exchange\n                var token = state.currentPage == 'positions' ? state.currentOrder.Token : state.currentOrder.token\n            }\n            let json = {\n                \"exch\": exch,\n                \"symbol\": token ? token : state.currentOrder.Symbol,\n                'userId': localStorage.getItem(\"userId\"),\n                'userSessionID': localStorage.getItem(\"sessionId\"),\n            }\n            await service.getNewPriceRange(json).then(response => {\n                state.removeCss == false ? commit('setRemoveCss', false) : ''\n                if (response.data.emsg == \"Session Expired\" || response.data == []) {\n                    errorHandling.sessionExpire();\n                } else if (response.status == 200) {\n                    commit('setPriceRangeDetails', response.data)\n                }\n            }, (err) => {\n                errorHandling.errLog(err)\n            }).finally(() => { })\n        },\n\n        // scrip quote details\n        async getScripQuoteDetails ({ state, commit, dispatch, rootGetters }, payload) {\n            if(payload.page == \"chart\"){\n                var exch = payload.exch\n                var token = payload.token\n            }else{\n            if (payload.page) {\n                var exch = payload.value.ex\n                var token = payload.value.token\n            } else {\n                if (state.currentPage == 'holdings') {\n                    var exch = state.currentOrder.ExchSeg1 && state.currentOrder.Nsetsym != \"0\" ? state.currentOrder.ExchSeg1 : state.currentOrder.ExchSeg2\n                    var token = exch == \"NSE\" ? state.currentOrder.Token1 : state.currentOrder.Token2\n                } else if (state.currentPage == \"analytics\") {\n                    var exch = payload.exch\n                    var token = payload.exch == 'NSE' ? state.currentOrder.nseToken : state.currentOrder.token\n                } else if (state.currentPage == \"basket\") {\n                    var exch = state.currentOrder.exchange\n                    var token = state.currentOrder.token\n                } else {\n                    var exch = state.currentPage == 'mkWatch' ? state.currentOrder.exch : state.currentOrder.Exchange\n                    var token = state.currentPage == 'positions' ? state.currentOrder.Token : state.currentOrder.token\n                }\n            }\n        }\n            let json = {\n                \"exch\": exch,\n                \"symbol\": token ? token : state.currentOrder.Symbol,\n                'userId': localStorage.getItem(\"userId\"),\n                'userSessionID': localStorage.getItem(\"sessionId\"),\n            }\n            await service.getScripQuoteDetails(json).then(response => {\n                if (response.data.emsg == \"Session Expired\") {\n                    errorHandling.sessionExpire();\n                } else if (response.status == 200) {\n\n                    if (payload.page == 'chart') {\n                        response.data.LTP =  payload.from == 'mkWatch' ? rootGetters['getChartData']['data']['ltp'] : payload.from == 'position' ? rootGetters['getChartData']['data']['LTP'] : payload.from == 'holdings' ? rootGetters['getChartData']['data']['chartLtp'] : payload.from == 'holdings' && rootGetters['getChartData']['data']['ltp'] ? rootGetters['getChartData']['data']['ltp'] : response.data.LTP\n                        commit('setChartScripData', response.data)\n                       \n                    } else {\n                        commit('setScriptQuoteDetails', response.data)\n                        // var tempData = {\n                        //     data: [],\n                        //     where: 'orderwindow',\n                        //     subscribe: json.exch + '|' + json.symbol + '#'\n                        // }\n                        // json.exch != \"NSE\" && json.exch != \"BSE\" ? dispatch('wsConnection/websocketSubscription', tempData, { root: true }) : ''\n                    }\n                } else if (response.data.emsg == \"Session Expired\") {\n                    errorHandling.sessionExpire();\n                }\n            }, (err) => {\n                errorHandling.errLog(err)\n            }).finally(() => { })\n        },\n\n        async setDefaultValues ({ state, commit, dispatch }, scripData) {\n        \n            // minlot for quantity\n            if ((state.currentOrder[\"Instname\"] == \"FUTCOM\" || state.currentOrder[\"InstName\"] == \"FUTCOM\" || state.currentOrder[\"InstName\"] == \"OPTFUT\" || state.currentOrder[\"Instrument\"] == \"FUTCOM\" || state.currentOrder[\"Instname\"] == \"OPTFUT\" || state.currentOrder[\"Instrument\"] == \"OPTFUT\") || ((state.currentOrder[\"Instrument\"] == \"FUTIDX\" || state.currentOrder[\"Instname\"] == \"FUTIDX\" || state.currentOrder[\"InstName\"] == \"FUTIDX\") && state.currentExchange == \"MCX\")) {\n                scripData.BodLotQty ? state.minlot = parseFloat(scripData.BodLotQty) / parseFloat(scripData.BodLotQty) : state.minlot = 0\n            } else {\n                scripData.BodLotQty ? state.minlot = parseFloat(scripData.BodLotQty) : state.minlot = 0\n            }\n\n            // ltp for Price\n            checkNullNan(scripData.LTP) ? state.ltp = scripData.LTP : state.ltp = '0.00'\n            state.currentExchange == \"CDS\" ? parseFloat(state.ltp).toFixed(4) : parseFloat(state.ltp).toFixed(2)\n\n            scripData ? commit('setTickPrice', scripData) : ''\n            commit('setCurrentPrice', state.ltp)\n            commit('setCurrentTrgPrice', state.ltp)\n            commit(\"setWindowLoading\", false)\n            commit(\"valiDateQty\" , \"\")\n            if (state.modifyOrder) {\n                commit('setCurrentPrice', state.currentOrder.Prc == 0 ? state.ltp : checkNullNan(state.currentOrder.Prc) ? state.currentOrder.Prc : '0.00')\n                commit('setCurrentTrgPrice', checkNullNan(state.currentOrder.Trgprc) ? parseFloat(state.currentOrder.Trgprc) != 0 ? state.currentOrder.Trgprc : state.ltp : '0.00')\n                commit('setDisclosedQty', checkNullNan(state.currentOrder.Dscqty) ? state.currentOrder.Dscqty : 0)\n            }\n            setQtyFocus()\n            // !state.marginLoader && !state.nseBseType ? dispatch('getMarginAvailable', 'setDefaultValues') : ''\n        },\n\n        setInitialValues ({ state, commit, dispatch }, payload) {\n\n            commit('setOrderData', payload)\n            // dispatch('common/setOrderTypeCommon' , payload, {root: true})\n            // dispatch('common/setProdTypeCommon' , payload, {root: true})\n        },\n\n        setOrderPreference ({ state, commit }, payload) {\n            \n            // market watch orderWindow preference set via localStoraged\n            if (localStorage.getItem(\"orderPreference\") && (payload.page == \"mkWatch\" || payload.page == \"orders\" && !state.modifyOrder)) {\n                var preference = JSON.parse(localStorage.getItem(\"orderPreference\"));\n                var prodType = (state.currentExchange != \"BSE\" || state.currentExchange != \"NSE\") && preference[\"product\"] == 'NRML' ? 'NRML' : preference[\"product\"];\n\n                // var orderTab = preference[\"variety\"] == 'regular' ? 0 : preference[\"variety\"] == 'cover' ? 1 : preference[\"variety\"] == 'bracket' ? 2 : preference[\"variety\"] == 'amo' ? 3 : ''\n                preference[\"variety\"] == 'regular' ? preference[\"variety\"] = 'Regular' : preference[\"variety\"] == 'cover' ? preference['variety'] = 'Cover' : preference[\"variety\"] == 'bracket' ? preference[\"variety\"] = 'Bracket' : preference[\"variety\"] == 'amo' ? preference[\"variety\"] = 'AMO' : ''\n                var orderTab = state.orderTypeList.indexOf(preference[\"variety\"])\n                var priceType = preference[\"orderType\"];\n                var validity = preference[\"validity\"];\n                commit(\"setOrderTab\", orderTab)\n                commit('setProdType', prodType)\n                commit('setPriceType', priceType)\n                commit('setValidityType', validity)\n            } else if (payload.page == \"holdings\") {\n                commit(\"setOrderTab\", 0)\n                commit('setProdType', 'CNC')\n                commit('setPriceType', 'MKT')\n                commit('setValidityType', 'DAY')\n            } else if (payload.page == \"positions\") {\n                commit(\"setOrderTab\", 0)\n                commit('setProdType', payload.data.Pcode)\n                commit('setPriceType', 'MKT')\n                commit('setValidityType', 'DAY')\n            }\n        },\n\n        setCurrentLtp ({ state }, payload) {\n            state.currentLtp = state.currentExchange == 'CDS' || state.currentExchange == 'BCD' ? parseFloat(payload).toFixed(4) : parseFloat(payload).toFixed(2)\n        },\n\n        // check margin availble \n        async getMarginAvailable ({ state, commit, dispatch, rootGetters }, payload) {\n            commit('setMarginLoader', true)\n            let json = {\n                \"userId\": rootGetters['authtication/getUserId'],\n        \n                // \"exch\": this.currentPage == 'basket' ? this.currentOrder.exchange : this.currentExchange,\n               //  \"exchSeg\": this.currentPage == 'basket' ? this.currentOrder.exchange : this.currentExchange,\n                // \"symbol\": this.currentPage == 'basket' ? this.currentOrder.token : this.nseBseType ? this.currentExchange == 'NSE' ? this.nsePriceRangeData[0].token : this.bsePriceRangeData[0].token : this.currentPage == 'positions' ? this.currentOrder.Token : this.currentPage == 'holdings' ? this.currentExchange == \"NSE\" ? this.currentOrder.Token1 : this.currentOrder.Token2 : this.currentOrder.token,\n                // \"pCode\": this.currentPage == 'basket' ? this.currentOrder.product : this.prodType,\n                // \"price\": this.currentPage == 'basket' ? this.currentOrder.price : this.price.toString(),\n                // \"qty\": this.currentPage == 'basket' ? parseInt(this.currentOrder.quantity) : parseInt(this.quantity),\n                // \"transtype\": this.currentPage == 'basket' ? this.currentOrder.transaction_type : this.orderType,\n                // \"prctyp\": this.currentPage == 'basket' ? this.currentOrder.order_type : this.priceType,\n                // \"trigPrice\": this.currentPage == 'basket' ? this.currentOrder.trigger_price : this.triggerPrice,\n                // \"target\": this.currentPage == 'basket' ? this.currentOrder.target_price : this.targetPrice,\n                // \"stopLoss\": this.currentPage == 'basket' ? this.currentOrder.stoploss : this.stopLossPrice,\n                // \"trailing_stop_loss\": this.currentPage == 'basket' ? this.currentOrder.trailing_stoploss : this.trailStopLossPrice\n        \n                \"exch\": state.currentExchange,\n                \"exchSeg\": state.currentExchange,\n                \"symbol\": state.currentToken,\n                \"pCode\": state.prodType ? state.prodType : \"MIS\",\n                \"price\":  state.price.toString(),\n                \"qty\": parseInt(state.quantity),\n                \"transtype\": state.orderType,\n                \"prctyp\": state.priceType ? state.priceType : \"L\",\n                \"trigPrice\": state.triggerPrice,\n                \"target\": state.targetPrice,\n                \"stopLoss\": state.stopLossPrice,\n                \"trailing_stop_loss\": state.trailStopLossPrice,\n                \"complexty\": state.modifyOrder ? state.currentOrder.ordergenerationtype  : state.orderTypeList[state.orderTab],\n              }\n            \n            await service.checkMargin(json).then(response => {\n                if (response.status == \"200\" && response.data.stat == 'Ok') {\n                    commit(\"setAvailableMargin\", response.data['Order Margin'])\n                }else if(response.data.stat != 'Ok' && response.data.emsg == \"Session Expired\"){\n                    errorHandling.sessionExpire()\n                }else{\n                    commit(\"setAvailableMargin\", 'NA')\n                }\n            }, (err) => {\n                errorHandling.errLog(err)\n            }).finally(() => { commit('setMarginLoader', false) })\n        }\n    },\n\n    getters: {\n        getPriceType (state) {\n            return state.priceType\n        },\n        getProdType (state) {\n            return state.prodType\n        },\n        getOrderTab (state) {\n            return state.orderTab\n        },\n        getValidityType (state) {\n            return state.validityType\n        },\n        getTriggerPrice (state) {\n            return state.triggerPrice\n        },\n        getCurrentLtp: state => {\n            return state.currentLtp\n        },\n        getCurrentToken: state => {\n            return state.currentToken\n        },\n        getAvailableMargin: state => {\n            return state.availableMargin\n        }\n    }\n}\n\nexport default orderWindow"],"mappings":";;;;;;;;;;;;;;;;;;;;AACA,OAAOA,OAAP,MAAoB,gBAApB;AACA,OAAOC,aAAP,MAA0B,kBAA1B;AACA,OAAOC,MAAP,MAAmB,UAAnB;;AACA,SAASC,YAAT,CAAuBC,KAAvB,EAA8B;EAC1B,OAAOA,KAAK,IAAI,CAAC,CAACA,KAAX,IAAoBA,KAAK,CAACC,QAAN,MAAoB,IAAxC,IAAgDD,KAAK,CAACC,QAAN,MAAoB,GAApE,IAA2E,CAACC,KAAK,CAACF,KAAD,CAAjF,GAA2F,IAA3F,GAAkG,KAAzG;AACH;;AAED,SAASG,WAAT,GAAwB;EACpB,IAAIC,WAAW,GAAGC,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAlB;EACAF,WAAW,IAAI,IAAf,GAAsBA,WAAW,CAACG,KAAZ,EAAtB,GAA4C,EAA5C;AACH;;AAED,IAAMC,WAAW,GAAG;EAChBC,UAAU,EAAE,IADI;EAEhBC,KAAK;IACD;IACAC,aAAa,EAAE,CAAC,SAAD,EAAY,OAAZ,EAAqB,SAArB,EAAgC,KAAhC,CAFd;IAGDC,aAAa,EAAE,CAAC,KAAD,EAAQ,KAAR,CAHd;IAIDC,iBAAiB,EAAE,CAAC,GAAD,EAAM,IAAN,CAJlB;IAKDC,eAAe,EAAE,CAAC,GAAD,EAAM,KAAN,CALhB;IAMDC,QAAQ,EAAE,IANT;IAODC,SAAS,EAAE,IAPV;IAQDC,QAAQ,EAAE,IART;IASDC,YAAY,EAAE,KATb;IAWDC,eAAe,EAAE,KAXhB;IAYDC,SAAS,EAAE,IAZV;IAaDC,SAAS,EAAE,KAbV;IAcD;IACAC,WAAW,EAAE,KAfZ;IAgBDC,YAAY,EAAE,EAhBb;IAiBDC,iBAAiB,EAAE,EAjBlB;IAkBDC,kBAAkB,EAAE,EAlBnB;IAmBDC,eAAe,EAAE,EAnBhB;IAoBDC,iBAAiB,EAAE,EApBlB;IAqBDC,YAAY,EAAE,EArBb;IAuBD;IACAC,MAAM,EAAE,EAxBP;IAyBDC,GAAG,EAAE,EAzBJ;IA0BDC,UAAU,EAAE,IA1BX;IA2BDC,YAAY,EAAE,EA3Bb;IA4BDC,SAAS,EAAE,EA5BV;IA6BDC,iBAAiB,EAAE,CA7BlB;IA8BDC,QAAQ,EAAE,EA9BT;IA+BDC,KAAK,EAAE,EA/BN;IAiCD;IACAC,OAAO,EAAEC,OAlCR;IAmCDC,UAAU,EAAED,OAnCX;IAoCDE,cAAc,EAAEF,OApCf;IAsCD;IACAG,iBAAiB,EAAE,EAvClB;IAwCDC,iBAAiB,EAAE,EAxClB;IAyCDC,UAAU,EAAE,EAzCX;IA0CDC,UAAU,EAAE,EA1CX;IA2CDC,UAAU,EAAE,KA3CX;IA4CDC,WAAW,EAAE,KA5CZ;IA8CD;IACAC,WAAW,EAAE;EA/CZ,gDAgDkB,EAhDlB,oCAiDM,IAjDN,sCAoDQ,KApDR,4CAqDc,KArDd,4CAwDc,CAAC,GAAD,EAAM,KAAN,EAAa,IAAb,EAAmB,MAAnB,CAxDd,gDAyDkB,CAAC,GAAD,EAAM,KAAN,EAAa,IAAb,CAzDlB,6CA0De,EA1Df,6CA2De,CAAC,KAAD,EAAQ,KAAR,CA3Df,8CA4DgB,CAAC,KAAD,EAAQ,MAAR,CA5DhB,+CA6DiB,EA7DjB,wCAgEU,EAhEV,6CAiEe,EAjEf,6CAoEe,MApEf,6CAqEe,MArEf,8CAsEgB,MAtEhB,2CAuEa,KAvEb,UAFW;EA2EhBC,SAAS,EAAE;IACPC,YADO,wBACOvC,KADP,EACcwC,OADd,EACuB;MAC1BxC,KAAK,CAACU,SAAN,GAAkB8B,OAAlB;IACH,CAHM;IAINC,cAJM,0BAIUzC,KAJV,EAIiBwC,OAJjB,EAI0B;MAC7BxC,KAAK,CAACS,eAAN,GAAwB+B,OAAxB;MACAxC,KAAK,CAACoC,WAAN,GAAoB,KAApB;IACH,CAPM;IASNM,oBATM,gCASgB1C,KAThB,EASuBwC,OATvB,EASgC;MACnCxC,KAAK,CAACS,eAAN,GAAwB+B,OAAxB;MACAxC,KAAK,CAACoC,WAAN,GAAoB,IAApB;IACH,CAZM;IAcPO,YAdO,wBAcO3C,KAdP,EAccwC,OAdd,EAcuB;MAC1BxC,KAAK,CAACW,SAAN,GAAkB6B,OAAlB;IACH,CAhBM;IAkBPI,cAlBO,0BAkBS5C,KAlBT,EAkBgBwC,OAlBhB,EAkByB;MAC5BxC,KAAK,CAACY,WAAN,GAAoB4B,OAApB;IACH,CApBM;IAsBPK,eAtBO,2BAsBU7C,KAtBV,EAsBiBwC,OAtBjB,EAsB0B;MAC7BxC,KAAK,CAACa,YAAN,GAAqB2B,OAAO,CAACM,IAA7B;MACAC,OAAO,CAACC,GAAR,CAAYhD,KAAK,CAACa,YAAlB;;MACA,IAAI2B,OAAO,CAACS,IAAR,IAAgB,UAApB,EAAgC;QAC5BjD,KAAK,CAACgB,eAAN,GAAwBwB,OAAO,CAACM,IAAR,CAAaI,QAAb,IAAyBV,OAAO,CAACM,IAAR,CAAaK,OAAb,IAAwB,GAAjD,GAAuDX,OAAO,CAACM,IAAR,CAAaI,QAApE,GAA+EV,OAAO,CAACM,IAAR,CAAaM,QAApH;QACApD,KAAK,CAACkB,YAAN,GAAqBlB,KAAK,CAACgB,eAAN,IAAyB,KAAzB,GAAiCwB,OAAO,CAACM,IAAR,CAAaO,MAA9C,GAAuDb,OAAO,CAACM,IAAR,CAAaQ,MAAzF;MACH,CAHD,MAGO,IAAId,OAAO,CAACS,IAAR,IAAgB,WAApB,EAAiC;QACpCjD,KAAK,CAACgB,eAAN,GAAwBwB,OAAO,CAACe,IAAhC;QACAvD,KAAK,CAACkB,YAAN,GAAqBsB,OAAO,CAACM,IAAR,CAAaU,QAAb,GAAwBhB,OAAO,CAACM,IAAR,CAAaU,QAArC,GAAgDhB,OAAO,CAACM,IAAR,CAAaW,KAAlF;MACH,CAHM,MAGA;QACH;QACAzD,KAAK,CAACgB,eAAN,GAAwBwB,OAAO,CAACS,IAAR,IAAgB,SAAhB,GAA4BT,OAAO,CAACM,IAAR,CAAaS,IAAzC,GAAgDf,OAAO,CAACM,IAAR,CAAaY,QAArF;QACA1D,KAAK,CAACkB,YAAN,GAAqBsB,OAAO,CAACM,IAAR,CAAaW,KAAb,GAAqBjB,OAAO,CAACM,IAAR,CAAaW,KAAlC,GAA0CjB,OAAO,CAACM,IAAR,CAAaa,KAA5E;MACH;;MACD,IAAInB,OAAO,CAACS,IAAR,IAAgB,SAApB,EAA+B;QAC3BjD,KAAK,CAACiB,iBAAN,GAA0BjB,KAAK,CAACa,YAAN,CAAmB+C,UAA7C;MACH,CAFD,MAEO,IAAIpB,OAAO,CAACS,IAAR,IAAgB,QAAhB,IAA4BT,OAAO,CAACS,IAAR,IAAgB,WAAhD,EAA6D;QAChEjD,KAAK,CAACiB,iBAAN,GAA0BjB,KAAK,CAACa,YAAN,CAAmBgD,QAA7C;MACH;;MACD7D,KAAK,CAACiB,iBAAN,IAA2B,QAA3B,IAAuCjB,KAAK,CAACiB,iBAAN,IAA2B,QAAlE,GAA6EjB,KAAK,CAAC8D,KAAN,GAAc,KAA3F,GAAmG9D,KAAK,CAAC8D,KAAN,GAAc,IAAjH;MAEA9D,KAAK,CAACqC,WAAN,GAAoBG,OAAO,CAACS,IAA5B;;MACA,IAAIT,OAAO,CAACS,IAAR,IAAgB,UAApB,EAAgC;QAC5BjD,KAAK,CAACiB,iBAAN,GAA0BjB,KAAK,CAACgB,eAAN,IAAyB,KAAzB,GAAiChB,KAAK,CAACa,YAAN,CAAmBsC,OAApD,GAA8DnD,KAAK,CAACa,YAAN,CAAmBkD,OAA3G;MACH,CAFD,MAEO;QACH/D,KAAK,CAACiB,iBAAN,GAA0BuB,OAAO,CAACM,IAAR,CAAakB,eAAvC;MACH;IAEJ,CAlDM;IAoDDC,oBApDC,gCAoDqBjE,KApDrB,EAoD4BwC,OApD5B,EAoDqC;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;gBACxCxC,KAAK,CAAC+B,iBAAN,GAA0B,EAA1B;gBACA/B,KAAK,CAACgC,iBAAN,GAA0B,EAA1B;gBACAQ,OAAO,CAAC0B,MAAR,IAAkB,CAAlB,IAAuB1B,OAAO,CAAC0B,MAAR,IAAkBC,SAAzC,GAAqDnE,KAAK,CAACmC,UAAN,GAAmB,KAAxE,GAAgFnC,KAAK,CAACmC,UAAN,GAAmB,IAAnG,CAHwC,CAIxC;;gBACA,IAAIK,OAAO,CAAC0B,MAAR,IAAkB,CAAtB,EAAyB;kBACrB1B,OAAO,CAAC4B,OAAR,CAAgB,UAAAC,EAAE,EAAI;oBAClBA,EAAE,CAACC,KAAH,IAAYtE,KAAK,CAACgB,eAAlB,GAAoChB,KAAK,CAACc,iBAAN,GAA0BuD,EAA9D,GAAmE,EAAnE;;oBACA,IAAIA,EAAE,CAACC,KAAH,IAAY,KAAhB,EAAuB;sBACnBtE,KAAK,CAAC+B,iBAAN,CAAwBwC,IAAxB,CAA6BF,EAA7B;oBACH,CAFD,MAEO,IAAIA,EAAE,CAACC,KAAH,IAAY,KAAhB,EAAuB;sBAC1BtE,KAAK,CAACgC,iBAAN,CAAwBuC,IAAxB,CAA6BF,EAA7B;oBACH;kBACJ,CAPD;kBASArE,KAAK,CAACiC,UAAN,GAAmBjC,KAAK,CAACc,iBAAN,CAAwB0D,iBAAxB,GAA4CnF,YAAY,CAACW,KAAK,CAACc,iBAAN,CAAwB0D,iBAAxB,CAA0CjF,QAA1C,GAAqDkF,OAArD,CAA6D,IAA7D,EAAmE,EAAnE,CAAD,CAAZ,GAAuFC,UAAU,CAAC1E,KAAK,CAACc,iBAAN,CAAwB0D,iBAAxB,CAA0CjF,QAA1C,GAAqDkF,OAArD,CAA6D,IAA7D,EAAmE,EAAnE,CAAD,CAAjG,GAA4K,MAAxN,GAAiO,MAApP;kBACAzE,KAAK,CAACkC,UAAN,GAAmBlC,KAAK,CAACc,iBAAN,CAAwB6D,kBAAxB,GAA6CtF,YAAY,CAACW,KAAK,CAACc,iBAAN,CAAwB6D,kBAAxB,CAA2CpF,QAA3C,GAAsDkF,OAAtD,CAA8D,IAA9D,EAAoE,EAApE,CAAD,CAAZ,GAAwFC,UAAU,CAAC1E,KAAK,CAACc,iBAAN,CAAwB6D,kBAAxB,CAA2CpF,QAA3C,GAAsDkF,OAAtD,CAA8D,IAA9D,EAAoE,EAApE,CAAD,CAAlG,GAA8K,MAA3N,GAAoO,MAAvP,CAXqB,CAarB;kBACA;kBACA;kBACA;kBACA;kBACA;gBACH,CAnBD,MAmBO;kBAEHzE,KAAK,CAACc,iBAAN,GAA0B0B,OAA1B;kBACAxC,KAAK,CAACiC,UAAN,GAAmB5C,YAAY,CAACW,KAAK,CAACc,iBAAN,CAAwB0D,iBAAxB,CAA0CjF,QAA1C,GAAqDkF,OAArD,CAA6D,IAA7D,EAAmE,EAAnE,CAAD,CAAZ,GAAuFC,UAAU,CAAC1E,KAAK,CAACc,iBAAN,CAAwB0D,iBAAxB,CAA0CjF,QAA1C,GAAqDkF,OAArD,CAA6D,IAA7D,EAAmE,EAAnE,CAAD,CAAjG,GAA4K,MAA/L;kBACAzE,KAAK,CAACkC,UAAN,GAAmB7C,YAAY,CAACW,KAAK,CAACc,iBAAN,CAAwB6D,kBAAxB,CAA2CpF,QAA3C,GAAsDkF,OAAtD,CAA8D,IAA9D,EAAoE,EAApE,CAAD,CAAZ,GAAwFC,UAAU,CAAC1E,KAAK,CAACc,iBAAN,CAAwB6D,kBAAxB,CAA2CpF,QAA3C,GAAsDkF,OAAtD,CAA8D,IAA9D,EAAoE,EAApE,CAAD,CAAlG,GAA8K,MAAjM;;kBACA,KAAI,CAACG,QAAL,CAAc,2BAAd,EAA2CvF,YAAY,CAACW,KAAK,CAACc,iBAAN,CAAwB+D,GAAzB,CAAZ,GAA4C7E,KAAK,CAACc,iBAAN,CAAwB+D,GAApE,GAA0ExF,YAAY,CAACW,KAAK,CAACe,kBAAN,CAAyB+D,GAA1B,CAAZ,GAA6C9E,KAAK,CAACe,kBAAN,CAAyB+D,GAAtE,GAA4E,MAAjM;gBAEH,CA/BuC,CAgCxC;;;gBAhCwC,MAkCpC9E,KAAK,CAACgB,eAAN,IAAyB,KAAzB,IAAkCwB,OAAO,CAAC0B,MAAR,GAAiB,CAlCf;kBAAA;kBAAA;gBAAA;;gBAAA;gBAAA,OAmC9B,KAAI,CAACa,MAAL,CAAY,wBAAZ,EAAsC,KAAtC,CAnC8B;;cAAA;gBAAA;gBAAA;;cAAA;gBAAA,MAoC7B/E,KAAK,CAACgB,eAAN,IAAyB,KAAzB,IAAkCwB,OAAO,CAAC0B,MAAR,GAAiB,CApCtB;kBAAA;kBAAA;gBAAA;;gBAAA;gBAAA,OAqC9B,KAAI,CAACa,MAAL,CAAY,wBAAZ,EAAsC,KAAtC,CArC8B;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAuC3C,CA3FM;IA6FDC,qBA7FC,iCA6FsBhF,KA7FtB,EA6F6BwC,OA7F7B,EA6FsC;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;gBACzCxC,KAAK,CAACe,kBAAN,GAA2ByB,OAA3B;;gBACA,MAAI,CAACoC,QAAL,CAAc,8BAAd,EAA8C5E,KAAK,CAACe,kBAApD;;gBACA,MAAI,CAAC6D,QAAL,CAAc,2BAAd,EAA2CvF,YAAY,CAACW,KAAK,CAACe,kBAAN,CAAyB+D,GAA1B,CAAZ,GAA6C9E,KAAK,CAACe,kBAAN,CAAyB+D,GAAtE,GAA4E,MAAvH;;cAHyC;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAI5C,CAjGM;IAmGPG,iBAnGO,6BAmGYjF,KAnGZ,EAmGmBwC,OAnGnB,EAmG4B;MAC/BxC,KAAK,CAACkF,cAAN,GAAuB1C,OAAvB,EACI2C,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAmCC,IAAI,CAACC,SAAL,CAAe9C,OAAf,CAAnC,CADJ;IAEH,CAtGM;IAwGP+C,aAxGO,yBAwGQvF,KAxGR,EAwGewF,GAxGf,EAwGoB;MACvBxF,KAAK,CAACyB,QAAN,GAAiB+D,GAAjB;IACH,CA1GM;IA4GPC,eA5GO,2BA4GUzF,KA5GV,EA4GiB0B,KA5GjB,EA4GwB;MAC3B1B,KAAK,CAAC0B,KAAN,GAAcA,KAAd;IACH,CA9GM;IAgHPgE,kBAhHO,8BAgHa1F,KAhHb,EAgHoB2F,QAhHpB,EAgH8B;MACjC3F,KAAK,CAACsB,YAAN,GAAqBqE,QAArB;IACH,CAlHM;IAoHP;IACAC,UArHO,sBAqHK5F,KArHL,EAqHY6F,QArHZ,EAqHsB;MACzB,IAAIA,QAAQ,IAAI,KAAZ,IAAqB,CAAC7F,KAAK,CAACoC,WAAhC,EAA6C;QACzC/C,YAAY,CAACW,KAAK,CAACe,kBAAN,CAAyB+D,GAA1B,CAAZ;QACA9E,KAAK,CAACsB,YAAN,GAAqBtB,KAAK,CAACoB,GAAN,GAAYpB,KAAK,CAAC0B,KAAN,GAAcrC,YAAY,CAACW,KAAK,CAAC+B,iBAAN,CAAwB,CAAxB,EAA2B8C,GAA5B,CAAZ,GAA+C7E,KAAK,CAAC+B,iBAAN,CAAwB,CAAxB,EAA2B8C,GAA1E,GAAgFxF,YAAY,CAACW,KAAK,CAACe,kBAAN,CAAyB+D,GAA1B,CAAZ,GAA6C9E,KAAK,CAACe,kBAAN,CAAyB+D,GAAtE,GAA4E,MAA3M;QACAzF,YAAY,CAACW,KAAK,CAAC+B,iBAAN,CAAwB,CAAxB,EAA2ByC,iBAA3B,CAA6CjF,QAA7C,GAAwDkF,OAAxD,CAAgE,IAAhE,EAAsE,EAAtE,CAAD,CAAZ,GAA0FzE,KAAK,CAACiC,UAAN,GAAmByC,UAAU,CAAC1E,KAAK,CAAC+B,iBAAN,CAAwB,CAAxB,EAA2ByC,iBAA3B,CAA6CjF,QAA7C,GAAwDkF,OAAxD,CAAgE,IAAhE,EAAsE,EAAtE,CAAD,CAAvH,GAAqM,MAArM;QACApF,YAAY,CAACW,KAAK,CAAC+B,iBAAN,CAAwB,CAAxB,EAA2B4C,kBAA3B,CAA8CpF,QAA9C,GAAyDkF,OAAzD,CAAiE,IAAjE,EAAuE,EAAvE,CAAD,CAAZ,GAA2FzE,KAAK,CAACkC,UAAN,GAAmBwC,UAAU,CAAC1E,KAAK,CAAC+B,iBAAN,CAAwB,CAAxB,EAA2B4C,kBAA3B,CAA8CpF,QAA9C,GAAyDkF,OAAzD,CAAiE,IAAjE,EAAuE,EAAvE,CAAD,CAAxH,GAAuM,MAAvM;QACAzE,KAAK,CAAC+B,iBAAN,CAAwB,CAAxB,EAA2B+D,OAA3B,GAAqC9F,KAAK,CAACmB,MAAN,GAAenB,KAAK,CAAC+B,iBAAN,CAAwB,CAAxB,EAA2B+D,OAA/E,GAAyF9F,KAAK,CAACmB,MAAN,GAAe,CAAxG;QACAnB,KAAK,CAACe,kBAAN,CAAyB,kBAAzB,IAA+Cf,KAAK,CAAC+B,iBAAN,CAAwB,CAAxB,EAA2BgE,QAA1E;QACA,KAAKhB,MAAL,CAAY,0BAAZ,EAAwC/E,KAAK,CAACe,kBAA9C;QACA,KAAK6D,QAAL,CAAc,2BAAd,EAA2CvF,YAAY,CAACW,KAAK,CAAC+B,iBAAN,CAAwB,CAAxB,EAA2B8C,GAA5B,CAAZ,GAA+C7E,KAAK,CAAC+B,iBAAN,CAAwB,CAAxB,EAA2B8C,GAA1E,GAAgFxF,YAAY,CAACW,KAAK,CAACe,kBAAN,CAAyB+D,GAA1B,CAAZ,GAA6C9E,KAAK,CAACe,kBAAN,CAAyB+D,GAAtE,GAA4E,MAAvM;QACA9E,KAAK,CAACkB,YAAN,GAAqBlB,KAAK,CAAC+B,iBAAN,CAAwB,CAAxB,EAA2B,OAA3B,CAArB;MACH,CAVD,MAUO,IAAI,CAAC/B,KAAK,CAACoC,WAAX,EAAwB;QAC3BpC,KAAK,CAACsB,YAAN,GAAqBtB,KAAK,CAACoB,GAAN,GAAYpB,KAAK,CAAC0B,KAAN,GAAcrC,YAAY,CAACW,KAAK,CAACgC,iBAAN,CAAwB,CAAxB,EAA2B6C,GAA5B,CAAZ,GAA+C7E,KAAK,CAACgC,iBAAN,CAAwB,CAAxB,EAA2B6C,GAA1E,GAAgFxF,YAAY,CAACW,KAAK,CAACe,kBAAN,CAAyB+D,GAA1B,CAAZ,GAA6C9E,KAAK,CAACe,kBAAN,CAAyB+D,GAAtE,GAA4E,MAA3M;QACAzF,YAAY,CAACW,KAAK,CAACgC,iBAAN,CAAwB,CAAxB,EAA2BwC,iBAA3B,CAA6CjF,QAA7C,GAAwDkF,OAAxD,CAAgE,IAAhE,EAAsE,EAAtE,CAAD,CAAZ,GAA0FzE,KAAK,CAACiC,UAAN,GAAmByC,UAAU,CAAC1E,KAAK,CAACgC,iBAAN,CAAwB,CAAxB,EAA2BwC,iBAA3B,CAA6CjF,QAA7C,GAAwDkF,OAAxD,CAAgE,IAAhE,EAAsE,EAAtE,CAAD,CAAvH,GAAqM,MAArM;QACApF,YAAY,CAACW,KAAK,CAACgC,iBAAN,CAAwB,CAAxB,EAA2B2C,kBAA3B,CAA8CpF,QAA9C,GAAyDkF,OAAzD,CAAiE,IAAjE,EAAuE,EAAvE,CAAD,CAAZ,GAA2FzE,KAAK,CAACkC,UAAN,GAAmBwC,UAAU,CAAC1E,KAAK,CAACgC,iBAAN,CAAwB,CAAxB,EAA2B2C,kBAA3B,CAA8CpF,QAA9C,GAAyDkF,OAAzD,CAAiE,IAAjE,EAAuE,EAAvE,CAAD,CAAxH,GAAuM,MAAvM;QACAzE,KAAK,CAACgC,iBAAN,CAAwB,CAAxB,EAA2B8D,OAA3B,GAAqC9F,KAAK,CAACmB,MAAN,GAAenB,KAAK,CAACgC,iBAAN,CAAwB,CAAxB,EAA2B8D,OAA/E,GAAyF9F,KAAK,CAACmB,MAAN,GAAe,CAAxG;QACAnB,KAAK,CAACe,kBAAN,CAAyB,kBAAzB,IAA+Cf,KAAK,CAACgC,iBAAN,CAAwB,CAAxB,EAA2B+D,QAA1E;QACA,KAAKhB,MAAL,CAAY,0BAAZ,EAAwC/E,KAAK,CAACe,kBAA9C;QACA,KAAK6D,QAAL,CAAc,2BAAd,EAA2CvF,YAAY,CAACW,KAAK,CAACgC,iBAAN,CAAwB,CAAxB,EAA2B6C,GAA5B,CAAZ,GAA+C7E,KAAK,CAACgC,iBAAN,CAAwB,CAAxB,EAA2B6C,GAA1E,GAAgFxF,YAAY,CAACW,KAAK,CAACe,kBAAN,CAAyB+D,GAA1B,CAAZ,GAA6C9E,KAAK,CAACe,kBAAN,CAAyB+D,GAAtE,GAA4E,MAAvM;QACA9E,KAAK,CAACkB,YAAN,GAAqBlB,KAAK,CAACgC,iBAAN,CAAwB,CAAxB,EAA2B,OAA3B,CAArB;MACH;;MACD,KAAK+C,MAAL,CAAY,yBAAZ,EAAwC,EAAxC;MACA,KAAKA,MAAL,CAAY,+BAAZ,EAA6C1F,YAAY,CAACW,KAAK,CAAC+B,iBAAN,CAAwB,CAAxB,EAA2B8C,GAA5B,CAAZ,GAA+C7E,KAAK,CAAC+B,iBAAN,CAAwB,CAAxB,EAA2B8C,GAA1E,GAAgFxF,YAAY,CAACW,KAAK,CAACe,kBAAN,CAAyB+D,GAA1B,CAAZ,GAA6C9E,KAAK,CAACe,kBAAN,CAAyB+D,GAAtE,GAA4E,MAAzM;MACA,KAAKC,MAAL,CAAY,+BAAZ,EAA6C1F,YAAY,CAACW,KAAK,CAACgC,iBAAN,CAAwB,CAAxB,EAA2B6C,GAA5B,CAAZ,GAA+C7E,KAAK,CAACgC,iBAAN,CAAwB,CAAxB,EAA2B6C,GAA1E,GAAgFxF,YAAY,CAACW,KAAK,CAACe,kBAAN,CAAyB+D,GAA1B,CAAZ,GAA6C9E,KAAK,CAACe,kBAAN,CAAyB+D,GAAtE,GAA4E,MAAzM;MACA9E,KAAK,CAACgB,eAAN,GAAwB6E,QAAxB;MACA,IAAIG,QAAQ,GAAG;QACXlD,IAAI,EAAE,EADK;QAEXmD,KAAK,EAAE,aAFI;QAGXC,SAAS,EAAEL,QAAQ,GAAG,GAAX,GAAiB7F,KAAK,CAACkB,YAAvB,GAAsC;MAHtC,CAAf,CAzByB,CA8BzB;MACJ;IACC,CArJM;IAuJPiF,YAvJO,wBAuJOnG,KAvJP,EAuJcwC,OAvJd,EAuJuB;MAC1BxC,KAAK,CAACM,SAAN,GAAkBkC,OAAlB;IACH,CAzJM;IA2JP4D,WA3JO,uBA2JMpG,KA3JN,EA2JawC,OA3Jb,EA2JsB;MACzBxC,KAAK,CAACO,QAAN,GAAiBiC,OAAjB;IACH,CA7JM;IA+JP6D,WA/JO,uBA+JMrG,KA/JN,EA+JawC,OA/Jb,EA+JsB;MACzBxC,KAAK,CAACK,QAAN,GAAiBmC,OAAjB;IACH,CAjKM;IAmKP8D,eAnKO,2BAmKUtG,KAnKV,EAmKiBwC,OAnKjB,EAmK0B;MAC7BxC,KAAK,CAACQ,YAAN,GAAqBgC,OAArB;IACH,CArKM;IAuKP+D,gBAvKO,4BAuKWvG,KAvKX,EAuKkBwC,OAvKlB,EAuK2B;MAC9BxC,KAAK,CAACwG,aAAN,GAAsBhE,OAAtB;IACH,CAzKM;IA2KP;IACAiE,aA5KO,yBA4KQzG,KA5KR,EA4KewC,OA5Kf,EA4KwB;MAC3BxC,KAAK,CAAC0G,cAAN,GAAuBlE,OAAvB;IACH,CA9KM;IAgLPmE,eAhLO,2BAgLU3G,KAhLV,EAgLiBwC,OAhLjB,EAgL0B;MAC7BxC,KAAK,CAAC4G,gBAAN,GAAyBpE,OAAzB;IACH,CAlLM;IAoLPqE,QApLO,oBAoLG7G,KApLH,EAoLUwC,OApLV,EAoLmB;MACtBxC,KAAK,CAAC8D,KAAN,GAActB,OAAd;IACH,CAtLM;IAwLPsE,eAxLO,2BAwLU9G,KAxLV,EAwLiBwC,OAxLjB,EAwL0B;MAC7B,QAAQA,OAAR;QACI,KAAK,SAAL,CADJ,CACoB;;QAChB,KAAK,KAAL;UAAY;YACR,IAAIxC,KAAK,CAACM,SAAN,IAAmB,GAAvB,EAA4B;cACxBN,KAAK,CAAC2B,OAAN,GAAgB,IAAhB;cACA3B,KAAK,CAAC6B,UAAN,GAAmB,KAAnB;YACH,CAHD,MAGO,IAAI7B,KAAK,CAACM,SAAN,IAAmB,KAAvB,EAA8B;cACjCN,KAAK,CAAC2B,OAAN,GAAgB,KAAhB;cACA3B,KAAK,CAAC6B,UAAN,GAAmB,KAAnB;YACH,CAHM,MAGA,IAAI7B,KAAK,CAACM,SAAN,IAAmB,IAAvB,EAA6B;cAChCN,KAAK,CAAC2B,OAAN,GAAgB,IAAhB;cACA3B,KAAK,CAAC6B,UAAN,GAAmB,IAAnB;YACH,CAHM,MAGA,IAAI7B,KAAK,CAACM,SAAN,IAAmB,MAAvB,EAA+B;cAClCN,KAAK,CAAC2B,OAAN,GAAgB,KAAhB;cACA3B,KAAK,CAAC6B,UAAN,GAAmB,IAAnB;YACH;;YACD;UACH;;QACD,KAAK,OAAL;UAAc;YACV;YACA,IAAI7B,KAAK,CAACM,SAAN,IAAmB,GAAvB,EAA4B;cACxBN,KAAK,CAAC2B,OAAN,GAAgB,IAAhB;cACA3B,KAAK,CAAC6B,UAAN,GAAmB,IAAnB;YACH,CAHD,MAGO,IAAI7B,KAAK,CAACM,SAAN,IAAmB,KAAvB,EAA8B;cACjCN,KAAK,CAAC2B,OAAN,GAAgB,KAAhB;cACA3B,KAAK,CAAC6B,UAAN,GAAmB,IAAnB;YACH;;YACD;UACH;;QACD,KAAK,SAAL;UAAgB;YACZ;YACA,IAAI7B,KAAK,CAACM,SAAN,IAAmB,GAAvB,EAA4B;cACxBN,KAAK,CAAC2B,OAAN,GAAgB,IAAhB;cACA3B,KAAK,CAAC6B,UAAN,GAAmB,KAAnB;YACH,CAHD,MAGO,IAAI7B,KAAK,CAACM,SAAN,IAAmB,IAAvB,EAA6B;cAChCN,KAAK,CAAC2B,OAAN,GAAgB,IAAhB;cACA3B,KAAK,CAAC6B,UAAN,GAAmB,IAAnB;YACH;;YACD;UACH;MAvCL;;MAyCA,IAAI7B,KAAK,CAACgB,eAAN,IAAyB,KAAzB,IAAkChB,KAAK,CAACgB,eAAN,IAAyB,KAA/D,EAAsE;QAClE,KAAK+D,MAAL,CAAY,+BAAZ,EAA6C,KAA7C;MACH,CAFD,MAEO;QACH,KAAKA,MAAL,CAAY,+BAAZ,EAA6C,IAA7C;MACH;IACJ,CAvOM;IAyOPgC,YAzOO,wBAyOO/G,KAzOP,EAyOcwC,OAzOd,EAyOuB;MAC1BxC,KAAK,CAACgH,SAAN,GAAkBxE,OAAlB;IACH,CA3OM;IA6OPyE,iBA7OO,6BA6OYjH,KA7OZ,EA6OmBwC,OA7OnB,EA6O4B;MAC/BxC,KAAK,CAAC8B,cAAN,GAAuBU,OAAvB;IACH,CA/OM;IAiPP0E,YAjPO,wBAiPOlH,KAjPP,EAiPcwC,OAjPd,EAiPuB;MAC1B;MACA,IAAIA,OAAO,CAAC2E,gBAAZ,EAA8B;QAC1B,IAAIpB,QAAQ,GAAGrB,UAAU,CAAClC,OAAO,CAAC2E,gBAAT,CAAzB;MACH,CAFD,MAEO;QACH,IAAIpB,QAAQ,GAAGrB,UAAU,CAAClC,OAAO,CAAC4E,QAAT,CAAzB;MACH;;MACD,IAAIC,UAAU,GAAG7E,OAAO,CAAC8E,UAAzB;MACA,IAAIC,gBAAgB,GAAG/E,OAAO,CAACgF,gBAA/B;MACA,IAAIC,YAAY,GAAG1B,QAAQ,IAAIsB,UAAU,GAAGK,IAAI,CAACC,GAAL,CAAS,EAAT,EAAaJ,gBAAb,CAAjB,CAA3B;MACAlI,YAAY,CAACoI,YAAD,CAAZ,IAA8BA,YAAY,IAAI,CAA9C,GAAkDzH,KAAK,CAACuB,SAAN,GAAkBkG,YAApE,GAAmF,CAAnF;IACH,CA5PM;IA8PPG,iBA9PO,6BA8PY5H,KA9PZ,EA8PmBwC,OA9PnB,EA8P4B;MAC/BxC,KAAK,CAAC6H,cAAN,GAAuBrF,OAAvB;IACH,CAhQM;IAkQPsF,iBAlQO,6BAkQY9H,KAlQZ,EAkQmBwC,OAlQnB,EAkQ4B;MAC/BxC,KAAK,CAAC+H,cAAN,GAAuBvF,OAAvB;IACH,CApQM;IAsQPwF,gBAtQO,4BAsQWhI,KAtQX,EAsQkBwC,OAtQlB,EAsQ2B;MAC9BxC,KAAK,CAACE,aAAN,GAAsBsC,OAAtB;IACH,CAxQM;IA0QPyF,eA1QO,2BA0QUjI,KA1QV,EA0QiBwC,OA1QjB,EA0Q0B;MAC7BxC,KAAK,CAACwB,iBAAN,GAA0BgB,OAA1B;IACH,CA5QM;IA8QP0F,gBA9QO,4BA8QUlI,KA9QV,EA8QiBwC,OA9QjB,EA8QyB;MAC5BxC,KAAK,CAACC,aAAN,GAAsBuC,OAAtB;IACH,CAhRM;IAkRP;IACA2F,kBAnRO,8BAmRanI,KAnRb,EAmRoBwC,OAnRpB,EAmR6B;MAChCxC,KAAK,CAACoI,eAAN,GAAwB5F,OAAxB;IACH,CArRM;IAuRP;IACA6F,WAxRO,uBAwRKrI,KAxRL,EAwRYsI,UAxRZ,EAwRuB;MAC1B,IAAItI,KAAK,CAACqC,WAAN,IAAqB,UAAzB,EAAqC;QACjCrC,KAAK,CAACW,SAAN,CAAgB4H,WAAhB,MAAiC,KAAjC,GAAyC,KAAKxD,MAAL,CAAY,2BAAZ,EAAyC/E,KAAK,CAACmB,MAA/C,CAAzC,GAAkG,KAAK4D,MAAL,CAAY,2BAAZ,EAAyC/E,KAAK,CAACa,YAAN,CAAmB2H,WAA5D,CAAlG;MACH,CAFD,MAEM,IAAGxI,KAAK,CAACqC,WAAN,IAAqB,WAAxB,EAAoC;QACtC,IAAGoG,MAAM,CAACzI,KAAK,CAACa,YAAN,CAAmB6H,MAApB,CAAN,IAAqC,CAAxC,EAA0C;UACtC,KAAK3D,MAAL,CAAY,2BAAZ,EAAyC/E,KAAK,CAACmB,MAA/C;QACH,CAFD,MAEK;UACD,IAAGsH,MAAM,CAACzI,KAAK,CAACa,YAAN,CAAmB6H,MAApB,CAAN,GAAoC,CAApC,IAAyC1I,KAAK,CAACW,SAAN,CAAgB4H,WAAhB,MAAiC,KAA7E,EAAmF;YAC/E,KAAKxD,MAAL,CAAY,2BAAZ,EAAyC/E,KAAK,CAACmB,MAA/C;UACH,CAFD,MAEM,IAAGsH,MAAM,CAACzI,KAAK,CAACa,YAAN,CAAmB6H,MAApB,CAAN,GAAoC,CAApC,IAAyC1I,KAAK,CAACW,SAAN,CAAgB4H,WAAhB,MAAiC,MAA7E,EAAoF;YACtF,KAAKxD,MAAL,CAAY,2BAAZ,EAAyC2C,IAAI,CAACiB,GAAL,CAAS3I,KAAK,CAACa,YAAN,CAAmB6H,MAA5B,CAAzC;UACH,CAFK,MAEA,IAAGD,MAAM,CAACzI,KAAK,CAACa,YAAN,CAAmB6H,MAApB,CAAN,GAAoC,CAApC,IAAyC1I,KAAK,CAACW,SAAN,CAAgB4H,WAAhB,MAAiC,KAA7E,EAAmF;YACrF,KAAKxD,MAAL,CAAY,2BAAZ,EAAyC/E,KAAK,CAACmB,MAA/C;UACH,CAFK,MAEA,IAAGsH,MAAM,CAACzI,KAAK,CAACa,YAAN,CAAmB6H,MAApB,CAAN,GAAoC,CAApC,IAAyC1I,KAAK,CAACW,SAAN,CAAgB4H,WAAhB,MAAiC,MAA7E,EAAoF;YACtF,KAAKxD,MAAL,CAAY,2BAAZ,EAAyC2C,IAAI,CAACiB,GAAL,CAAS3I,KAAK,CAACa,YAAN,CAAmB6H,MAA5B,CAAzC;UACH;QACJ;MACJ,CAdK,MAcA;QACF,KAAK3D,MAAL,CAAY,2BAAZ,EAAyC/E,KAAK,CAACgH,SAAN,CAAgB/D,IAAhB,IAAwB,QAAxB,IAAoCjD,KAAK,CAACoC,WAA1C,IAAyDpC,KAAK,CAACgH,SAAN,CAAgB4B,IAAzE,GAAgF5I,KAAK,CAACgH,SAAN,CAAgBlE,IAAhB,CAAqB+F,GAArG,GAA2G7I,KAAK,CAACmB,MAA1J;MACH;IACJ,CA5SM;IA6SP2H,eA7SO,2BA6SS9I,KA7ST,EA6SgBwC,OA7ShB,EA6SwB;MAC3BxC,KAAK,CAAC+I,YAAN,GAAqBvG,OAArB;IACH;EA/SM,CA3EK;EA6XhBwG,OAAO,EAAE;IACL;IACMC,UAFD,4BAE6CzG,OAF7C,EAEsD;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAvCxC,KAAuC,QAAvCA,KAAuC,EAAhC+E,MAAgC,QAAhCA,MAAgC,EAAxBmE,WAAwB,QAAxBA,WAAwB;gBACvDlJ,KAAK,CAACmJ,OAAN,GAAgB,IAAhB;gBACIC,UAFmD,GAEtCpJ,KAAK,CAACqC,WAAN,IAAqB,SAArB,GAAiCrC,KAAK,CAACgB,eAAN,IAAyB,KAAzB,GAAiChB,KAAK,CAAC+B,iBAAN,CAAwB,CAAxB,EAA2BsH,aAA5D,GAA4ErJ,KAAK,CAACgB,eAAN,IAAyB,KAAzB,GAAiChB,KAAK,CAACgC,iBAAN,CAAwB,CAAxB,EAA2BqH,aAA5D,GAA4ErJ,KAAK,CAACa,YAAN,CAAmByI,MAA5M,GACXtJ,KAAK,CAACqC,WAAN,IAAqB,QAArB,GAAgCrC,KAAK,CAACgB,eAAN,IAAyB,KAAzB,GAAiChB,KAAK,CAAC+B,iBAAN,CAAwB,CAAxB,EAA2BsH,aAA5D,GAA4ErJ,KAAK,CAACgB,eAAN,IAAyB,KAAzB,GAAiChB,KAAK,CAACgC,iBAAN,CAAwB,CAAxB,EAA2BqH,aAA5D,GAA4ErJ,KAAK,CAACe,kBAAN,CAAyBwI,MAAjN,GACIvJ,KAAK,CAACqC,WAAN,IAAqB,WAArB,GAAmCrC,KAAK,CAACgB,eAAN,IAAyB,KAAzB,GAAiChB,KAAK,CAAC+B,iBAAN,CAAwB,CAAxB,EAA2BsH,aAA5D,GAA4ErJ,KAAK,CAACgB,eAAN,IAAyB,KAAzB,GAAiChB,KAAK,CAACgC,iBAAN,CAAwB,CAAxB,EAA2BqH,aAA5D,GAA4ErJ,KAAK,CAACa,YAAN,CAAmB2I,IAA9M,GACKxJ,KAAK,CAACqC,WAAN,IAAqB,UAArB,IAAmCrC,KAAK,CAACgB,eAAN,IAAyB,KAA7D,GAAsEhB,KAAK,CAACa,YAAN,CAAmBsC,OAAzF,GACKnD,KAAK,CAACqC,WAAN,IAAqB,UAArB,IAAmCrC,KAAK,CAACgB,eAAN,IAAyB,KAA7D,GAAsEhB,KAAK,CAACa,YAAN,CAAmBkD,OAAzF,GAAmG,EAN9D;gBAOnDkF,UAPmD,GAOtC,CAAC;kBACdQ,aAAa,EAAE,IADD;kBAEdC,SAAS,EAAElH,OAAO,CAACmH,UAAR,IAAsB,SAAtB,GAAkC,IAAlC,GAAyCnH,OAAO,CAACmH,UAAR,IAAsB,OAAtB,GAAgC,IAAhC,GAAuCnH,OAAO,CAACmH,UAFrF;kBAGdC,UAAU,EAAE,IAHE;kBAIdC,UAAU,EAAE,IAJE;kBAKdC,OAAO,EAAEtH,OAAO,CAACnC,QAAR,IAAoB,SAApB,GAAgCmC,OAAO,CAACuH,OAAR,CAAgBxK,QAAhB,EAAhC,GAA6DiD,OAAO,CAACuH,OALhE;kBAMdC,IAAI,EAAE,IANQ;kBAOdzG,IAAI,EAAEvD,KAAK,CAACgB,eAPE;kBAQdiJ,EAAE,EAAE,IARU;kBASdC,UAAU,EAAElK,KAAK,CAACe,kBAAN,CAAyBoJ,SATvB;kBAUdC,IAAI,EAAE,IAVQ;kBAWdC,SAAS,EAAE,CAXG;kBAYdC,KAAK,EAAE9H,OAAO,CAACmH,UAAR,IAAsB,OAAtB,GAAgC,IAAhC,GAAuCnH,OAAO,CAAC+H,KAZxC;kBAadC,MAAM,EAAEhI,OAAO,CAAClC,SAbF;kBAcdoB,KAAK,EAAEc,OAAO,CAACd,KAAR,CAAcnC,QAAd,EAdO;kBAediG,GAAG,EAAEhD,OAAO,CAACgD,GAfC;kBAgBdiF,OAAO,EAAE,IAhBK;kBAiBdC,GAAG,EAAElI,OAAO,CAACmI,QAAR,GAAmBnI,OAAO,CAACmI,QAAR,CAAiBC,WAAjB,EAAnB,GAAoD,KAjB3C;kBAkBdC,IAAI,EAAE,IAlBQ;kBAmBdC,IAAI,EAAE,IAnBQ;kBAoBdC,QAAQ,EAAEC,QAAQ,CAACxI,OAAO,CAACuI,QAAT,CApBJ;kBAqBdE,SAAS,EAAEjL,KAAK,CAACkB,YArBH;kBAsBdgK,MAAM,EAAE1I,OAAO,CAACuI,QAtBF;kBAuBdI,cAAc,EAAE/B,UAvBF;kBAwBdgC,kBAAkB,EAAEJ,QAAQ,CAACxI,OAAO,CAAC6I,aAAT,CAxBd;kBAyBdC,SAAS,EAAEtL,KAAK,CAACW,SAzBH;kBA0Bd4K,SAAS,EAAE/I,OAAO,CAACmD,QA1BL;kBA2Bd6F,UAAU,EAAE,IA3BE;kBA4BdC,UAAU,EAAE,IA5BE;kBA6BdC,MAAM,EAAExC,WAAW,CAAC,wBAAD,CA7BL;kBA8BdyC,aAAa,EAAEzC,WAAW,CAAC,6BAAD,CA9BZ;kBA+Bd0C,cAAc,EAAE1C,WAAW,CAAC,gCAAD;gBA/Bb,CAAD,CAPsC;gBAwCvDlJ,KAAK,CAACmJ,OAAN,GAAgB,KAAhB;gBACApE,MAAM,CAAC,gBAAD,EAAmB,KAAnB,CAAN;gBAzCuD;gBAAA,OA0CjD7F,OAAO,CAAC2M,YAAR,CAAqB5C,UAArB,EAAiC6C,IAAjC,CAAsC,UAAAC,QAAQ,EAAI;kBACpD,IAAIA,QAAQ,CAACjJ,IAAT,CAAc,CAAd,EAAiB,MAAjB,KAA4B,4BAAhC,EAA8D;oBAC1D3D,aAAa,CAAC6M,OAAd,CAAsB,kBAAtB,EAA0C,QAA1C,EAAoDD,QAAQ,CAACjJ,IAAT,CAAc,CAAd,EAAiB,MAAjB,CAApD,EAA8E,IAA9E;kBACH,CAFD,MAEO,IAAIiJ,QAAQ,CAACjJ,IAAT,CAAc,CAAd,EAAiBgI,IAAjB,IAAyB,QAA7B,EAAuC;oBAC1C,IAAImB,KAAK,GAAGF,QAAQ,CAACjJ,IAAT,CAAc,CAAd,EAAiB,MAAjB,IAA2BiJ,QAAQ,CAACjJ,IAAT,CAAc,CAAd,EAAiB,MAAjB,CAA3B,GAAsDiJ,QAAQ,CAACjJ,IAAT,CAAc,CAAd,EAAiB,MAAjB,CAAlE;oBACA3D,aAAa,CAAC6M,OAAd,CAAsB,kBAAtB,EAA0C,QAA1C,EAAoDC,KAApD,EAA2D,IAA3D;kBACH,CAHM,MAGA;oBACH9M,aAAa,CAAC6M,OAAd,CAAsBD,QAAQ,CAACjJ,IAAT,CAAc,CAAd,EAAiB,QAAjB,IAA6BiJ,QAAQ,CAACjJ,IAAT,CAAc,CAAd,EAAiB,QAAjB,CAA7B,GAA0DiJ,QAAQ,CAACjJ,IAAT,CAAc,CAAd,EAAiB,iBAAjB,CAAhF,EAAqH,SAArH,EAAgI,2BAAhI,EAA6J,IAA7J;kBACH;;kBACDiC,MAAM,CAAC,gBAAD,EAAmB,KAAnB,CAAN;gBACH,CAVK,EAUH,UAACmH,GAAD,EAAS;kBACR/M,aAAa,CAACgN,MAAd,CAAqBD,GAArB;gBACH,CAZK,aAYK,YAAM;kBAAElM,KAAK,CAACmJ,OAAN,GAAgB,KAAhB;gBAAuB,CAZpC,CA1CiD;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAuD1D,CAzDI;IA2DL;IACMiD,gBA5DD,mCA4DmD5J,OA5DnD,EA4D4D;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAvCxC,KAAuC,SAAvCA,KAAuC,EAAhC+E,MAAgC,SAAhCA,MAAgC,EAAxBmE,WAAwB,SAAxBA,WAAwB;gBAC7DlJ,KAAK,CAACmJ,OAAN,GAAgB,IAAhB;gBACIF,UAFyD,GAE5C,EAF4C;gBAG7DzG,OAAO,CAACM,IAAR,CAAasB,OAAb,CAAqB,UAAAiI,OAAO,EAAI;kBAC5BpD,UAAU,CAAC1E,IAAX,CAAgB;oBACZkF,aAAa,EAAE,IADH;oBAEZC,SAAS,EAAE2C,OAAO,CAAC1C,UAFP;oBAGZC,UAAU,EAAE,IAHA;oBAIZC,UAAU,EAAE,IAJA;oBAKZC,OAAO,EAAEuC,OAAO,CAAC7K,iBAAR,GAA4B6K,OAAO,CAAC7K,iBAApC,GAAwD,CALrD;oBAMZwI,IAAI,EAAE,IANM;oBAOZzG,IAAI,EAAE8I,OAAO,CAACxG,QAPF;oBAQZoE,EAAE,EAAE,IARQ;oBASZC,UAAU,EAAEmC,OAAO,CAACnC,UATR;oBAUZE,IAAI,EAAE,IAVM;oBAWZC,SAAS,EAAE,CAXC;oBAYZC,KAAK,EAAE+B,OAAO,CAACC,OAAR,GAAkBD,OAAO,CAACC,OAAR,CAAgB/D,WAAhB,EAAlB,GAAkD8D,OAAO,CAACC,OAZrD;oBAaZ9B,MAAM,EAAE6B,OAAO,CAAC1L,SAbJ;oBAcZe,KAAK,EAAE2K,OAAO,CAAC3K,KAAR,GAAgB2K,OAAO,CAAC3K,KAAxB,GAAgC,CAd3B;oBAeZ8D,GAAG,EAAE6G,OAAO,CAAC5K,QAfD;oBAgBZgJ,OAAO,EAAE,IAhBG;oBAiBZC,GAAG,EAAE2B,OAAO,CAAC1B,QAAR,GAAmB0B,OAAO,CAAC1B,QAAR,CAAiBC,WAAjB,EAAnB,GAAoD,KAjB7C;oBAkBZC,IAAI,EAAE,IAlBM;oBAmBZC,IAAI,EAAE,IAnBM;oBAoBZC,QAAQ,EAAEsB,OAAO,CAACE,QAAR,GAAmBvB,QAAQ,CAACqB,OAAO,CAACE,QAAT,CAA3B,GAAgD,CApB9C;oBAqBZtB,SAAS,EAAEoB,OAAO,CAAC5I,KArBP;oBAsBZyH,MAAM,EAAEmB,OAAO,CAACE,QAAR,GAAmBvB,QAAQ,CAACqB,OAAO,CAACE,QAAT,CAA3B,GAAgD,CAtB5C;oBAuBZpB,cAAc,EAAEkB,OAAO,CAACG,aAvBZ;oBAwBZpB,kBAAkB,EAAEiB,OAAO,CAACI,gBAAR,GAA2BzB,QAAQ,CAACqB,OAAO,CAACI,gBAAT,CAAnC,GAAgE,CAxBxE;oBAyBZnB,SAAS,EAAEe,OAAO,CAACK,eAAR,GAA0BL,OAAO,CAACK,eAAR,CAAwBnE,WAAxB,EAA1B,GAAkE8D,OAAO,CAACK,eAzBzE;oBA0BZnB,SAAS,EAAEc,OAAO,CAAC/K,YAAR,GAAuB+K,OAAO,CAAC/K,YAA/B,GAA8C,CA1B7C;oBA2BZkK,UAAU,EAAE,IA3BA;oBA4BZC,UAAU,EAAE,IA5BA;oBA6BZC,MAAM,EAAExC,WAAW,CAAC,wBAAD,CA7BP;oBA8BZyC,aAAa,EAAEzC,WAAW,CAAC,6BAAD,CA9Bd;oBA+BZ0C,cAAc,EAAE1C,WAAW,CAAC,gCAAD;kBA/Bf,CAAhB;gBAiCH,CAlCD;gBAmCAnG,OAAO,CAACC,GAAR,CAAYiG,UAAZ;gBACAjJ,KAAK,CAACmJ,OAAN,GAAgB,KAAhB;gBAvC6D;gBAAA,OAwCvDjK,OAAO,CAAC2M,YAAR,CAAqB5C,UAArB,EAAiC6C,IAAjC,CAAsC,UAAAC,QAAQ,EAAI;kBACpD,IAAIA,QAAQ,CAACjJ,IAAT,CAAc,CAAd,EAAiB,MAAjB,KAA4B,4BAAhC,EAA8D;oBAC1DiJ,QAAQ,CAACjJ,IAAT,CAAcsB,OAAd,CAAsB,UAAAiI,OAAO,EAAI;sBAC7BlN,aAAa,CAAC6M,OAAd,CAAsB,kBAAtB,EAA0C,QAA1C,EAAoDK,OAAO,CAAC,MAAD,CAA3D,EAAqE,IAArE;oBACH,CAFD;kBAGH,CAJD,MAIO,IAAIN,QAAQ,CAACjJ,IAAT,CAAc,CAAd,EAAiBgI,IAAjB,IAAyB,QAA7B,EAAuC;oBAC1CiB,QAAQ,CAACjJ,IAAT,CAAcsB,OAAd,CAAsB,UAAAiI,OAAO,EAAI;sBAC7BlN,aAAa,CAAC6M,OAAd,CAAsB,kBAAtB,EAA0C,QAA1C,EAAoDK,OAAO,CAAC,MAAD,CAA3D,EAAqE,IAArE;oBACH,CAFD;kBAGH,CAJM,MAIA,IAAGN,QAAQ,CAACjJ,IAAT,CAAc,CAAd,EAAiB6J,IAAjB,IAAyB,iBAA5B,EAA8C;oBACjDxN,aAAa,CAACyN,aAAd;kBACH,CAFM,MAED;oBACFb,QAAQ,CAACjJ,IAAT,CAAcsB,OAAd,CAAsB,UAAAiI,OAAO,EAAI;sBAC7BlN,aAAa,CAAC6M,OAAd,CAAsBK,OAAO,CAAC,QAAD,CAAP,GAAoBA,OAAO,CAAC,QAAD,CAA3B,GAAwCA,OAAO,CAAC,iBAAD,CAArE,EAA0F,SAA1F,EAAqG,2BAArG,EAAkI,IAAlI;oBACH,CAFD;kBAGH;;kBACDtH,MAAM,CAAC,gBAAD,EAAmB,KAAnB,CAAN;kBACA3F,MAAM,CAACmF,IAAP,CAAY,SAAZ;kBACIQ,MAAM,CAAC,gBAAD,EAAmB,EAAnB,EAAuB;oBAAC8H,IAAI,EAAG;kBAAR,CAAvB,CAAN;gBACP,CAnBK,EAmBH,UAACX,GAAD,EAAS;kBACR/M,aAAa,CAACgN,MAAd,CAAqBD,GAArB;gBACH,CArBK,aAqBK,YAAM;kBAAElM,KAAK,CAACmJ,OAAN,GAAgB,KAAhB;gBAAuB,CArBpC,CAxCuD;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IA8DhE,CA1HI;IA4HL;IACM/G,WA7HD,8BA6H8CI,OA7H9C,EA6HuD;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAvCxC,KAAuC,SAAvCA,KAAuC,EAAhC+E,MAAgC,SAAhCA,MAAgC,EAAxBmE,WAAwB,SAAxBA,WAAwB;gBACpDD,UADoD,GACvC;kBACb6D,UAAU,EAAE9M,KAAK,CAACa,YAAN,CAAmB,WAAnB,CADC;kBAEbiJ,OAAO,EAAEtH,OAAO,CAACnC,QAAR,IAAoB,SAApB,GAAgCmC,OAAO,CAACuH,OAAR,CAAgBxK,QAAhB,EAAhC,GAA6DiD,OAAO,CAACuH,OAFjE;kBAGbxG,IAAI,EAAEvD,KAAK,CAACa,YAAN,CAAmB,UAAnB,CAHO;kBAIbkM,OAAO,EAAE/M,KAAK,CAACa,YAAN,CAAmB,OAAnB,CAJI;kBAKbmM,cAAc,EAAEhN,KAAK,CAACa,YAAN,CAAmB,YAAnB,CALH;kBAMboM,MAAM,EAAEjN,KAAK,CAACa,YAAN,CAAmB,QAAnB,CANK;kBAObqM,eAAe,EAAElN,KAAK,CAACa,YAAN,CAAmB,UAAnB,CAPJ;kBAQbyJ,KAAK,EAAEtK,KAAK,CAACa,YAAN,CAAmB,OAAnB,KAA+B,KAA/B,GAAuC,KAAvC,GAA+Cb,KAAK,CAACa,YAAN,CAAmB,OAAnB,CARzC;kBASb2J,MAAM,EAAEhI,OAAO,CAAClC,SATH;kBAUb6M,UAAU,EAAEjE,WAAW,CAAC,gCAAD,CAAX,CAA8CiE,UAV7C;kBAWbzL,KAAK,EAAEc,OAAO,CAACd,KAAR,CAAcnC,QAAd,EAXM;kBAYbiG,GAAG,EAAEhD,OAAO,CAACgD,GAZA;kBAab4H,UAAU,EAAEpN,KAAK,CAACa,YAAN,CAAmB,OAAnB,CAbC;kBAcboK,SAAS,EAAEjL,KAAK,CAACa,YAAN,CAAmB,OAAnB,CAdE;kBAebsK,cAAc,EAAEnL,KAAK,CAACa,YAAN,CAAmB,OAAnB,CAfH;kBAgBbyK,SAAS,EAAEtL,KAAK,CAACW,SAhBJ;kBAiBb4K,SAAS,EAAE/I,OAAO,CAACmD,QAjBN;kBAkBb+F,MAAM,EAAExC,WAAW,CAAC,wBAAD,CAlBN;kBAmBbyB,QAAQ,EAAEnI,OAAO,CAACmI,QAAR,GAAmBnI,OAAO,CAACmI,QAAR,CAAiBC,WAAjB,EAAnB,GAAoD;gBAnBjD,CADuC;gBAsBxD5K,KAAK,CAACmJ,OAAN,GAAgB,IAAhB;gBAtBwD;gBAAA,OAuBlDjK,OAAO,CAACkD,WAAR,CAAoB6G,UAApB,EAAgC6C,IAAhC,CAAqC,UAAAC,QAAQ,EAAI;kBACnD,IAAIA,QAAQ,CAACsB,MAAT,IAAmB,GAAnB,IAA0BtB,QAAQ,CAACjJ,IAAT,CAAcgI,IAAd,IAAsB,IAApD,EAA0D;oBACtD3L,aAAa,CAAC6M,OAAd,CAAsB,uBAAtB,EAA+C,SAA/C,EAA0D,uCAA1D,EAAmG,IAAnG;kBACH,CAFD,MAEO;oBACH7M,aAAa,CAAC6M,OAAd,CAAsB,oBAAtB,EAA4C,QAA5C,EAAsDD,QAAQ,CAACjJ,IAAT,CAAc6J,IAApE,EAA0E,IAA1E;kBACH;;kBACD5H,MAAM,CAAC,gBAAD,EAAmB,KAAnB,CAAN;gBACH,CAPK,EAOH,UAACmH,GAAD,EAAS;kBACR/M,aAAa,CAACgN,MAAd,CAAqBD,GAArB;gBACH,CATK,aASK,YAAM;kBAAElM,KAAK,CAACmJ,OAAN,GAAgB,KAAhB;gBAAwB,CATrC,CAvBkD;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAiC3D,CA9JI;IAgKL;IACMmE,gBAjKD,mCAiKmD9K,OAjKnD,EAiK4D;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAvCxC,KAAuC,SAAvCA,KAAuC,EAAhC+E,MAAgC,SAAhCA,MAAgC,EAAxBmE,WAAwB,SAAxBA,WAAwB;;gBAC7D,IAAIlJ,KAAK,CAACqC,WAAN,IAAqB,UAAzB,EAAqC;kBAC7BkB,IAD6B,GACtBvD,KAAK,CAACa,YAAN,CAAmBqC,QAAnB,IAA+BlD,KAAK,CAACa,YAAN,CAAmBsC,OAAnB,IAA8B,GAA7D,GAAmEnD,KAAK,CAACa,YAAN,CAAmBqC,QAAtF,GAAiGlD,KAAK,CAACa,YAAN,CAAmBuC,QAD9F;kBAE7BK,KAF6B,GAErBF,IAAI,IAAI,KAAR,GAAgBvD,KAAK,CAACa,YAAN,CAAmBwC,MAAnC,GAA4CrD,KAAK,CAACa,YAAN,CAAmByC,MAF1C;gBAGpC,CAHD,MAGO,IAAItD,KAAK,CAACqC,WAAN,IAAqB,WAAzB,EAAsC;kBACrCkB,IADqC,GAC9Bf,OAAO,CAACe,IADsB;kBAErCE,KAFqC,GAE7BjB,OAAO,CAACe,IAAR,IAAgB,KAAhB,GAAwBvD,KAAK,CAACa,YAAN,CAAmB2C,QAA3C,GAAsDxD,KAAK,CAACa,YAAN,CAAmB4C,KAF5C;gBAG5C,CAHM,MAGA,IAAIzD,KAAK,CAACqC,WAAN,IAAqB,QAAzB,EAAmC;kBAClCkB,IADkC,GAC3BvD,KAAK,CAACa,YAAN,CAAmBgF,QADQ;kBAElCpC,KAFkC,GAE1BzD,KAAK,CAACa,YAAN,CAAmB4C,KAFO;gBAGzC,CAHM,MAGA;kBACCF,IADD,GACQvD,KAAK,CAACqC,WAAN,IAAqB,SAArB,GAAiCrC,KAAK,CAACa,YAAN,CAAmB0C,IAApD,GAA2DvD,KAAK,CAACa,YAAN,CAAmB6C,QADtF;kBAECD,KAFD,GAESzD,KAAK,CAACqC,WAAN,IAAqB,WAArB,GAAmCrC,KAAK,CAACa,YAAN,CAAmB8C,KAAtD,GAA8D3D,KAAK,CAACa,YAAN,CAAmB4C,KAF1F;gBAGN;;gBACG8J,IAdyD,GAclD;kBACP,QAAQhK,IADD;kBAEP,UAAUE,KAAK,GAAGA,KAAH,GAAWzD,KAAK,CAACa,YAAN,CAAmB2M,MAFtC;kBAGP,UAAUrI,YAAY,CAACsI,OAAb,CAAqB,QAArB,CAHH;kBAIP,iBAAiBtI,YAAY,CAACsI,OAAb,CAAqB,WAArB;gBAJV,CAdkD;gBAAA;gBAAA,OAoBvDvO,OAAO,CAACoO,gBAAR,CAAyBC,IAAzB,EAA+BzB,IAA/B,CAAoC,UAAAC,QAAQ,EAAI;kBAClD/L,KAAK,CAACU,SAAN,IAAmB,KAAnB,GAA2BqE,MAAM,CAAC,cAAD,EAAiB,KAAjB,CAAjC,GAA2D,EAA3D;;kBACA,IAAIgH,QAAQ,CAACjJ,IAAT,CAAckH,IAAd,IAAsB,iBAAtB,IAA2C+B,QAAQ,CAACjJ,IAAT,IAAiB,EAAhE,EAAoE;oBAChE3D,aAAa,CAACyN,aAAd;kBACH,CAFD,MAEO,IAAIb,QAAQ,CAACsB,MAAT,IAAmB,GAAvB,EAA4B;oBAC/BtI,MAAM,CAAC,sBAAD,EAAyBgH,QAAQ,CAACjJ,IAAlC,CAAN;kBACH;gBACJ,CAPK,EAOH,UAACoJ,GAAD,EAAS;kBACR/M,aAAa,CAACgN,MAAd,CAAqBD,GAArB;gBACH,CATK,aASK,YAAM,CAAG,CATd,CApBuD;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IA8BhE,CA/LI;IAiML;IACMwB,oBAlMD,uCAkMiElL,OAlMjE,EAkM0E;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAjDxC,KAAiD,SAAjDA,KAAiD,EAA1C+E,MAA0C,SAA1CA,MAA0C,EAAlCH,QAAkC,SAAlCA,QAAkC,EAAxBsE,WAAwB,SAAxBA,WAAwB;;gBAC3E,IAAG1G,OAAO,CAACS,IAAR,IAAgB,OAAnB,EAA2B;kBACnBM,IADmB,GACZf,OAAO,CAACe,IADI;kBAEnBE,KAFmB,GAEXjB,OAAO,CAACiB,KAFG;gBAG1B,CAHD,MAGK;kBACL,IAAIjB,OAAO,CAACS,IAAZ,EAAkB;oBACVM,IADU,GACHf,OAAO,CAAClD,KAAR,CAAcqO,EADX;oBAEVlK,KAFU,GAEFjB,OAAO,CAAClD,KAAR,CAAcmE,KAFZ;kBAGjB,CAHD,MAGO;oBACH,IAAIzD,KAAK,CAACqC,WAAN,IAAqB,UAAzB,EAAqC;sBAC7BkB,IAD6B,GACtBvD,KAAK,CAACa,YAAN,CAAmBqC,QAAnB,IAA+BlD,KAAK,CAACa,YAAN,CAAmBsC,OAAnB,IAA8B,GAA7D,GAAmEnD,KAAK,CAACa,YAAN,CAAmBqC,QAAtF,GAAiGlD,KAAK,CAACa,YAAN,CAAmBuC,QAD9F;sBAE7BK,KAF6B,GAErBF,IAAI,IAAI,KAAR,GAAgBvD,KAAK,CAACa,YAAN,CAAmBwC,MAAnC,GAA4CrD,KAAK,CAACa,YAAN,CAAmByC,MAF1C;oBAGpC,CAHD,MAGO,IAAItD,KAAK,CAACqC,WAAN,IAAqB,WAAzB,EAAsC;sBACrCkB,IADqC,GAC9Bf,OAAO,CAACe,IADsB;sBAErCE,KAFqC,GAE7BjB,OAAO,CAACe,IAAR,IAAgB,KAAhB,GAAwBvD,KAAK,CAACa,YAAN,CAAmB2C,QAA3C,GAAsDxD,KAAK,CAACa,YAAN,CAAmB4C,KAF5C;oBAG5C,CAHM,MAGA,IAAIzD,KAAK,CAACqC,WAAN,IAAqB,QAAzB,EAAmC;sBAClCkB,IADkC,GAC3BvD,KAAK,CAACa,YAAN,CAAmBgF,QADQ;sBAElCpC,KAFkC,GAE1BzD,KAAK,CAACa,YAAN,CAAmB4C,KAFO;oBAGzC,CAHM,MAGA;sBACCF,IADD,GACQvD,KAAK,CAACqC,WAAN,IAAqB,SAArB,GAAiCrC,KAAK,CAACa,YAAN,CAAmB0C,IAApD,GAA2DvD,KAAK,CAACa,YAAN,CAAmB6C,QADtF;sBAECD,KAFD,GAESzD,KAAK,CAACqC,WAAN,IAAqB,WAArB,GAAmCrC,KAAK,CAACa,YAAN,CAAmB8C,KAAtD,GAA8D3D,KAAK,CAACa,YAAN,CAAmB4C,KAF1F;oBAGN;kBACJ;gBACJ;;gBACO8J,IAxBuE,GAwBhE;kBACP,QAAQhK,IADD;kBAEP,UAAUE,KAAK,GAAGA,KAAH,GAAWzD,KAAK,CAACa,YAAN,CAAmB2M,MAFtC;kBAGP,UAAUrI,YAAY,CAACsI,OAAb,CAAqB,QAArB,CAHH;kBAIP,iBAAiBtI,YAAY,CAACsI,OAAb,CAAqB,WAArB;gBAJV,CAxBgE;gBAAA;gBAAA,OA8BrEvO,OAAO,CAACwO,oBAAR,CAA6BH,IAA7B,EAAmCzB,IAAnC,CAAwC,UAAAC,QAAQ,EAAI;kBACtD,IAAIA,QAAQ,CAACjJ,IAAT,CAAckH,IAAd,IAAsB,iBAA1B,EAA6C;oBACzC7K,aAAa,CAACyN,aAAd;kBACH,CAFD,MAEO,IAAIb,QAAQ,CAACsB,MAAT,IAAmB,GAAvB,EAA4B;oBAE/B,IAAI7K,OAAO,CAACS,IAAR,IAAgB,OAApB,EAA6B;sBACzB8I,QAAQ,CAACjJ,IAAT,CAAcgC,GAAd,GAAqBtC,OAAO,CAACoL,IAAR,IAAgB,SAAhB,GAA4B1E,WAAW,CAAC,cAAD,CAAX,CAA4B,MAA5B,EAAoC,KAApC,CAA5B,GAAyE1G,OAAO,CAACoL,IAAR,IAAgB,UAAhB,GAA6B1E,WAAW,CAAC,cAAD,CAAX,CAA4B,MAA5B,EAAoC,KAApC,CAA7B,GAA0E1G,OAAO,CAACoL,IAAR,IAAgB,UAAhB,GAA6B1E,WAAW,CAAC,cAAD,CAAX,CAA4B,MAA5B,EAAoC,UAApC,CAA7B,GAA+E1G,OAAO,CAACoL,IAAR,IAAgB,UAAhB,IAA8B1E,WAAW,CAAC,cAAD,CAAX,CAA4B,MAA5B,EAAoC,KAApC,CAA9B,GAA2EA,WAAW,CAAC,cAAD,CAAX,CAA4B,MAA5B,EAAoC,KAApC,CAA3E,GAAwH6C,QAAQ,CAACjJ,IAAT,CAAcgC,GAA7X;sBACAC,MAAM,CAAC,mBAAD,EAAsBgH,QAAQ,CAACjJ,IAA/B,CAAN;oBAEH,CAJD,MAIO;sBACHiC,MAAM,CAAC,uBAAD,EAA0BgH,QAAQ,CAACjJ,IAAnC,CAAN,CADG,CAEH;sBACA;sBACA;sBACA;sBACA;sBACA;oBACH;kBACJ,CAfM,MAeA,IAAIiJ,QAAQ,CAACjJ,IAAT,CAAckH,IAAd,IAAsB,iBAA1B,EAA6C;oBAChD7K,aAAa,CAACyN,aAAd;kBACH;gBACJ,CArBK,EAqBH,UAACV,GAAD,EAAS;kBACR/M,aAAa,CAACgN,MAAd,CAAqBD,GAArB;gBACH,CAvBK,aAuBK,YAAM,CAAG,CAvBd,CA9BqE;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAsD9E,CAxPI;IA0PC2B,gBA1PD,mCA0PgDC,SA1PhD,EA0P2D;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAtC9N,KAAsC,SAAtCA,KAAsC,EAA/B+E,MAA+B,SAA/BA,MAA+B,EAAvBH,QAAuB,SAAvBA,QAAuB;;gBAE5D;gBACA,IAAK5E,KAAK,CAACa,YAAN,CAAmB,UAAnB,KAAkC,QAAlC,IAA8Cb,KAAK,CAACa,YAAN,CAAmB,UAAnB,KAAkC,QAAhF,IAA4Fb,KAAK,CAACa,YAAN,CAAmB,UAAnB,KAAkC,QAA9H,IAA0Ib,KAAK,CAACa,YAAN,CAAmB,YAAnB,KAAoC,QAA9K,IAA0Lb,KAAK,CAACa,YAAN,CAAmB,UAAnB,KAAkC,QAA5N,IAAwOb,KAAK,CAACa,YAAN,CAAmB,YAAnB,KAAoC,QAA7Q,IAA2R,CAACb,KAAK,CAACa,YAAN,CAAmB,YAAnB,KAAoC,QAApC,IAAgDb,KAAK,CAACa,YAAN,CAAmB,UAAnB,KAAkC,QAAlF,IAA8Fb,KAAK,CAACa,YAAN,CAAmB,UAAnB,KAAkC,QAAjI,KAA8Ib,KAAK,CAACgB,eAAN,IAAyB,KAAtc,EAA8c;kBAC1c8M,SAAS,CAACC,SAAV,GAAsB/N,KAAK,CAACmB,MAAN,GAAeuD,UAAU,CAACoJ,SAAS,CAACC,SAAX,CAAV,GAAkCrJ,UAAU,CAACoJ,SAAS,CAACC,SAAX,CAAjF,GAAyG/N,KAAK,CAACmB,MAAN,GAAe,CAAxH;gBACH,CAFD,MAEO;kBACH2M,SAAS,CAACC,SAAV,GAAsB/N,KAAK,CAACmB,MAAN,GAAeuD,UAAU,CAACoJ,SAAS,CAACC,SAAX,CAA/C,GAAuE/N,KAAK,CAACmB,MAAN,GAAe,CAAtF;gBACH,CAP2D,CAS5D;;;gBACA9B,YAAY,CAACyO,SAAS,CAAChJ,GAAX,CAAZ,GAA8B9E,KAAK,CAACoB,GAAN,GAAY0M,SAAS,CAAChJ,GAApD,GAA0D9E,KAAK,CAACoB,GAAN,GAAY,MAAtE;gBACApB,KAAK,CAACgB,eAAN,IAAyB,KAAzB,GAAiC0D,UAAU,CAAC1E,KAAK,CAACoB,GAAP,CAAV,CAAsB4M,OAAtB,CAA8B,CAA9B,CAAjC,GAAoEtJ,UAAU,CAAC1E,KAAK,CAACoB,GAAP,CAAV,CAAsB4M,OAAtB,CAA8B,CAA9B,CAApE;gBAEAF,SAAS,GAAG/I,MAAM,CAAC,cAAD,EAAiB+I,SAAjB,CAAT,GAAuC,EAAhD;gBACA/I,MAAM,CAAC,iBAAD,EAAoB/E,KAAK,CAACoB,GAA1B,CAAN;gBACA2D,MAAM,CAAC,oBAAD,EAAuB/E,KAAK,CAACoB,GAA7B,CAAN;gBACA2D,MAAM,CAAC,kBAAD,EAAqB,KAArB,CAAN;gBACAA,MAAM,CAAC,aAAD,EAAiB,EAAjB,CAAN;;gBACA,IAAI/E,KAAK,CAACoC,WAAV,EAAuB;kBACnB2C,MAAM,CAAC,iBAAD,EAAoB/E,KAAK,CAACa,YAAN,CAAmBoN,GAAnB,IAA0B,CAA1B,GAA8BjO,KAAK,CAACoB,GAApC,GAA0C/B,YAAY,CAACW,KAAK,CAACa,YAAN,CAAmBoN,GAApB,CAAZ,GAAuCjO,KAAK,CAACa,YAAN,CAAmBoN,GAA1D,GAAgE,MAA9H,CAAN;kBACAlJ,MAAM,CAAC,oBAAD,EAAuB1F,YAAY,CAACW,KAAK,CAACa,YAAN,CAAmBqN,MAApB,CAAZ,GAA0CxJ,UAAU,CAAC1E,KAAK,CAACa,YAAN,CAAmBqN,MAApB,CAAV,IAAyC,CAAzC,GAA6ClO,KAAK,CAACa,YAAN,CAAmBqN,MAAhE,GAAyElO,KAAK,CAACoB,GAAzH,GAA+H,MAAtJ,CAAN;kBACA2D,MAAM,CAAC,iBAAD,EAAoB1F,YAAY,CAACW,KAAK,CAACa,YAAN,CAAmBsN,MAApB,CAAZ,GAA0CnO,KAAK,CAACa,YAAN,CAAmBsN,MAA7D,GAAsE,CAA1F,CAAN;gBACH;;gBACD1O,WAAW,GAvBiD,CAwB5D;;cAxB4D;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAyB/D,CAnRI;IAqRL2O,gBArRK,mCAqR0C5L,OArR1C,EAqRmD;MAAA,IAApCxC,KAAoC,SAApCA,KAAoC;MAAA,IAA7B+E,MAA6B,SAA7BA,MAA6B;MAAA,IAArBH,QAAqB,SAArBA,QAAqB;MAEpDG,MAAM,CAAC,cAAD,EAAiBvC,OAAjB,CAAN,CAFoD,CAGpD;MACA;IACH,CA1RI;IA4RL6L,kBA5RK,qCA4RkC7L,OA5RlC,EA4R2C;MAAA,IAA1BxC,KAA0B,SAA1BA,KAA0B;MAAA,IAAnB+E,MAAmB,SAAnBA,MAAmB;;MAE5C;MACA,IAAII,YAAY,CAACsI,OAAb,CAAqB,iBAArB,MAA4CjL,OAAO,CAACS,IAAR,IAAgB,SAAhB,IAA6BT,OAAO,CAACS,IAAR,IAAgB,QAAhB,IAA4B,CAACjD,KAAK,CAACoC,WAA5G,CAAJ,EAA8H;QAC1H,IAAIkM,UAAU,GAAGjJ,IAAI,CAACkJ,KAAL,CAAWpJ,YAAY,CAACsI,OAAb,CAAqB,iBAArB,CAAX,CAAjB;QACA,IAAIlN,QAAQ,GAAG,CAACP,KAAK,CAACgB,eAAN,IAAyB,KAAzB,IAAkChB,KAAK,CAACgB,eAAN,IAAyB,KAA5D,KAAsEsN,UAAU,CAAC,SAAD,CAAV,IAAyB,MAA/F,GAAwG,MAAxG,GAAiHA,UAAU,CAAC,SAAD,CAA1I,CAF0H,CAI1H;;QACAA,UAAU,CAAC,SAAD,CAAV,IAAyB,SAAzB,GAAqCA,UAAU,CAAC,SAAD,CAAV,GAAwB,SAA7D,GAAyEA,UAAU,CAAC,SAAD,CAAV,IAAyB,OAAzB,GAAmCA,UAAU,CAAC,SAAD,CAAV,GAAwB,OAA3D,GAAqEA,UAAU,CAAC,SAAD,CAAV,IAAyB,SAAzB,GAAqCA,UAAU,CAAC,SAAD,CAAV,GAAwB,SAA7D,GAAyEA,UAAU,CAAC,SAAD,CAAV,IAAyB,KAAzB,GAAiCA,UAAU,CAAC,SAAD,CAAV,GAAwB,KAAzD,GAAiE,EAAxR;QACA,IAAIjO,QAAQ,GAAGL,KAAK,CAACC,aAAN,CAAoBuO,OAApB,CAA4BF,UAAU,CAAC,SAAD,CAAtC,CAAf;QACA,IAAIhO,SAAS,GAAGgO,UAAU,CAAC,WAAD,CAA1B;QACA,IAAI3D,QAAQ,GAAG2D,UAAU,CAAC,UAAD,CAAzB;QACAvJ,MAAM,CAAC,aAAD,EAAgB1E,QAAhB,CAAN;QACA0E,MAAM,CAAC,aAAD,EAAgBxE,QAAhB,CAAN;QACAwE,MAAM,CAAC,cAAD,EAAiBzE,SAAjB,CAAN;QACAyE,MAAM,CAAC,iBAAD,EAAoB4F,QAApB,CAAN;MACH,CAbD,MAaO,IAAInI,OAAO,CAACS,IAAR,IAAgB,UAApB,EAAgC;QACnC8B,MAAM,CAAC,aAAD,EAAgB,CAAhB,CAAN;QACAA,MAAM,CAAC,aAAD,EAAgB,KAAhB,CAAN;QACAA,MAAM,CAAC,cAAD,EAAiB,KAAjB,CAAN;QACAA,MAAM,CAAC,iBAAD,EAAoB,KAApB,CAAN;MACH,CALM,MAKA,IAAIvC,OAAO,CAACS,IAAR,IAAgB,WAApB,EAAiC;QACpC8B,MAAM,CAAC,aAAD,EAAgB,CAAhB,CAAN;QACAA,MAAM,CAAC,aAAD,EAAgBvC,OAAO,CAACM,IAAR,CAAa2L,KAA7B,CAAN;QACA1J,MAAM,CAAC,cAAD,EAAiB,KAAjB,CAAN;QACAA,MAAM,CAAC,iBAAD,EAAoB,KAApB,CAAN;MACH;IACJ,CAvTI;IAyTL2J,aAzTK,gCAyTqBlM,OAzTrB,EAyT8B;MAAA,IAAlBxC,KAAkB,SAAlBA,KAAkB;MAC/BA,KAAK,CAACqB,UAAN,GAAmBrB,KAAK,CAACgB,eAAN,IAAyB,KAAzB,IAAkChB,KAAK,CAACgB,eAAN,IAAyB,KAA3D,GAAmE0D,UAAU,CAAClC,OAAD,CAAV,CAAoBwL,OAApB,CAA4B,CAA5B,CAAnE,GAAoGtJ,UAAU,CAAClC,OAAD,CAAV,CAAoBwL,OAApB,CAA4B,CAA5B,CAAvH;IACH,CA3TI;IA6TL;IACMW,kBA9TD,sCA8T+DnM,OA9T/D,EA8TwE;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAjDxC,KAAiD,UAAjDA,KAAiD,EAA1C+E,MAA0C,UAA1CA,MAA0C,EAAlCH,QAAkC,UAAlCA,QAAkC,EAAxBsE,WAAwB,UAAxBA,WAAwB;gBACzEnE,MAAM,CAAC,iBAAD,EAAoB,IAApB,CAAN;gBACIwI,IAFqE,GAE9D;kBACP,UAAUrE,WAAW,CAAC,wBAAD,CADd;kBAGP;kBACD;kBACC;kBACA;kBACA;kBACA;kBACA;kBACA;kBACA;kBACA;kBACA;kBACA;kBAEA,QAAQlJ,KAAK,CAACgB,eAhBP;kBAiBP,WAAWhB,KAAK,CAACgB,eAjBV;kBAkBP,UAAUhB,KAAK,CAACkB,YAlBT;kBAmBP,SAASlB,KAAK,CAACO,QAAN,GAAiBP,KAAK,CAACO,QAAvB,GAAkC,KAnBpC;kBAoBP,SAAUP,KAAK,CAAC0B,KAAN,CAAYnC,QAAZ,EApBH;kBAqBP,OAAOyL,QAAQ,CAAChL,KAAK,CAACyB,QAAP,CArBR;kBAsBP,aAAazB,KAAK,CAACW,SAtBZ;kBAuBP,UAAUX,KAAK,CAACM,SAAN,GAAkBN,KAAK,CAACM,SAAxB,GAAoC,GAvBvC;kBAwBP,aAAaN,KAAK,CAACsB,YAxBZ;kBAyBP,UAAUtB,KAAK,CAAC4O,WAzBT;kBA0BP,YAAY5O,KAAK,CAAC6O,aA1BX;kBA2BP,sBAAsB7O,KAAK,CAAC8O,kBA3BrB;kBA4BP,aAAa9O,KAAK,CAACoC,WAAN,GAAoBpC,KAAK,CAACa,YAAN,CAAmBkO,mBAAvC,GAA8D/O,KAAK,CAACC,aAAN,CAAoBD,KAAK,CAACK,QAA1B;gBA5BpE,CAF8D;gBAAA;gBAAA,OAiCnEnB,OAAO,CAAC8P,WAAR,CAAoBzB,IAApB,EAA0BzB,IAA1B,CAA+B,UAAAC,QAAQ,EAAI;kBAC7C,IAAIA,QAAQ,CAACsB,MAAT,IAAmB,KAAnB,IAA4BtB,QAAQ,CAACjJ,IAAT,CAAcgI,IAAd,IAAsB,IAAtD,EAA4D;oBACxD/F,MAAM,CAAC,oBAAD,EAAuBgH,QAAQ,CAACjJ,IAAT,CAAc,cAAd,CAAvB,CAAN;kBACH,CAFD,MAEM,IAAGiJ,QAAQ,CAACjJ,IAAT,CAAcgI,IAAd,IAAsB,IAAtB,IAA8BiB,QAAQ,CAACjJ,IAAT,CAAckH,IAAd,IAAsB,iBAAvD,EAAyE;oBAC3E7K,aAAa,CAACyN,aAAd;kBACH,CAFK,MAED;oBACD7H,MAAM,CAAC,oBAAD,EAAuB,IAAvB,CAAN;kBACH;gBACJ,CARK,EAQH,UAACmH,GAAD,EAAS;kBACR/M,aAAa,CAACgN,MAAd,CAAqBD,GAArB;gBACH,CAVK,aAUK,YAAM;kBAAEnH,MAAM,CAAC,iBAAD,EAAoB,KAApB,CAAN;gBAAkC,CAV/C,CAjCmE;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IA4C5E;EA1WI,CA7XO;EA0uBhBkK,OAAO,EAAE;IACLC,YADK,wBACSlP,KADT,EACgB;MACjB,OAAOA,KAAK,CAACM,SAAb;IACH,CAHI;IAIL6O,WAJK,uBAIQnP,KAJR,EAIe;MAChB,OAAOA,KAAK,CAACO,QAAb;IACH,CANI;IAOL6O,WAPK,uBAOQpP,KAPR,EAOe;MAChB,OAAOA,KAAK,CAACK,QAAb;IACH,CATI;IAULgP,eAVK,2BAUYrP,KAVZ,EAUmB;MACpB,OAAOA,KAAK,CAACQ,YAAb;IACH,CAZI;IAaL8O,eAbK,2BAaYtP,KAbZ,EAamB;MACpB,OAAOA,KAAK,CAACsB,YAAb;IACH,CAfI;IAgBLiO,aAAa,EAAE,uBAAAvP,KAAK,EAAI;MACpB,OAAOA,KAAK,CAACqB,UAAb;IACH,CAlBI;IAmBLmO,eAAe,EAAE,yBAAAxP,KAAK,EAAI;MACtB,OAAOA,KAAK,CAACkB,YAAb;IACH,CArBI;IAsBLuO,kBAAkB,EAAE,4BAAAzP,KAAK,EAAI;MACzB,OAAOA,KAAK,CAACoI,eAAb;IACH;EAxBI;AA1uBO,CAApB;AAswBA,eAAetI,WAAf"}]}